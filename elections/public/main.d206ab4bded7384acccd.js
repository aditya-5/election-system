(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=Object(r.g)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(r.e)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=Object(r.g)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=s),this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a});var i="8.7.1";r.a.registerVersion("firebase",i,"app"),r.a.SDK_VERSION=i},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return an}),n.d(e,"b",function(){return eu}),n.d(e,"c",function(){return Ja}),n.d(e,"d",function(){return $a}),n.d(e,"e",function(){return Qa}),n.d(e,"f",function(){return $u}),n.d(e,"g",function(){return Vu}),n.d(e,"h",function(){return Zs}),n.d(e,"i",function(){return du}),n.d(e,"j",function(){return Ss}),n.d(e,"k",function(){return iu}),n.d(e,"l",function(){return As}),n.d(e,"m",function(){return wr}),n.d(e,"n",function(){return xa}),n.d(e,"o",function(){return to}),n.d(e,"p",function(){return mn}),n.d(e,"q",function(){return sn}),n.d(e,"r",function(){return yo}),n.d(e,"s",function(){return Gs}),n.d(e,"t",function(){return Ws}),n.d(e,"u",function(){return ru}),n.d(e,"v",function(){return ca}),n.d(e,"w",function(){return Uu}),n.d(e,"x",function(){return ua}),n.d(e,"y",function(){return Nu}),n.d(e,"z",function(){return gu}),n.d(e,"A",function(){return yn}),n.d(e,"B",function(){return tu}),n.d(e,"C",function(){return Xa}),n.d(e,"D",function(){return js}),n.d(e,"E",function(){return ks}),n.d(e,"F",function(){return Or}),n.d(e,"G",function(){return Ns}),n.d(e,"H",function(){return gr}),n.d(e,"I",function(){return bn}),n.d(e,"J",function(){return Hu}),n.d(e,"K",function(){return ia}),n.d(e,"L",function(){return Eu}),n.d(e,"M",function(){return un}),n.d(e,"N",function(){return Rs}),n.d(e,"O",function(){return Ds}),n.d(e,"P",function(){return ha}),n.d(e,"Q",function(){return V}),n.d(e,"R",function(){return Du}),n.d(e,"S",function(){return ju}),n.d(e,"T",function(){return w}),n.d(e,"U",function(){return ku}),n.d(e,"V",function(){return Gu}),n.d(e,"W",function(){return Su}),n.d(e,"X",function(){return nu}),n.d(e,"Y",function(){return no}),n.d(e,"Z",function(){return hs}),n.d(e,"ab",function(){return fr}),n.d(e,"bb",function(){return Jn}),n.d(e,"cb",function(){return Fn}),n.d(e,"db",function(){return qn}),n.d(e,"eb",function(){return Kn}),n.d(e,"fb",function(){return Hn}),n.d(e,"gb",function(){return Bn}),n.d(e,"hb",function(){return zn}),n.d(e,"ib",function(){return as}),n.d(e,"jb",function(){return Ku}),n.d(e,"kb",function(){return us}),n.d(e,"lb",function(){return cs}),n.d(e,"mb",function(){return Un}),n.d(e,"nb",function(){return H}),n.d(e,"ob",function(){return To}),n.d(e,"pb",function(){return qo}),n.d(e,"qb",function(){return Uo}),n.d(e,"rb",function(){return ss}),n.d(e,"sb",function(){return jt}),n.d(e,"tb",function(){return y}),n.d(e,"ub",function(){return Vn}),n.d(e,"vb",function(){return bo}),n.d(e,"wb",function(){return St}),n.d(e,"xb",function(){return Es}),n.d(e,"yb",function(){return si}),n.d(e,"zb",function(){return ko}),n.d(e,"Ab",function(){return Qo}),n.d(e,"Bb",function(){return Ba}),n.d(e,"Cb",function(){return tt}),n.d(e,"Db",function(){return at}),n.d(e,"Eb",function(){return C}),n.d(e,"Fb",function(){return O}),n.d(e,"Gb",function(){return it}),n.d(e,"Hb",function(){return ut}),n.d(e,"Ib",function(){return No}),n.d(e,"Jb",function(){return Vo}),n.d(e,"Kb",function(){return Mo}),n.d(e,"Lb",function(){return Lo}),n.d(e,"Mb",function(){return Fo}),n.d(e,"Nb",function(){return en}),n.d(e,"Ob",function(){return ns}),n.d(e,"Pb",function(){return An}),n.d(e,"Qb",function(){return nn}),n.d(e,"Rb",function(){return Wa}),n.d(e,"Sb",function(){return Bo}),n.d(e,"Tb",function(){return Ha}),n.d(e,"Ub",function(){return Ko}),n.d(e,"Vb",function(){return Do}),n.d(e,"Wb",function(){return Ta}),n.d(e,"Xb",function(){return Ia}),n.d(e,"Yb",function(){return Ua}),n.d(e,"Zb",function(){return Po}),n.d(e,"ac",function(){return Qt}),n.d(e,"bc",function(){return mr}),n.d(e,"cc",function(){return ot}),n.d(e,"dc",function(){return jo}),n.d(e,"ec",function(){return ts}),n.d(e,"fc",function(){return es}),n.d(e,"gc",function(){return qa});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const d=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function m(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function y(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(y).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function v(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const b=g({__forward_ref__:g});function w(t){return t.__forward_ref__=w,t.toString=function(){return y(this())},t}function _(t){return E(t)?t():t}function E(t){return"function"==typeof t&&t.hasOwnProperty(b)&&t.__forward_ref__===w}function C(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function O(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function S(t){return T(t,x)||T(t,k)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function I(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(j))?t[A]:null}const x=g({"\u0275prov":g}),A=g({"\u0275inj":g}),k=g({ngInjectableDef:g}),j=g({ngInjectorDef:g});var P=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let N;function D(t){const e=N;return N=t,e}function R(t,e,n){const r=S(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&P.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${y(t)}]`)}function L(t){return{toString:t}.toString()}var M=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),V=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const F="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,H=F||B||U||q,z={},K=[],G=g({"\u0275cmp":g}),W=g({"\u0275dir":g}),$=g({"\u0275pipe":g}),Q=g({"\u0275mod":g}),J=g({"\u0275loc":g}),Y=g({"\u0275fac":g}),Z=g({__NG_ELEMENT_ID__:g});let X=0;function tt(t){return L(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===M.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||K,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||V.Emulated,id:"c",styles:t.styles||K,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=X++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[W]||null}(t)}function nt(t){return function(t){return t[$]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||K,declarations:t.declarations||K,imports:t.imports||K,exports:t.exports||K,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&L(()=>{rt[t.id]=t.type}),e}function ot(t,e){return L(()=>{const n=lt(t,!0);n.declarations=e.declarations||K,n.imports=e.imports||K,n.exports=e.exports||K})}function st(t,e){if(null==t)return z;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[G]||null}function lt(t,e){const n=t[Q]||null;if(!n&&!0===e)throw new Error(`Type ${y(t)} does not have '\u0275mod' property.`);return n}const ht=20,dt=10;function ft(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(Y)?t[Y]:null}class wt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function _t(t){return"string"==typeof t?t:null==t?"":String(t)}function Et(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_t(t)}function Ct(t,e){const n=e?" in "+e:"";throw new wt("201",`No provider for ${Et(t)} found${n}`)}class Ot{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function St(){return Tt}function Tt(t){return t.type.prototype.ngOnChanges&&(t.setInput=xt),It}function It(){const t=At(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===z)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function xt(t,e,n,r){const i=At(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:z,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Ot(u&&u.currentValue,e,s===z),t[r]=e}function At(t){return t.__ngSimpleChanges__||null}St.ngInherit=!0;let kt=void 0;function jt(t){kt=t}function Pt(t){return!!t.listen}const Nt={createRenderer:(t,e)=>void 0!==kt?kt:"undefined"!=typeof document?document:void 0};function Dt(t){for(;Array.isArray(t);)t=t[0];return t}function Rt(t,e){return Dt(e[t])}function Lt(t,e){return Dt(e[t.index])}function Mt(t,e){return t.data[e]}function Vt(t,e){const n=e[t];return ft(n)?n:n[0]}function Ft(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ut(t){return 4==(4&t[2])}function qt(t){return 128==(128&t[2])}function Bt(t,e){return null==e?null:t[e]}function Ht(t){t[18]=0}function zt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Kt={lFrame:de(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Gt(){return Kt.bindingsEnabled}function Wt(){return Kt.lFrame.lView}function $t(){return Kt.lFrame.tView}function Qt(t){Kt.lFrame.contextLView=t}function Jt(){let t=Yt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Yt(){return Kt.lFrame.currentTNode}function Zt(t,e){const n=Kt.lFrame;n.currentTNode=t,n.isParent=e}function Xt(){return Kt.lFrame.isParent}function te(){return Kt.isInCheckNoChangesMode}function ee(t){Kt.isInCheckNoChangesMode=t}function ne(){const t=Kt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function re(){return Kt.lFrame.bindingIndex++}function ie(t,e){const n=Kt.lFrame;n.bindingIndex=n.bindingRootIndex=t,oe(e)}function oe(t){Kt.lFrame.currentDirectiveIndex=t}function se(){return Kt.lFrame.currentQueryIndex}function ae(t){Kt.lFrame.currentQueryIndex=t}function ue(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ce(t,e,n){if(n&P.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&P.Host||(r=ue(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Kt.lFrame=he();return r.currentTNode=e,r.lView=t,!0}function le(t){const e=he(),n=t[1];Kt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function he(){const t=Kt.lFrame,e=null===t?null:t.child;return null===e?de(t):e}function de(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function fe(){const t=Kt.lFrame;return Kt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const pe=fe;function ge(){const t=fe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function me(){return Kt.lFrame.selectedIndex}function ye(t){Kt.lFrame.selectedIndex=t}function ve(){const t=Kt.lFrame;return Mt(t.tView,t.selectedIndex)}function be(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function we(t,e,n){Ce(t,e,3,n)}function _e(t,e,n,r){(3&t[2])===n&&Ce(t,e,n,r)}function Ee(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ce(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Oe(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Oe(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Se=-1;class Te{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ie(t,e,n){const r=Pt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ae(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function xe(t){return 3===t||4===t||6===t}function Ae(t){return 64===t.charCodeAt(0)}function ke(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||je(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function je(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Pe(t){return t!==Se}function Ne(t){return 32767&t}function De(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Re=!0;function Le(t){const e=Re;return Re=t,e}let Me=0;function Ve(t,e){const n=Ue(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Fe(r.data,t),Fe(e,null),Fe(r.blueprint,null));const i=qe(t,e),o=t.injectorIndex;if(Pe(i)){const t=Ne(i),n=De(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Fe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ue(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function qe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Se;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Se}function Be(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(r=n[Z]),null==r&&(r=n[Z]=Me++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function He(t,e,n){if(n&P.Optional)return t;Ct(e,"NodeInjector")}function ze(t,e,n,r){if(n&P.Optional&&void 0===r&&(r=null),0==(n&(P.Self|P.Host))){const i=t[9],o=D(void 0);try{return i?i.get(e,r,n&P.Optional):R(e,r,n&P.Optional)}finally{D(o)}}return He(r,e,n)}function Ke(t,e,n,r=P.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Z)?t[Z]:void 0;return"number"==typeof e?e>=0?255&e:We:e}(n);if("function"==typeof o){if(!ce(e,t,r))return r&P.Host?He(i,n,r):ze(e,n,r,i);try{const t=o();if(null!=t||r&P.Optional)return t;Ct(n)}finally{pe()}}else if("number"==typeof o){let i=null,s=Ue(t,e),a=Se,u=r&P.Host?e[16][6]:null;for((-1===s||r&P.SkipSelf)&&(a=-1===s?qe(t,e):e[s+8],a!==Se&&Ze(r,!1)?(i=e[1],s=Ne(a),e=De(a,e)):s=-1);-1!==s;){const t=e[1];if(Ye(o,s,t.data)){const t=$e(s,e,n,i,r,u);if(t!==Ge)return t}a=e[s+8],a!==Se&&Ze(r,e[1].data[s+8]===u)&&Ye(o,s,e)?(i=t,s=Ne(a),e=De(a,e)):s=-1}}}return ze(e,n,r,i)}const Ge={};function We(){return new Xe(Jt(),Wt())}function $e(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Qe(a,s,n,null==r?mt(a)&&Re:r!=s&&0!=(3&a.type),i&P.Host&&o===a);return null!==u?Je(e,s,u,a):Ge}function Qe(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&vt(t)&&t.type===n)return u}return null}function Je(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Te){const s=i;s.resolving&&function(t,e){throw new wt("200","Circular dependency in DI detected for "+t)}(Et(o[n]));const a=Le(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?D(s.injectImpl):null;ce(t,r,P.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Tt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&D(u),Le(a),s.resolving=!1,pe()}}return i}function Ye(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Ze(t,e){return!(t&P.Self||t&P.Host&&e)}class Xe{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ke(this._tNode,this._lView,t,void 0,e)}}function tn(t){const e=t;if(E(t))return()=>{const t=tn(_(e));return t?t():null};let n=bt(e);if(null===n){const t=I(e);n=t&&t.factory}return n||null}function en(t){return L(()=>{const e=t.prototype.constructor,n=e[Y]||tn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Y]||tn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function nn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(xe(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Jt(),t)}const rn="__parameters__";function on(t,e,n){return L(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(rn)?t[rn]:Object.defineProperty(t,rn,{value:[]})[rn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class sn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=C({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const an=new sn("AnalyzeForEntryComponents"),un=Function;function cn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),cn(r,e)):e!==t&&e.push(r)}return e}function ln(t,e){t.forEach(t=>Array.isArray(t)?ln(t,e):e(t))}function hn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function fn(t,e,n){let r=gn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function pn(t,e){const n=gn(t,e);if(n>=0)return t[1|n]}function gn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const mn=on("Inject",t=>({token:t})),yn=on("Optional"),vn=on("Self"),bn=on("SkipSelf"),wn=on("Host"),_n={},En=/\n/gm,Cn="__source",On=g({provide:String,useValue:g});let Sn,Tn=void 0;function In(t){const e=Tn;return Tn=t,e}function xn(t,e=P.Default){if(void 0===Tn)throw new Error("inject() must be called from an injection context");return null===Tn?R(t,void 0,e):Tn.get(t,e&P.Optional?null:void 0,e)}function An(t,e=P.Default){return(N||xn)(_(t),e)}function kn(t){const e=[];for(let n=0;n<t.length;n++){const r=_(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=P.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof yn||"Optional"===i.ngMetadataName||i===yn?n|=P.Optional:i instanceof bn||"SkipSelf"===i.ngMetadataName||i===bn?n|=P.SkipSelf:i instanceof vn||"Self"===i.ngMetadataName||i===vn?n|=P.Self:i instanceof wn||"Host"===i.ngMetadataName||i===wn?n|=P.Host:t=i instanceof mn||i===mn?i.token:i}e.push(An(t,n))}else e.push(An(r))}return e}function jn(t){var e;return(null===(e=function(){if(void 0===Sn&&(Sn=null,H.trustedTypes))try{Sn=H.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Sn}())||void 0===e?void 0:e.createHTML(t))||t}class Pn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Nn extends Pn{getTypeName(){return"HTML"}}class Dn extends Pn{getTypeName(){return"Style"}}class Rn extends Pn{getTypeName(){return"Script"}}class Ln extends Pn{getTypeName(){return"URL"}}class Mn extends Pn{getTypeName(){return"ResourceURL"}}function Vn(t){return t instanceof Pn?t.changingThisBreaksApplicationSecurity:t}function Fn(t,e){const n=Un(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Un(t){return t instanceof Pn&&t.getTypeName()||null}function qn(t){return new Nn(t)}function Bn(t){return new Dn(t)}function Hn(t){return new Rn(t)}function zn(t){return new Ln(t)}function Kn(t){return new Mn(t)}class Gn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(jn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Wn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=jn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=jn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const $n=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Qn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jn(t){return(t=String(t)).match($n)||t.match(Qn)?t:"unsafe:"+t}function Yn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Zn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Xn=Yn("area,br,col,hr,img,wbr"),tr=Yn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),er=Yn("rp,rt"),nr=Zn(er,tr),rr=Zn(Xn,Zn(tr,Yn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zn(er,Yn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nr),ir=Yn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),or=Yn("srcset"),sr=Zn(ir,or,Yn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ar=Yn("script,style,template");class ur{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!rr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ar.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!sr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ir[o]&&(s=Jn(s)),or[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Jn(t.trim())).join(", ")),this.buf.push(" ",e,'="',hr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();rr.hasOwnProperty(e)&&!Xn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(hr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const cr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lr=/([^\#-~ |!])/g;function hr(t){return t.replace(/&/g,"&amp;").replace(cr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(lr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dr;function fr(t,e){let n=null;try{dr=dr||function(t){const e=new Wn(t);return function(){try{return!!(new window.DOMParser).parseFromString(jn(""),"text/html")}catch(t){return!1}}()?new Gn(e):e}(t);let r=e?String(e):"";n=dr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=dr.getInertBodyElement(r)}while(r!==o);return(new ur).sanitizeChildren(pr(n)||n)}finally{if(n){const t=pr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function pr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var gr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function mr(t){const e=function(){const t=Wt();return t&&t[12]}();return e?e.sanitize(gr.URL,t)||"":Fn(t,"URL")?Vn(t):Jn(_t(t))}function yr(t){return t.ngDebugContext}function vr(t){return t.ngOriginalError}function br(t,...e){t.error(...e)}class wr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||br}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?yr(t)?yr(t):this._findContext(vr(t)):null}_findOriginalError(t){let e=vr(t);for(;e&&vr(e);)e=vr(e);return e}}function _r(t,e){t.__ngContext__=e}const Er=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function Cr(t){return t instanceof Function?t():t}var Or=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Sr(t,e){return(void 0)(t,e)}function Tr(t){const e=t[3];return pt(e)?e[3]:e}function Ir(t){return Ar(t[13])}function xr(t){return Ar(t[4])}function Ar(t){for(;null!==t&&!pt(t);)t=t[4];return t}function kr(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:ft(r)&&(s=!0,r=r[0]);const a=Dt(r);0===t&&null!==n?null==i?Mr(e,n,a):Lr(e,n,a,i||null,!0):1===t&&null!==n?Lr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Fr(t,e);r&&function(t,e,n,r){Pt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Dt(n)&&kr(e,t,r,o,i);for(let s=dt;s<n.length;s++){const i=n[s];zr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function jr(t,e,n){return Pt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Pr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,zt(i,-1)),n.splice(r,1)}function Nr(t,e){if(t.length<=dt)return;const n=dt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Pr(o,r),e>0&&(t[n-1][4]=r[4]);const s=dn(t,dt+e);zr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Dr(t,e){if(!(256&e[2])){const n=e[11];Pt(n)&&n.destroyNode&&zr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Rr(t[1],t);for(;e;){let n=null;if(ft(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ft(e)&&Rr(e[1],e),e=e[3];null===e&&(e=t),ft(e)&&Rr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Rr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Te)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Dt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Pt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Pr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Lr(t,e,n,r,i){Pt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Mr(t,e,n){Pt(t)?t.appendChild(e,n):e.appendChild(n)}function Vr(t,e,n,r,i){null!==r?Lr(t,e,n,r,i):Mr(t,e,n)}function Fr(t,e){return Pt(t)?t.parentNode(e):e.parentNode}function Ur(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===V.None||e===V.Emulated)return null}return Lt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Lt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Vr(o,i,n[a],s,!1);else Vr(o,i,n,s,!1)}function qr(t,e){if(null!==e){const n=e.type;if(3&n)return Lt(e,t);if(4&n)return Br(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return qr(t,n);{const n=t[e.index];return pt(n)?Br(-1,n):Dt(n)}}if(32&n)return Sr(e,t)()||Dt(t[e.index]);{const n=t[16],r=n[6],i=Tr(n),o=r.projection[e.projection];return null!=o?qr(i,o):qr(t,e.next)}}return null}function Br(t,e){const n=dt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return qr(t,r)}return e[7]}function Hr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&_r(Dt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Hr(t,e,n.child,r,i,o,!1),kr(e,t,i,a,o);else if(32&u){const s=Sr(n,r);let u;for(;u=s();)kr(e,t,i,u,o);kr(e,t,i,a,o)}else 16&u?Kr(t,e,r,n,i,o):kr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function zr(t,e,n,r,i,o){Hr(n,r,t.firstChild,e,i,o,!1)}function Kr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)kr(e,t,i,a[u],o);else Hr(t,e,a,s[3],i,o,!0)}function Gr(t,e,n){Pt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Wr(t,e,n){Pt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function $r(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Qr="ng-template";function Jr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==$r(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Yr(t){return 4===t.type&&t.value!==Qr}function Zr(t,e,n){return e===(4!==t.type||n?t.value:Qr)}function Xr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(xe(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Zr(t,u,n)||""===u&&1===e.length){if(ti(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Jr(t.attrs,c,n)){if(ti(r))return!1;s=!0}continue}const l=ei(8&r?"class":u,i,Yr(t),n);if(-1===l){if(ti(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==$r(e,c,0)||2&r&&c!==t){if(ti(r))return!1;s=!0}}}}else{if(!s&&!ti(r)&&!ti(u))return!1;if(s&&ti(u))continue;s=!1,r=u|1&r}}return ti(r)||s}function ti(t){return 0==(1&t)}function ei(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ni(t,e,n=!1){for(let r=0;r<e.length;r++)if(Xr(t,e[r],n))return!0;return!1}function ri(t,e){return t?":not("+e.trim()+")":e}function ii(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ti(s)||(e+=ri(o,i),i=""),r=s,o=o||!ti(r);n++}return""!==i&&(e+=ri(o,i)),e}const oi={};function si(t){ai($t(),Wt(),me()+t,te())}function ai(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&we(e,r,n)}else{const r=t.preOrderHooks;null!==r&&_e(e,r,0,n)}ye(n)}function ui(t,e){return t<<17|e<<2}function ci(t){return t>>17&32767}function li(t){return 2|t}function hi(t){return(131068&t)>>2}function di(t,e){return-131069&t|e<<2}function fi(t){return 1|t}function pi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ae(i),n.contentQueries(2,e[o],o)}}}function gi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ht(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function mi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Yt(),s=Xt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Kt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Kt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Zt(o,!0),o}function yi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function vi(t,e,n){le(e);try{const r=t.viewQuery;null!==r&&Wi(1,r,n);const i=t.template;null!==i&&_i(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&pi(t,e),t.staticViewQueries&&Wi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Bi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ge()}}function bi(t,e,n,r){const i=e[2];if(256==(256&i))return;le(e);const o=te();try{Ht(e),Kt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&_i(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&we(e,n,null)}else{const n=t.preOrderHooks;null!==n&&_e(e,n,0,null),Ee(e,0)}if(function(t){for(let e=Ir(t);null!==e;e=xr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&zt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ir(t);null!==e;e=xr(e))for(let t=dt;t<e.length;t++){const n=e[t],r=n[1];qt(n)&&bi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&pi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&we(e,n)}else{const n=t.contentHooks;null!==n&&_e(e,n,1),Ee(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ye(~r);else{const i=r,o=n[++t],s=n[++t];ie(o,i),s(2,e[i])}}}finally{ye(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Ui(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Wi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&we(e,n)}else{const n=t.viewHooks;null!==n&&_e(e,n,2),Ee(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,zt(e[3],-1))}finally{ge()}}function wi(t,e,n,r){const i=e[10],o=!te(),s=Ut(e);try{o&&!s&&i.begin&&i.begin(),s&&vi(t,e,r),bi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function _i(t,e,n,r,i){const o=me();try{ye(-1),2&r&&e.length>ht&&ai(t,e,ht,te()),n(r,i)}finally{ye(o)}}function Ei(t,e,n){Gt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ve(n,e),_r(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=vt(r);o&&Li(e,n,r);const u=Je(e,t,a,n);_r(u,e),null!==s&&Mi(0,a-i,u,r,0,s),o&&(Vt(n.index,e)[8]=u)}}(t,e,n,Lt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Kt.lFrame.currentDirectiveIndex;try{ye(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];oe(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||ji(r,i)}}finally{ye(-1),oe(s)}}(t,e,n))}function Ci(t,e,n=Lt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Oi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Si(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Si(t,e,n,r,i,o,s,a,u,c){const l=ht+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:oi);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Ti(t,e,n,r){const i=Qi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Ji(t).push(r,i.length-1))}function Ii(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function xi(t,e,n,r,i,o,s,a){const u=Lt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Zi(t,n,c,r,i),mt(e)&&function(t,e){const n=Vt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,Pt(o)?o.setProperty(u,r,i):Ae(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ai(t,e,n,r){let i=!1;if(Gt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ni(n,s.selectors,!1)&&(i||(i=[]),Be(Ve(n,e),t,s.type),vt(s)?(Pi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Di(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=yi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=ke(n.mergedAttrs,c.hostAttrs),Ri(t,n,e,u,c),Ni(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Yr(e)?null:Vi(n,i);o.push(c),s=Ii(n,u,s),a=Ii(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new wt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=ke(n.mergedAttrs,n.attrs),i}function ki(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function ji(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Pi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ni(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function Di(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ri(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=bt(i.type)),s=new Te(o,vt(i),null);t.blueprint[r]=s,n[r]=s,ki(t,e,0,r,yi(t,n,i.hostVars,oi),i)}function Li(t,e,n){const r=Lt(e,t),i=Oi(n),o=t[10],s=Hi(t,gi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Mi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Vi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Fi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ui(t,e){const n=Vt(e,t);if(qt(n)){const t=n[1];80&n[2]?bi(t,n,t.template,n[8]):n[5]>0&&qi(n)}}function qi(t){for(let n=Ir(t);null!==n;n=xr(n))for(let t=dt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];bi(t,e,t.template,e[8])}else e[5]>0&&qi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Vt(e[n],t);qt(r)&&r[5]>0&&qi(r)}}function Bi(t,e){const n=Vt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),vi(r,n,n[8])}function Hi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function zi(t){for(;t;){t[2]|=64;const e=Tr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ki(t,e,n){const r=e[10];r.begin&&r.begin();try{bi(t,e,t.template,n)}catch(i){throw Yi(e,i),i}finally{r.end&&r.end()}}function Gi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ft(n),i=r[1];wi(i,r,i.template,n)}}(t[8])}function Wi(t,e,n){ae(0),e(t,n)}const $i=(()=>Promise.resolve(null))();function Qi(t){return t[7]||(t[7]=[])}function Ji(t){return t.cleanup||(t.cleanup=[])}function Yi(t,e){const n=t[9],r=n?n.get(wr,null):null;r&&r.handleError(e)}function Zi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Xi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=v(i,t):2==o&&(r=v(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const to=new sn("INJECTOR",-1);class eo{get(t,e=_n){if(e===_n){const e=new Error(`NullInjectorError: No provider for ${y(t)}!`);throw e.name="NullInjectorError",e}return e}}const no=new sn("Set Injector scope."),ro={},io={},oo=[];let so=void 0;function ao(){return void 0===so&&(so=new eo),so}function uo(t,e=null,n=null,r){return new co(t,n,e||ao(),r)}class co{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ln(e,n=>this.processProvider(n,t,e)),ln([t],t=>this.processInjectorType(t,[],i)),this.records.set(to,fo(void 0,this));const o=this.records.get(no);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:y(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=_n,n=P.Default){this.assertNotDestroyed();const r=In(this);try{if(!(n&P.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof sn)&&S(t);e=n&&this.injectableDefInScope(n)?fo(lo(t),ro):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&P.Self?ao():this.parent).get(t,e=n&P.Optional&&e===_n?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(y(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Cn]&&i.unshift(e[Cn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=y(e);if(Array.isArray(e))i=e.map(y).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):y(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(En,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{In(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(y(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=_(t)))return!1;let r=I(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=I(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{ln(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ln(r,t=>this.processProvider(t,n,r||oo))}}this.injectorDefTypes.add(o),this.records.set(o,fo(r.factory,ro));const a=r.providers;if(null!=a&&!s){const e=t;ln(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=go(t=_(t))?t:_(t&&t.provide);const i=function(t,e,n){return po(t)?fo(void 0,t.useValue):fo(ho(t),ro)}(t);if(go(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=fo(void 0,ro,!0),e.factory=()=>kn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ro&&(e.value=io,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function lo(t){const e=S(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;const r=I(t);if(null!==r)return r.factory;if(t instanceof sn)throw new Error(`Token ${y(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${y(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[k]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ho(t,e,n){let r=void 0;if(go(t)){const e=_(t);return bt(e)||lo(e)}if(po(t))r=()=>_(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...kn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>An(_(t.useExisting));else{const e=_(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||lo(e);r=()=>new e(...kn(t.deps))}var i;return r}function fo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function po(t){return null!==t&&"object"==typeof t&&On in t}function go(t){return"function"==typeof t}const mo=function(t,e,n){return function(t,e=null,n=null,r){const i=uo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let yo=(()=>{class t{static create(t,e){return Array.isArray(t)?mo(t,e,""):mo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=_n,t.NULL=new eo,t.\u0275prov=C({token:t,providedIn:"any",factory:()=>An(to)}),t.__NG_ELEMENT_ID__=-1,t})();function vo(t,e){be(Ft(t)[1],Jt())}function bo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=wo(t.inputs),e.declaredInputs=wo(t.declaredInputs),e.outputs=wo(t.outputs);const n=i.hostBindings;n&&Co(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&_o(t,o),s&&Eo(t,s),m(t.inputs,i.inputs),m(t.declaredInputs,i.declaredInputs),m(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===bo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ke(i.hostAttrs,n=ke(n,i.hostAttrs))}}(r)}function wo(t){return t===z?{}:t===K?[]:t}function _o(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Eo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Co(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Oo=null;function So(){if(!Oo){const t=H.Symbol;if(t&&t.iterator)Oo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Oo=n)}}}return Oo}function To(t){return!!Io(t)&&(Array.isArray(t)||!(t instanceof Map)&&So()in t)}function Io(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function xo(t,e,n){return t[e]=n}function Ao(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ko(t,e,n,r){const i=Wt();return Ao(i,re(),e)&&($t(),function(t,e,n,r,i,o){const s=Lt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Pt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?_t(o):s(o,r||"",i);Pt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(ve(),i,t,e,n,r)),ko}function jo(t,e,n,r,i,o,s,a){const u=Wt(),c=$t(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=mi(e,t,4,s||null,Bt(c,a));Ai(e,n,l,Bt(c,u)),be(e,l);const h=l.tViews=Si(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Zt(h,!1);const d=u[11].createComment("");Ur(c,u,d,h),_r(d,u),Hi(u,u[l]=Fi(d,u,d,h)),yt(h)&&Ei(c,u,h),null!=s&&Ci(u,h,a)}function Po(t){return function(t,e){return t[e]}(Kt.lFrame.contextLView,ht+t)}function No(t,e=P.Default){const n=Wt();return null===n?An(t,e):Ke(Jt(),n,_(t),e)}function Do(t,e,n){const r=Wt();return Ao(r,re(),e)&&xi($t(),ve(),r,t,e,r[11],n,!1),Do}function Ro(t,e,n,r,i){const o=i?"class":"style";Zi(t,n,e.inputs[o],o,r)}function Lo(t,e,n,r){const i=Wt(),o=$t(),s=ht+t,a=i[11],u=i[s]=jr(a,e,Kt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=mi(e,t,2,i,Bt(a,o));return Ai(e,n,u,Bt(a,s)),null!==u.attrs&&Xi(u,u.attrs,!1),null!==u.mergedAttrs&&Xi(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Zt(c,!0);const l=c.mergedAttrs;null!==l&&Ie(a,u,l);const h=c.classes;null!==h&&Wr(a,u,h);const d=c.styles;null!==d&&Gr(a,u,d),64!=(64&c.flags)&&Ur(o,i,u,c),0===Kt.lFrame.elementDepthCount&&_r(u,i),Kt.lFrame.elementDepthCount++,yt(c)&&(Ei(o,i,c),function(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Ci(i,c)}function Mo(){let t=Jt();Xt()?Kt.lFrame.isParent=!1:(t=t.parent,Zt(t,!1));const e=t;Kt.lFrame.elementDepthCount--;const n=$t();n.firstCreatePass&&(be(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ro(n,e,Wt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ro(n,e,Wt(),e.stylesWithoutHost,!1)}function Vo(t,e,n,r){Lo(t,e,n,r),Mo()}function Fo(){return Wt()}function Uo(t){return!!t&&"function"==typeof t.then}function qo(t){return!!t&&"function"==typeof t.subscribe}function Bo(t,e,n=!1,r){const i=Wt(),o=$t(),s=Jt();return function(t,e,n,r,i,o,s=!1,a){const u=yt(r),c=t.firstCreatePass&&Ji(t),l=Qi(e);let h=!0;if(3&r.type){const d=Lt(r,e),f=a?a(d):z,p=f.target||d,g=l.length,m=a?t=>a(Dt(t[r.index])).target:r.index;if(Pt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=zo(r,e,o,!1);const t=n.listen(f.name||p,i,o);l.push(o,t),c&&c.push(i,m,g,g+1)}}else o=zo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,g,s)}else o=zo(r,e,o,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Bo}function Ho(t,e,n){try{return!1!==e(n)}catch(r){return Yi(t,r),!1}}function zo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Vt(t.index,e):e;0==(32&e[2])&&zi(s);let a=Ho(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Ho(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Ko(t=1){return function(t){return(Kt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Kt.lFrame.contextLView))[8]}(t)}const Go=[];function Wo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ci(o):hi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];$o(t[a],e)&&(u=!0,t[a+1]=r?fi(n):li(n)),a=r?ci(n):hi(n)}u&&(t[n+1]=r?li(o):fi(o))}function $o(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&gn(t,e)>=0}function Qo(t,e){return function(t,e,n,r){const i=Wt(),o=$t(),s=function(t){const e=Kt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[me()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Kt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Yo(n=Jo(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Jo(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==hi(r))return t[ci(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Jo(null,t,e,n[1],r),n=Yo(n,e.attrs,r),function(t,e,n,r){t[ci(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Yo(r,t[o].hostAttrs,true);return Yo(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=ci(s),u=hi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||gn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ci(t[a+1]);t[r+1]=ui(e,a),0!==e&&(t[e+1]=di(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ui(a,0),0!==a&&(t[a+1]=di(t[a+1],r)),a=r;else t[r+1]=ui(u,0),0===a?a=r:t[u+1]=di(t[u+1],r),u=r;l&&(t[r+1]=li(t[r+1])),Wo(t,c,r,!0),Wo(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&gn(o,e)>=0&&(n[r+1]=fi(n[r+1]))}(e,c,t,r),s=ui(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==oi&&Ao(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Xo(1==(1&c)?Zo(u,e,n,i,hi(c),s):void 0)||(Xo(o)||function(t){return 2==(2&t)}(c)&&(o=Zo(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Pt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Rt(me(),n),i,o))}(o,o.data[me()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=y(Vn(t))),t}(e),true,s)}(t,e),Qo}function Jo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Yo(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Yo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),fn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Zo(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===oi&&(l=c?Go:void 0);let h=c?pn(l,r):u===r?l:void 0;if(o&&!Xo(h)&&(h=pn(e,r)),Xo(h)&&(a=h,s))return a;const d=t[i+1];i=s?ci(d):hi(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=pn(t,r))}return a}function Xo(t){return void 0!==t}function ts(t,e=""){const n=Wt(),r=$t(),i=t+ht,o=r.firstCreatePass?mi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Pt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Ur(r,n,s,o),Zt(o,!1)}function es(t,e,n){const r=Wt(),i=function(t,e,n,r){return Ao(t,re(),n)?e+_t(n)+r:oi}(r,t,e,n);return i!==oi&&function(t,e,n){const r=Rt(e,t);!function(t,e,n){Pt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,me(),i),es}function ns(t,e,n){const r=Wt();return Ao(r,re(),e)&&xi($t(),ve(),r,t,e,r[11],n,!0),ns}const rs=void 0;var is=["en",[["a","p"],["AM","PM"],rs],[["AM","PM"],rs,rs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",rs,"{1} 'at' {0}",rs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let os={};function ss(t,e,n){"string"!=typeof e&&(n=e,e=t[hs.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),os[e]=t,n&&(os[e][hs.ExtraData]=n)}function as(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ls(e);if(n)return n;const r=e.split("-")[0];if(n=ls(r),n)return n;if("en"===r)return is;throw new Error(`Missing locale data for the locale "${t}".`)}function us(t){return as(t)[hs.CurrencyCode]||null}function cs(t){return as(t)[hs.PluralCase]}function ls(t){return t in os||(os[t]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[t]),os[t]}var hs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ds="en-US";let fs=ds;function ps(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(fs=t.toLowerCase().replace(/_/g,"-"))}function gs(t,e,n,r,i){if(t=_(t),Array.isArray(t))for(let o=0;o<t.length;o++)gs(t[o],e,n,r,i);else{const o=$t(),s=Wt();let a=go(t)?t:_(t.provide),u=ho(t);const c=Jt(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(go(t)||!t.multi){const r=new Te(u,i,No),f=vs(a,e,i?l:l+d,h);-1===f?(Be(Ve(c,s),o,a),ms(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=vs(a,e,l+d,h),p=vs(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Be(Ve(c,s),o,a);const l=function(t,e,n,r,i){const o=new Te(t,n,No);return o.multi=[],o.index=e,o.componentProviders=0,ys(o,i,r&&!n),o}(i?ws:bs,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),ms(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else ms(o,t,f>-1?f:p,ys(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function ms(t,e,n,r){const i=go(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ys(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function vs(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function bs(t,e,n,r){return _s(this.multi,[])}function ws(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Je(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),_s(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],_s(i,o);return o}function _s(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Es(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=$t();if(r.firstCreatePass){const i=vt(t);gs(n,r.data,r.blueprint,i,!0),gs(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Cs{}class Os{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${y(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ss=(()=>{class t{}return t.NULL=new Os,t})();function Ts(...t){}function Is(t,e){return new As(Lt(t,e))}const xs=function(){return Is(Jt(),Wt())};let As=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=xs,t})();class ks{}let js=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ps(),t})();const Ps=function(){const t=Wt(),e=Vt(Jt().index,t);return function(t){return t[11]}(ft(e)?e:t)};let Ns=(()=>{class t{}return t.\u0275prov=C({token:t,providedIn:"root",factory:()=>null}),t})();class Ds{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Rs=new Ds("11.0.9");class Ls{constructor(){}supports(t){return To(t)}create(t){return new Vs(t)}}const Ms=(t,e)=>e;class Vs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ms}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Bs(n,r,i)?e:n,s=Bs(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!To(t))throw new Error(`Error trying to diff '${y(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[So()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Fs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new qs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Fs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Us{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class qs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Us,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Hs{constructor(){}supports(t){return t instanceof Map||Io(t)}create(){return new zs}}class zs{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Io(t)))throw new Error(`Error trying to diff '${y(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ks(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ks{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Gs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new bn,new yn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=C({token:t,providedIn:"root",factory:()=>new t([new Ls])}),t})(),Ws=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new bn,new yn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=C({token:t,providedIn:"root",factory:()=>new t([new Hs])}),t})();function $s(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Dt(o)),pt(o))for(let t=dt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&$s(e[1],e,n,r)}const s=n.type;if(8&s)$s(t,e,n.child,r);else if(32&s){const t=Sr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Tr(t);$s(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Qs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return $s(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Nr(t,n),dn(e,n))}this._attachedToViewContainer=!1}Dr(this._lView[1],this._lView)}onDestroy(t){Ti(this._lView[1],this._lView,null,t)}markForCheck(){zi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ki(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ee(!0);try{Ki(t,e,n)}finally{ee(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,zr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Js extends Qs{constructor(t){super(t),this._view=t}detectChanges(){Gi(this._view)}checkNoChanges(){!function(t){ee(!0);try{Gi(t)}finally{ee(!1)}}(this._view)}get context(){return null}}const Ys=Xs;let Zs=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ys,t.__ChangeDetectorRef__=!0,t})();function Xs(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Vt(t.index,e);return new Qs(n,n)}return 47&t.type?new Qs(e[16],e):null}(Jt(),Wt(),t)}const ta=[new Hs],ea=new Gs([new Ls]),na=new Ws(ta),ra=function(){return aa(Jt(),Wt())};let ia=(()=>{class t{}return t.__NG_ELEMENT_ID__=ra,t})();const oa=ia,sa=class extends oa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=gi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),vi(e,n,t),new Qs(n)}};function aa(t,e){return 4&t.type?new sa(e,t,Is(t,e)):null}class ua{}class ca{}const la=function(){return ma(Jt(),Wt())};let ha=(()=>{class t{}return t.__NG_ELEMENT_ID__=la,t})();const da=ha,fa=class extends da{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Is(this._hostTNode,this._hostLView)}get injector(){return new Xe(this._hostTNode,this._hostLView)}get parentInjector(){const t=qe(this._hostTNode,this._hostLView);if(Pe(t)){const e=De(t,this._hostLView),n=Ne(t);return new Xe(e[1].data[n+8],e)}return new Xe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=pa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-dt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(ua,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new fa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=dt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-dt?(e[4]=n[i],hn(n,dt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Br(i,o),a=n[11],u=Fr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,zr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),hn(ga(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=pa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Nr(this._lContainer,e);n&&(dn(ga(this._lContainer),e),Dr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Nr(this._lContainer,e);return n&&null!=dn(ga(this._lContainer),e)?new Qs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function pa(t){return t[8]}function ga(t){return t[8]||(t[8]=[])}function ma(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Dt(r);else{const n=e[11];i=n.createComment("");const r=Lt(t,e);Lr(n,Fr(n,r),i,function(t,e){return Pt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Fi(r,e,i,t),Hi(e,n)}return new fa(n,t,e)}const ya={};class va extends Ss{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new _a(e,this.ngModule)}}function ba(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const wa=new sn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Er});class _a extends Cs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ii).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ba(this.componentDef.inputs)}get outputs(){return ba(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ya,i);return o!==ya||r===ya?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(ks,Nt),s=i.get(Ns,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Pt(t))return t.selectRootElement(e,n===V.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):jr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Er,clean:$i,playerHandler:null,flags:0},d=Si(0,null,null,1,0,null,null,null,null,null),f=gi(null,d,h,l,null,null,o,a,s,i);let p,g;le(f);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=mi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Xi(a,u,!0),null!==t&&(Ie(i,t,u),null!==a.classes&&Wr(i,t,a.classes),null!==a.styles&&Gr(i,t,a.styles)));const c=r.createRenderer(t,e),l=gi(n,Oi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Be(Ve(a,n),s,e.type),Pi(s,a),Di(a,n.length,1)),Hi(n,l),n[20]=l}(c,this.componentDef,f,o,a);if(c)if(n)Ie(a,c,["ng-version",Rs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ti(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ie(a,c,t),e&&e.length>0&&Wr(a,c,e.join(" "))}if(g=Mt(d,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Jt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ri(t,r,e,yi(t,e,1,null),n));const i=Je(e,t,r.directiveStart,r);_r(i,e);const o=Lt(r,e);return o&&_r(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Jt();e.contentQueries(1,s,t.directiveStart)}const a=Jt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ye(a.index),ki(n[1],a,0,a.directiveStart,a.directiveEnd,e),ji(e,s)),s}(t,this.componentDef,f,h,[vo]),vi(d,f,null)}finally{ge()}return new Ea(this.componentType,p,Is(g,f),f,g)}}class Ea extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Js(r),this.componentType=t}get injector(){return new Xe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ca=new Map;class Oa extends ua{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new va(this);const n=lt(t),r=t[J]||null;r&&ps(r),this._bootstrapComponents=Cr(n.bootstrap),this._r3Injector=uo(t,e,[{provide:ua,useValue:this},{provide:Ss,useValue:this.componentFactoryResolver}],y(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=yo.THROW_IF_NOT_FOUND,n=P.Default){return t===yo||t===ua||t===to?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Sa extends ca{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${y(e)} vs ${y(e.name)}`)}(i,Ca.get(i),n),Ca.set(i,n));const o=Cr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Oa(this.moduleType,t)}}function Ta(t,e,n){const r=ne()+t,i=Wt();return i[r]===oi?xo(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Ia(t,e,n,r){return function(t,e,n,r,i,o){const s=e+n;return Ao(t,s,i)?xo(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===oi?void 0:n}(t,s+1)}(Wt(),ne(),t,e,n,r)}const xa=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Aa(){return this._results[So()]()}class ka{constructor(){this.dirty=!0,this._results=[],this.changes=new xa,this.length=0;const t=So(),e=ka.prototype;e[t]||(e[t]=Aa)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=cn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ja{constructor(t){this.queryList=t,this.matches=null}clone(){return new ja(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pa{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Pa(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ga(t,e).matches&&this.queries[e].setDirty()}}class Na{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Da{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Da(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ra{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ra(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,La(e,i)),this.matchTNodeWithReadOption(t,e,Qe(e,t,i,!1,!1))}else n===ia?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Qe(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===As||r===ha||r===ia&&4&e.type)this.addMatch(e.index,-2);else{const n=Qe(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function La(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ma(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Is(t,e):4&t.type?aa(t,e):null}(e,t):-2===n?function(t,e,n){return n===As?Is(e,t):n===ia?aa(e,t):n===ha?ma(e,t):void 0}(t,e,r):Je(t,t[1],n,e)}function Va(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Ma(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Fa(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Va(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=dt;t<s.length;t++){const e=s[t];e[17]===e[3]&&Fa(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Fa(n[1],n,i,r)}}}}}return r}function Ua(t){const e=Wt(),n=$t(),r=se();ae(r+1);const i=Ga(n,r);if(t.dirty&&Ut(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Fa(n,e,r,[]):Va(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function qa(t,e,n){!function(t,e,n,r,i,o){t.firstCreatePass&&Ka(t,new Na(n,r,false,i),-1),za(t,e)}($t(),Wt(),t,e,n)}function Ba(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(Ka(t,new Na(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),za(t,e)}($t(),Wt(),e,n,r,0,Jt(),t)}function Ha(){return t=Wt(),e=se(),t[19].queries[e].queryList;var t,e}function za(t,e){const n=new ka;Ti(t,e,n,n.destroy),null===e[19]&&(e[19]=new Pa),e[19].queries.push(new ja(n))}function Ka(t,e,n){null===t.queries&&(t.queries=new Da),t.queries.track(new Ra(e,n))}function Ga(t,e){return t.queries.getByIndex(e)}function Wa(t=P.Default){const e=Xs(!0);if(null!=e||t&P.Optional)return e;Ct("ChangeDetectorRef")}const $a=new sn("Application Initializer");let Qa=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ts,this.reject=Ts,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Uo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(An($a,8))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();const Ja=new sn("AppId"),Ya={provide:Ja,useFactory:function(){return`${Za()}${Za()}${Za()}`},deps:[]};function Za(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Xa=new sn("Platform Initializer"),tu=new sn("Platform ID"),eu=new sn("appBootstrapListener");let nu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();const ru=new sn("LocaleId"),iu=new sn("DefaultCurrencyCode");class ou{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const su=function(t){return new Sa(t)},au=su,uu=function(t){return Promise.resolve(su(t))},cu=function(t){const e=su(t),n=Cr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new _a(n)),t},[]);return new ou(e,n)},lu=cu,hu=function(t){return Promise.resolve(cu(t))};let du=(()=>{class t{constructor(){this.compileModuleSync=au,this.compileModuleAsync=uu,this.compileModuleAndAllComponentsSync=lu,this.compileModuleAndAllComponentsAsync=hu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();const fu=(()=>Promise.resolve(0))();function pu(t){"undefined"==typeof Zone?fu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class gu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xa(!1),this.onMicrotaskEmpty=new xa(!1),this.onStable=new xa(!1),this.onError=new xa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=H.requestAnimationFrame,e=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(H,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vu(t),yu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return bu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),wu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return bu(t),e.invoke(r,i,o,s,a)}finally{wu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,vu(t),yu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,mu,Ts,Ts);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const mu={};function yu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function bu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wu(t){t._nesting--,yu(t)}class _u{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xa,this.onMicrotaskEmpty=new xa,this.onStable=new xa,this.onError=new xa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Eu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gu.assertNotInAngularZone(),pu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(An(gu))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})(),Cu=(()=>{class t{constructor(){this._applications=new Map,Iu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Iu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();class Ou{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Su(t){Iu=t}let Tu,Iu=new Ou,xu=!0,Au=!1;function ku(){return Au=!0,xu}function ju(){if(Au)throw new Error("Cannot enable prod mode after platform setup.");xu=!1}const Pu=new sn("AllowMultipleToken");class Nu{constructor(t,e){this.name=t,this.token=e}}function Du(t,e,n=[]){const r="Platform: "+e,i=new sn(r);return(e=[])=>{let o=Ru();if(!o||o.injector.get(Pu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:no,useValue:"platform"});!function(t){if(Tu&&!Tu.destroyed&&!Tu.injector.get(Pu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Tu=t.get(Lu);const e=t.get(Xa,null);e&&e.forEach(t=>t())}(yo.create({providers:t,name:r}))}return function(t){const e=Ru();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ru(){return Tu&&!Tu.destroyed?Tu:null}let Lu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new _u:("zone.js"===t?void 0:t)||new gu({enableLongStackTrace:ku(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:gu,useValue:n}];return n.run(()=>{const e=yo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(wr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Fu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Uo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Qa);return t.runInitializers(),t.donePromise.then(()=>(ps(i.injector.get(ru,ds)||ds),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Mu({},e);return function(t,e,n){const r=new Sa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Vu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${y(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(An(yo))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();function Mu(t,e){return Array.isArray(e)?e.reduce(Mu,t):Object.assign(Object.assign({},t),e)}let Vu=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{gu.assertNotInAngularZone(),pu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{gu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Cs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ua),i=n.create(yo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Eu,null),a=s&&i.injector.get(Cu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Fu(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),ku()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Fu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(eu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(An(gu),An(nu),An(yo),An(wr),An(Ss),An(Qa))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();function Fu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Uu{}class qu{}const Bu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Hu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Bu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>zu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>zu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(An(du),An(qu,8))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();function zu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Ku=function(t){return null},Gu=Du(null,"core",[{provide:tu,useValue:"unknown"},{provide:Lu,deps:[yo]},{provide:Cu,deps:[]},{provide:nu,deps:[]}]),Wu=[{provide:Vu,useClass:Vu,deps:[gu,nu,yo,wr,Ss,Qa]},{provide:wa,deps:[gu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Qa,useClass:Qa,deps:[[new yn,$a]]},{provide:du,useClass:du,deps:[]},Ya,{provide:Gs,useFactory:function(){return ea},deps:[]},{provide:Ws,useFactory:function(){return na},deps:[]},{provide:ru,useFactory:function(t){return ps(t=t||"undefined"!=typeof $localize&&$localize.locale||ds),t},deps:[[new mn(ru),new yn,new bn]]},{provide:iu,useValue:"USD"}];let $u=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=O({factory:function(e){return new(e||t)(An(Vu))},providers:Wu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return E}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return C}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return T}),n.d(e,"i",function(){return c}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return f}),n.d(e,"l",function(){return g}),n.d(e,"m",function(){return m}),n.d(e,"n",function(){return l}),n.d(e,"o",function(){return h}),n.d(e,"p",function(){return p}),n.d(e,"q",function(){return y});var r=n("mrSG"),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function d(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function m(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,b.prototype.create),o}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?w(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new v(i,a,r);return u},t}();function w(t,e){return t.replace(_,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var _=/\{\$([^}]+)}/g;function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}function T(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return O}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),w=new u.O("6.1.5");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&C("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const E=()=>{C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function O(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&C("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:_,deps:[v,u.z,[new u.A,b]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Gb({type:t}),t.\u0275inj=u.Fb({factory:function(e){return new(e||t)(u.Pb(u.B))},providers:[S]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=f){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.g)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.j)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.o)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.28",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i="http://localhost:3000/",o={apiKey:"AIzaSyByWzX-WaULsC7J1CBjP-omROIXgNwdB0Y",authDomain:"election-system-db247.firebaseapp.com",databaseURL:"https://election-system-db247-default-rtdb.europe-west1.firebasedatabase.app",projectId:"election-system-db247",storageBucket:"election-system-db247.appspot.com",messagingSenderId:"629690985467",appId:"1:629690985467:web:097102df60269720fbf95e",measurementId:"G-8D9081QGKB"};let s=null;function a(){return s}const u=new r.q("DocumentToken");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return Object(r.Pb)(d)}const h=new r.q("Location Initialized");let d=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=a().getLocation(),this._history=a().getHistory()}getBaseHrefFromDOM(){return a().getBaseHref(this._doc)}onPopState(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=Object(r.Eb)({factory:p,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function p(){return new d(Object(r.Pb)(u))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.Pb)(u).location;return new _(Object(r.Pb)(c),e&&e.origin||"")}const w=new r.q("appBaseHref");let _=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(c),r.Pb(w,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(c),r.Pb(w,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(v),r.Pb(c))},t.normalizeQueryParams=y,t.joinWithSlash=g,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Eb)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new C(Object(r.Pb)(v),Object(r.Pb)(c))}function S(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const I=r.lb;class x{}let A=(()=>{class t extends x{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(I(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function k(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let j=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.ob)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.tb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.s),r.Ib(r.t),r.Ib(r.l),r.Ib(r.D))},t.\u0275dir=r.Db({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})(),P=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new N,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){D("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){D("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K))},t.\u0275dir=r.Db({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class N{constructor(){this.$implicit=null,this.ngIf=null}}function D(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}let R=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:x,useClass:A}]}),t})();function L(t){return"server"===t}let M=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new V(Object(r.Pb)(u),window)}),t})();class V{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=F(this.window.history)||F(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function F(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class U extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new U,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=B||(B=document.querySelector("base"),B)?B.getAttribute("href"):null;return null==e?null:(n=e,q||(q=document.createElement("a")),q.setAttribute("href",n),"/"===q.pathname.charAt(0)?q.pathname:"/"+q.pathname);var n}resetBaseElement(){B=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return k(document.cookie,t)}}let q,B=null;const H=new r.q("TRANSITION_ID"),z=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=a();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[H,u,r.r],multi:!0}];class K{static init(){Object(r.W)(new K)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const G=new r.q("EventManagerPlugins");let W=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(G),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class ${constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=a().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Q=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),J=(()=>{class t extends Q{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>a().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Z=/%COMP%/g;function X(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?X(t,i,n):(i=i.replace(Z,t),n.push(i))}return n}function tt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let et=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new nt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new rt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new it(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=X(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(W),r.Pb(J),r.Pb(r.c))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class nt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Y[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Y[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Y[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,tt(n)):this.eventManager.addEventListener(t,e,tt(n))}}class rt extends nt{constructor(t,e,n,r){super(t),this.component=n;const i=X(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Z,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Z,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class it extends nt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=X(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ot=(()=>{class t extends ${constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const st=["alt","control","meta","shift"],at={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ut={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ct={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let lt=(()=>{class t extends ${constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>a().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(st.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ut.hasOwnProperty(e)&&(e=ut[e]))}return at[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),st.forEach(r=>{r!=n&&(0,ct[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const ht=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){U.makeCurrent(),K.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],dt=Object(r.R)(r.V,"browser",ht),ft=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:G,useClass:ot,multi:!0,deps:[u,r.z,r.B]},{provide:G,useClass:lt,multi:!0,deps:[u]},[],{provide:et,useClass:et,deps:[W,J,r.c]},{provide:r.E,useExisting:et},{provide:Q,useExisting:J},{provide:J,useClass:J,deps:[u]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:W,useClass:W,deps:[G,r.z]},[]];let pt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:H,useExisting:r.c},z]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(t,12))},providers:ft,imports:[R,r.f]}),t})();"undefined"!=typeof window&&window;var gt=n("HDdC"),mt=n("DH7j"),yt=n("lJxs"),vt=n("XoHu"),bt=n("Cfvw");function wt(t,e){return new gt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(bt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const _t=new r.q("NgValueAccessor"),Et={provide:_t,useExisting:Object(r.T)(()=>Ct),multi:!0};let Ct=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([Et])]}),t})();const Ot={provide:_t,useExisting:Object(r.T)(()=>Tt),multi:!0},St=new r.q("CompositionEventMode");let Tt=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=a()?a().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(St,8))},t.\u0275dir=r.Db({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([Ot])]}),t})();function It(t){return null==t||0===t.length}function xt(t){return null!=t&&"number"==typeof t.length}const At=new r.q("NgValidators"),kt=new r.q("NgAsyncValidators"),jt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pt{static min(t){return e=>{if(It(e.value)||It(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(It(e.value)||It(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return It(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return It(t.value)||jt.test(t.value)?null:{email:!0}}static minLength(t){return e=>It(e.value)||!xt(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>xt(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Pt.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(It(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Nt);return 0==e.length?null:function(t){return Rt(Lt(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Nt);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(mt.a)(e))return wt(e,null);if(Object(vt.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return wt(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return wt(t=1===t.length&&Object(mt.a)(t[0])?t[0]:t,null).pipe(Object(yt.a)(t=>e(...t)))}return wt(t,null)}(Lt(t,e).map(Dt)).pipe(Object(yt.a)(Rt))}}}function Nt(t){return null!=t}function Dt(t){const e=Object(r.qb)(t)?Object(bt.a)(t):t;return Object(r.pb)(e),e}function Rt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Lt(t,e){return e.map(e=>e(t))}function Mt(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Vt(t){return null!=t?Pt.compose(Mt(t)):null}function Ft(t){return null!=t?Pt.composeAsync(Mt(t)):null}function Ut(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let qt=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Vt(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ft(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t}),t})(),Bt=(()=>{class t extends qt{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Ht(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const Ht=r.Nb(Bt);class zt extends qt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Kt{constructor(t){this._cd=t}get ngClassUntouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}get ngClassTouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}get ngClassPristine(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}get ngClassDirty(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}get ngClassValid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}get ngClassInvalid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}get ngClassPending(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}let Gt=(()=>{class t extends Kt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(zt,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),Wt=(()=>{class t extends Kt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Bt,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const $t={provide:_t,useExisting:Object(r.T)(()=>Qt),multi:!0};let Qt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([$t])]}),t})();const Jt={provide:_t,useExisting:Object(r.T)(()=>Zt),multi:!0};let Yt=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Zt=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(zt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Yt),r.Ib(r.r))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([Jt])]}),t})();const Xt={provide:_t,useExisting:Object(r.T)(()=>te),multi:!0};let te=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([Xt])]}),t})();const ee={provide:_t,useExisting:Object(r.T)(()=>ne),multi:!0};let ne=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([ee])]}),t})();const re={provide:_t,useExisting:Object(r.T)(()=>ie),multi:!0};let ie=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([re])]}),t})();function oe(t,e){ae(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ue(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ue(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function se(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ae(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Ut(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(Ut(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();se(e._rawValidators,n),se(e._rawAsyncValidators,n)}}function ue(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const ce=[Ct,te,Qt,ne,ie,Zt];function le(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const he="VALID",de="INVALID",fe="PENDING",pe="DISABLED";function ge(t){return(be(t)?t.validators:t)||null}function me(t){return Array.isArray(t)?Vt(t):t||null}function ye(t,e){return(be(e)?e.asyncValidators:t)||null}function ve(t){return Array.isArray(t)?Ft(t):t||null}function be(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class we{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=me(this._rawValidators),this._composedAsyncValidatorFn=ve(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===he}get invalid(){return this.status===de}get pending(){return this.status==fe}get disabled(){return this.status===pe}get enabled(){return this.status!==pe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=me(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ve(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=fe,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=pe,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=he,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==he&&this.status!==fe||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pe:he}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=fe,this._hasOwnPendingAsyncValidator=!0;const e=Dt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Ee?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ce&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?pe:this.errors?de:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fe)?fe:this._anyControlsHaveStatus(de)?de:he}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){be(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class _e extends we{constructor(t=null,e,n){super(ge(e),ye(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){le(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){le(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ee extends we{constructor(t,e,n){super(ge(e),ye(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof _e?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ce extends we{constructor(t,e,n){super(ge(e),ye(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof _e?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Oe={provide:Bt,useExisting:Object(r.T)(()=>Te)},Se=(()=>Promise.resolve(null))();let Te=(()=>{class t extends Bt{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new Ee({},Vt(t),Ft(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Se.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),oe(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Se.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),le(this._directives,t)})}addFormGroup(t){Se.then(()=>{const e=this._findContainer(t.path),n=new Ee({});(function(t,e){ae(t,e,!1)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Se.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Se.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(At,10),r.Ib(kt,10))},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Sb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([Oe]),r.vb]}),t})();const Ie={provide:zt,useExisting:Object(r.T)(()=>Ae)},xe=(()=>Promise.resolve(null))();let Ae=(()=>{class t extends zt{constructor(t,e,n,i){super(),this.control=new _e,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Tt?n=t:(e=t,ce.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){oe(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){xe.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;xe.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Bt,9),r.Ib(At,10),r.Ib(kt,10),r.Ib(_t,10))},t.\u0275dir=r.Db({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.xb([Ie]),r.vb,r.wb]}),t})(),ke=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const je={provide:At,useExisting:Object(r.T)(()=>Pe),multi:!0};let Pe=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?Pt.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.zb("required",e.required?"":null)},inputs:{required:"required"},features:[r.xb([je])]}),t})();const Ne={provide:At,useExisting:Object(r.T)(()=>De),multi:!0};let De=(()=>{class t{constructor(){this._enabled=!1}set email(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}validate(t){return this._enabled?Pt.email(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[r.xb([Ne])]}),t})();const Re={provide:At,useExisting:Object(r.T)(()=>Le),multi:!0};let Le=(()=>{class t{constructor(){this._validator=Pt.nullValidator}ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Pt.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.zb("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[r.xb([Re]),r.wb]}),t})(),Me=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),Ve=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Yt],imports:[Me]}),t})();var Fe=n("LRne"),Ue=n("XNiG"),qe=n("9ppp");class Be extends Ue.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new qe.a;return this._value}next(t){super.next(this._value=t)}}var He=n("z+Ro"),ze=n("7o/Q");class Ke extends ze.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Ge extends ze.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var We=n("SeVD");function $e(t,e,n,r,i=new Ge(t,n,r)){if(!i.closed)return e instanceof gt.a?e.subscribe(i):Object(We.a)(e)(i)}var Qe=n("yCtX");const Je={};class Ye{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ze(t,this.resultSelector))}}class Ze extends Ke{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Je),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add($e(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Je?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Xe=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var tn=n("bHdf");function en(...t){return Object(tn.a)(1)(Object(Fe.a)(...t))}var nn=n("EY2u");function rn(t){return new gt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(bt.a)(n):Object(nn.b)()).subscribe(e)})}var on=n("zx2A");function sn(t,e){return"function"==typeof e?n=>n.pipe(sn((n,r)=>Object(bt.a)(t(n,r)).pipe(Object(yt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new an(t))}class an{constructor(t){this.project=t}call(t,e){return e.subscribe(new un(t,this.project))}}class un extends on.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new on.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(on.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const cn=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function ln(t){return e=>0===t?Object(nn.b)():e.lift(new hn(t))}class hn{constructor(t){if(this.total=t,this.total<0)throw new cn}call(t,e){return e.subscribe(new dn(t,this.total))}}class dn extends ze.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function fn(...t){const e=t[t.length-1];return Object(He.a)(e)?(t.pop(),n=>en(t,n,e)):e=>en(t,e)}function pn(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new gn(t,e,n))}}class gn{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new mn(t,this.accumulator,this.seed,this.hasSeed))}}class mn extends ze.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function yn(t,e){return function(n){return n.lift(new vn(t,e))}}class vn{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new bn(t,this.predicate,this.thisArg))}}class bn extends ze.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function wn(t){return function(e){const n=new _n(t),r=e.lift(n);return n.caught=r}}class _n{constructor(t){this.selector=t}call(t,e){return e.subscribe(new En(t,this.selector,this.caught))}}class En extends on.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new on.a(this);this.add(r);const i=Object(on.c)(n,r);i!==r&&this.add(i)}}}var Cn=n("5+tZ");function On(t,e){return Object(Cn.a)(t,e,1)}function Sn(t){return function(e){return 0===t?Object(nn.b)():e.lift(new Tn(t))}}class Tn{constructor(t){if(this.total=t,this.total<0)throw new cn}call(t,e){return e.subscribe(new In(t,this.total))}}class In extends ze.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function xn(t=jn){return e=>e.lift(new An(t))}class An{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new kn(t,this.errorFactory))}}class kn extends ze.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(M_){t=M_}this.destination.error(t)}}}function jn(){return new Xe}function Pn(t=null){return e=>e.lift(new Nn(t))}class Nn{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Dn(t,this.defaultValue))}}class Dn extends ze.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Rn=n("SpAZ");function Ln(t,e){const n=arguments.length>=2;return r=>r.pipe(t?yn((e,n)=>t(e,n,r)):Rn.a,ln(1),n?Pn(e):xn(()=>new Xe))}var Mn=n("vkgz"),Vn=n("quSY");class Fn{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Un(t,this.callback))}}class Un extends ze.a{constructor(t,e){super(t),this.add(new Vn.a(e))}}class qn{constructor(t,e){this.id=t,this.url=e}}class Bn extends qn{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hn extends qn{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zn extends qn{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kn extends qn{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gn extends qn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wn extends qn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $n extends qn{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qn extends qn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jn extends qn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yn{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Zn{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xn{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class er{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rr{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ir="primary";class or{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function sr(t){return new or(t)}function ar(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function ur(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function cr(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!lr(t[i],e[i]))return!1;return!0}function lr(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function hr(t){return Array.prototype.concat.apply([],t)}function dr(t){return t.length>0?t[t.length-1]:null}function fr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function pr(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(bt.a)(Promise.resolve(t)):Object(Fe.a)(t)}function gr(t,e,n){return n?function(t,e){return cr(t,e)}(t.queryParams,e.queryParams)&&mr(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>lr(t[n],e[n]))}(t.queryParams,e.queryParams)&&yr(t.root,e.root)}function mr(t,e){if(!Er(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!mr(t.children[n],e.children[n]))return!1}return!0}function yr(t,e){return vr(t,e,e.segments)}function vr(t,e,n){if(t.segments.length>n.length)return!!Er(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Er(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!yr(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Er(t.segments,r)&&!!t.children.primary&&vr(t.children.primary,e,i)}}class br{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sr(this.queryParams)),this._queryParamMap}toString(){return Sr.serialize(this)}}class wr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,fr(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tr(this)}}class _r{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=sr(this.parameters)),this._parameterMap}toString(){return Nr(this)}}function Er(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Cr{}class Or{parse(t){const e=new Vr(t);return new br(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+Ir(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Ar(e)}=${Ar(t)}`).join("&"):`${Ar(e)}=${Ar(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Sr=new Or;function Tr(t){return t.segments.map(t=>Nr(t)).join("/")}function Ir(t,e){if(!t.hasChildren())return Tr(t);if(e){const e=t.children.primary?Ir(t.children.primary,!1):"",n=[];return fr(t.children,(t,e)=>{e!==ir&&n.push(`${e}:${Ir(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return fr(t.children,(t,r)=>{r===ir&&(n=n.concat(e(t,r)))}),fr(t.children,(t,r)=>{r!==ir&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===ir?[Ir(t.children.primary,!1)]:[`${n}:${Ir(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Tr(t)}/${e[0]}`:`${Tr(t)}/(${e.join("//")})`}}function xr(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ar(t){return xr(t).replace(/%3B/gi,";")}function kr(t){return xr(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jr(t){return decodeURIComponent(t)}function Pr(t){return jr(t.replace(/\+/g,"%20"))}function Nr(t){return`${kr(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${kr(t)}=${kr(e[t])}`).join("")}`;var e}const Dr=/^[^\/()?;=#]+/;function Rr(t){const e=t.match(Dr);return e?e[0]:""}const Lr=/^[^=?&#]+/,Mr=/^[^?&#]+/;class Vr{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wr([],{}):new wr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new wr(t,e)),n}parseSegment(){const t=Rr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new _r(jr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Rr(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Rr(this.remaining);t&&(n=t,this.capture(n))}t[jr(e)]=jr(n)}parseQueryParam(t){const e=function(t){const e=t.match(Lr);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Mr);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Pr(e),i=Pr(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Rr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=ir);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new wr([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Fr{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ur(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Ur(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=qr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return qr(t,this._root).map(t=>t.value)}}function Ur(t,e){if(t===e.value)return e;for(const n of e.children){const e=Ur(t,n);if(e)return e}return null}function qr(t,e){if(t===e.value)return[e];for(const n of e.children){const r=qr(t,n);if(r.length)return r.unshift(e),r}return[]}class Br{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Hr(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class zr extends Fr{constructor(t,e){super(t),this.snapshot=e,Jr(this,t)}toString(){return this.snapshot.toString()}}function Kr(t,e){const n=function(t,e){const n=new $r([],{},{},"",{},ir,e,null,t.root,-1,{});return new Qr("",new Br(n,[]))}(t,e),r=new Be([new _r("",{})]),i=new Be({}),o=new Be({}),s=new Be({}),a=new Be(""),u=new Gr(r,i,s,a,o,ir,e,n.root);return u.snapshot=n.root,new zr(new Br(u,[]),n)}class Gr{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(yt.a)(t=>sr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(yt.a)(t=>sr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wr(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class $r{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qr extends Fr{constructor(t,e){super(e),this.url=t,Jr(this,e)}toString(){return Yr(this._root)}}function Jr(t,e){e.value._routerState=t,e.children.forEach(e=>Jr(t,e))}function Yr(t){const e=t.children.length>0?` { ${t.children.map(Yr).join(", ")} } `:"";return`${t.value}${e}`}function Zr(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,cr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),cr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!cr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),cr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Xr(t,e){return cr(t.params,e.params)&&function(t,e){return Er(t,e)&&t.every((t,n)=>cr(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Xr(t.parent,e.parent))}function ti(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return ti(t,e,r);return ti(t,e)})}(t,e,n);return new Br(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return ei(e,t),t}{const n=new Gr(new Be((r=e.value).url),new Be(r.params),new Be(r.queryParams),new Be(r.fragment),new Be(r.data),r.outlet,r.component,r),i=e.children.map(e=>ti(t,e));return new Br(n,i)}}var r}function ei(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)ei(t.children[n],e.children[n])}function ni(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ri(t){return"object"==typeof t&&null!=t&&t.outlets}function ii(t,e,n,r,i){let o={};return r&&fr(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new br(n.root===t?e:oi(n.root,t,e),o,i)}function oi(t,e,n){const r={};return fr(t.children,(t,i)=>{r[i]=t===e?n:oi(t,e,n)}),new wr(t.segments,r)}class si{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ni(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(ri);if(r&&r!==dr(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ai{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ui(t,e,n){if(t||(t=new wr([],{})),0===t.segments.length&&t.hasChildren())return ci(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(ri(s))break;const a=""+s,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!fi(a,u,e))return o;r+=2}else{if(!fi(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new wr(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new wr(t.segments.slice(r.pathIndex),t.children),ci(e,0,i)}return r.match&&0===i.length?new wr(t.segments,{}):r.match&&!t.hasChildren()?li(t,e,n):r.match?ci(t,0,i):li(t,e,n)}function ci(t,e,n){if(0===n.length)return new wr(t.segments,{});{const r=function(t){return ri(t[0])?t[0].outlets:{[ir]:t}}(n),i={};return fr(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=ui(t.children[r],e,n))}),fr(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new wr(t.segments,i)}}function li(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(ri(o)){const t=hi(o.outlets);return new wr(r,t)}if(0===i&&ni(n[0])){r.push(new _r(t.segments[e].path,n[0])),i++;continue}const s=ri(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&ni(a)?(r.push(new _r(s,di(a))),i+=2):(r.push(new _r(s,{})),i++)}return new wr(r,{})}function hi(t){const e={};return fr(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=li(new wr([],{}),0,t))}),e}function di(t){const e={};return fr(t,(t,n)=>e[n]=""+t),e}function fi(t,e,n){return t==n.path&&cr(e,n.parameters)}class pi{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Zr(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Hr(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),fr(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Hr(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=Hr(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new nr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new tr(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Zr(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),gi(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function gi(t){Zr(t.value),t.children.forEach(gi)}class mi{constructor(t,e){this.routes=t,this.module=e}}function yi(t){return"function"==typeof t}function vi(t){return t instanceof br}const bi=Symbol("INITIAL_VALUE");function wi(){return sn(t=>function(...t){let e=void 0,n=void 0;return Object(He.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(mt.a)(t[0])&&(t=t[0]),Object(Qe.a)(t,n).lift(new Ye(e))}(t.map(t=>t.pipe(ln(1),fn(bi)))).pipe(pn((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==bi)return t;if(r===bi&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||vi(r))return r}return t},t)},bi),yn(t=>t!==bi),Object(yt.a)(t=>vi(t)?t:!0===t),ln(1)))}let _i=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[yo]},encapsulation:2}),t})();function Ei(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Ci(r,Oi(e,r))}}function Ci(t,e){t.children&&Ei(t.children,e)}function Oi(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Si(t){const e=t.children&&t.children.map(Si),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ir&&(n.component=_i),n}function Ti(t){return t.outlet||ir}function Ii(t,e){const n=t.filter(t=>Ti(t)===e);return n.push(...t.filter(t=>Ti(t)!==e)),n}const xi={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ai(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},xi):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||ur)(n,t,e);if(!i)return Object.assign({},xi);const o={};fr(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function ki(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>ji(t,e,n)&&Ti(n)!==ir)}(t,n,r)){const i=new wr(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Ti(o)!==ir){const n=new wr([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Ti(o)]=n}return i}(t,e,r,new wr(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>ji(t,e,n))}(t,n,r)){const o=new wr(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(ji(t,n,a)&&!i[Ti(a)]){const n=new wr([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Ti(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new wr(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function ji(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Pi(t,e,n,r){return!!(Ti(t)===r||r!==ir&&ji(e,n,t))&&("**"===t.path||Ai(e,t,n).matched)}function Ni(t,e,n){return 0===e.length&&!t.children[n]}class Di{constructor(t){this.segmentGroup=t||null}}class Ri{constructor(t){this.urlTree=t}}function Li(t){return new gt.a(e=>e.error(new Di(t)))}function Mi(t){return new gt.a(e=>e.error(new Ri(t)))}function Vi(t){return new gt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Fi{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){const t=ki(this.urlTree.root,[],[],this.config).segmentGroup,e=new wr(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ir).pipe(Object(yt.a)(t=>this.createUrlTree(Ui(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(wn(t=>{if(t instanceof Ri)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Di)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ir).pipe(Object(yt.a)(e=>this.createUrlTree(Ui(e),t.queryParams,t.fragment))).pipe(wn(t=>{if(t instanceof Di)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new wr([],{[ir]:t}):t;return new br(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(yt.a)(t=>new wr([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(bt.a)(r).pipe(On(r=>{const i=n.children[r],o=Ii(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(yt.a)(t=>({segment:t,outlet:r})))}),pn((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?yn((e,n)=>t(e,n,r)):Rn.a,Sn(1),n?Pn(e):xn(()=>new Xe))}())}expandSegment(t,e,n,r,i,o){return Object(bt.a)(n).pipe(On(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(wn(t=>{if(t instanceof Di)return Object(Fe.a)(null);throw t}))),Ln(t=>!!t),wn((t,n)=>{if(t instanceof Xe||"EmptyError"===t.name){if(Ni(e,r,i))return Object(Fe.a)(new wr([],{}));throw new Di(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Pi(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Li(e):Li(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Mi(i):this.lineralizeSegments(n,i).pipe(Object(Cn.a)(n=>{const i=new wr(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Ai(e,r,i);if(!s)return Li(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Mi(l):this.lineralizeSegments(r,l).pipe(Object(Cn.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(yt.a)(t=>(n._loadedConfig=t,new wr(r,{})))):Object(Fe.a)(new wr(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=Ai(e,n,r);if(!o)return Li(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(Cn.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=ki(e,s,u,o),l=new wr(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(yt.a)(t=>new wr(s,t)));if(0===o.length&&0===c.length)return Object(Fe.a)(new wr(s,{}));const h=Ti(n)===i;return this.expandSegment(r,l,o,c,h?ir:i,!0).pipe(Object(yt.a)(t=>new wr(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Fe.a)(new mi(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Fe.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Cn.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(yt.a)(t=>(e._loadedConfig=t,t))):function(t){return new gt.a(e=>e.error(ar(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Fe.a)(new mi([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Fe.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&yi(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!yi(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return pr(o)});return Object(Fe.a)(i).pipe(wi(),Object(Mn.a)(t=>{if(!vi(t))return;const e=ar(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(yt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Fe.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Vi(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new br(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return fr(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return fr(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new wr(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ui(t){const e={};for(const n of Object.keys(t.children)){const r=Ui(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new wr(t.segments.concat(e.segments),e.children)}return t}(new wr(t.segments,e))}class qi{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Bi{constructor(t,e){this.component=t,this.route=e}}function Hi(t,e,n){const r=t._root;return Ki(r,e?e._root:null,n,[r.value])}function zi(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ki(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Hr(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Er(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Er(t.url,e.url)||!cr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xr(t,e)||!cr(t.queryParams,e.queryParams);case"paramsChange":default:return!Xr(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new qi(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Ki(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Bi(a.outlet.component,s))}else s&&Gi(e,a,i),i.canActivateChecks.push(new qi(r)),Ki(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),fr(o,(t,e)=>Gi(t,n.getContext(e),i)),i}function Gi(t,e,n){const r=Hr(t),i=t.value;fr(r,(t,r)=>{Gi(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Bi(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Wi{}function $i(t){return new gt.a(e=>e.error(t))}class Qi{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=ki(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ir);if(null===e)return null;const n=new $r([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ir,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Br(n,e),i=new Qr(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Wr(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Ii(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!Ji(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===ir?-1:e.value.outlet===ir?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Ni(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Pi(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?dr(n).parameters:{};i=new $r(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xi(t),Ti(t),t.component,t,Yi(e),Zi(e)+n.length,to(t))}else{const r=Ai(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new $r(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xi(t),Ti(t),t.component,t,Yi(e),Zi(e)+o.length,to(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=ki(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Br(i,t)]}if(0===a.length&&0===c.length)return[new Br(i,[])];const l=Ti(t)===r,h=this.processSegment(a,u,c,l?ir:r);return null===h?null:[new Br(i,h)]}}function Ji(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Yi(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Zi(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Xi(t){return t.data||{}}function to(t){return t.resolve||{}}function eo(t){return sn(e=>{const n=t(e);return n?Object(bt.a)(n).pipe(Object(yt.a)(()=>e)):Object(Fe.a)(e)})}class no extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ro=new r.q("ROUTES");class io{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(yt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new mi(hr(r.injector.get(ro)).map(Si),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(bt.a)(this.loader.load(t)):pr(t()).pipe(Object(Cn.a)(t=>t instanceof r.v?Object(Fe.a)(t):Object(bt.a)(this.compiler.compileModuleAsync(t))))}}class oo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new so,this.attachRef=null}}class so{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new oo,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class ao{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function uo(t){throw t}function co(t,e,n){return e.parse("/")}function lo(t,e){return Object(Fe.a)(null)}let ho=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ue.a,this.errorHandler=uo,this.malformedUriErrorHandler=co,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:lo,afterPreactivation:lo},this.urlHandlingStrategy=new ao,this.routeReuseStrategy=new no,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z&&r.z.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new br(new wr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new io(s,a,t=>this.triggerEvent(new Yn(t)),t=>this.triggerEvent(new Zn(t))),this.routerState=Kr(this.currentUrlTree,this.rootComponentType),this.transitions=new Be({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(yn(t=>0!==t.id),Object(yt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),sn(t=>{let n=!1,r=!1;return Object(Fe.a)(t).pipe(Object(Mn.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),sn(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Fe.a)(t).pipe(sn(t=>{const n=this.transitions.getValue();return e.next(new Bn(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?nn.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,sn(t=>function(t,e,n,r,i){return new Fi(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(yt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Mn.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(Cn.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Qi(t,e,n,r,i,o).recognize();return null===s?$i(new Wi):Object(Fe.a)(s)}catch(M_){return $i(M_)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(yt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Mn.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Gn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Bn(n,this.serializeUrl(r),i,o);e.next(a);const u=Kr(r,this.rootComponentType).snapshot;return Object(Fe.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),nn.a}),eo(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Mn.a)(t=>{const e=new Wn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(yt.a)(t=>Object.assign(Object.assign({},t),{guards:Hi(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(Cn.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Fe.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(bt.a)(t).pipe(Object(Cn.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Fe.a)(!0);const s=o.map(o=>{const s=zi(o,e,i);let a;if(function(t){return t&&yi(t.canDeactivate)}(s))a=pr(s.canDeactivate(t,e,n,r));else{if(!yi(s))throw new Error("Invalid CanDeactivate guard");a=pr(s(t,e,n,r))}return a.pipe(Ln())});return Object(Fe.a)(s).pipe(wi())}(t.component,t.route,n,e,r)),Ln(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Cn.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(bt.a)(e).pipe(On(e=>en(function(t,e){return null!==t&&e&&e(new Xn(t)),Object(Fe.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new er(t)),Object(Fe.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>rn(()=>{const i=e.guards.map(i=>{const o=zi(i,e.node,n);let s;if(function(t){return t&&yi(t.canActivateChild)}(o))s=pr(o.canActivateChild(r,t));else{if(!yi(o))throw new Error("Invalid CanActivateChild guard");s=pr(o(r,t))}return s.pipe(Ln())});return Object(Fe.a)(i).pipe(wi())}));return Object(Fe.a)(i).pipe(wi())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Fe.a)(!0);const i=r.map(r=>rn(()=>{const i=zi(r,e,n);let o;if(function(t){return t&&yi(t.canActivate)}(i))o=pr(i.canActivate(e,t));else{if(!yi(i))throw new Error("Invalid CanActivate guard");o=pr(i(e,t))}return o.pipe(Ln())}));return Object(Fe.a)(i).pipe(wi())}(t,e.route,n))),Ln(t=>!0!==t,!0))}(r,o,t,e):Object(Fe.a)(n)),Object(yt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Mn.a)(t=>{if(vi(t.guardsResult)){const e=ar(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new $n(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),yn(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new zn(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),eo(t=>{if(t.guards.canActivateChecks.length)return Object(Fe.a)(t).pipe(Object(Mn.a)(t=>{const e=new Qn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),sn(t=>{let n=!1;return Object(Fe.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(Cn.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Fe.a)(t);let o=0;return Object(bt.a)(n).pipe(On(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Fe.a)({});const o={};return Object(bt.a)(i).pipe(Object(Cn.a)(i=>function(t,e,n,r){const i=zi(t,e,r);return pr(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Mn.a)(t=>{o[i]=t}))),Sn(1),Object(Cn.a)(()=>Object.keys(o).length===i.length?Object(Fe.a)(o):nn.a))}(t._resolve,t,e,r).pipe(Object(yt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Wr(t,n).resolve),null)))}(t.route,e,r,i)),Object(Mn.a)(()=>o++),Sn(1),Object(Cn.a)(e=>o===n.length?Object(Fe.a)(t):nn.a))})),Object(Mn.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new zn(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Mn.a)(t=>{const e=new Jn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),eo(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(yt.a)(t=>{const e=function(t,e,n){const r=ti(t,e._root,n?n._root:void 0);return new zr(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Mn.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(yt.a)(t=>(new pi(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(Mn.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new zn(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Fn(i))),wn(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=vi(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new zn(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Kn(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(uf){t.reject(uf)}}var i;return nn.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ei(t),this.config=t.map(Si),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return ii(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new si(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return fr(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new si(n,e,r)}(n);if(o.toRoot())return ii(e.root,new wr([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new ai(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new ai(t,t===e.root,0)}const r=ni(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ai(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?ci(s.segmentGroup,s.index,o.commands):ui(s.segmentGroup,s.index,o.commands);return ii(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=vi(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(M_){e=this.malformedUriErrorHandler(M_,this.urlSerializer,t)}return e}isActive(t,e){if(vi(t))return gr(this.currentUrlTree,t,e);const n=this.parseUrl(t);return gr(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Hn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.M),r.Pb(Cr),r.Pb(so),r.Pb(C),r.Pb(r.r),r.Pb(r.w),r.Pb(r.i),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),fo=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Ue.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:go(this.skipLocationChange),replaceUrl:go(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:go(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ho),r.Ib(Gr),r.Qb("tabindex"),r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Sb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})(),po=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Ue.a,this.subscription=t.events.subscribe(t=>{t instanceof Hn&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:go(this.skipLocationChange),replaceUrl:go(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:go(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ho),r.Ib(Gr),r.Ib(v))},t.\u0275dir=r.Db({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Sb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ob("href",e.href,r.bc),r.zb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function go(t){return""===t||!!t}let mo=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof Hn&&this.update()})}ngAfterContentInit(){Object(Fe.a)(this.links.changes,this.linksWithHrefs.changes,Object(Fe.a)(null)).pipe(Object(tn.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(bt.a)(e).pipe(Object(tn.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(ho),r.Ib(r.l),r.Ib(r.D),r.Ib(r.h),r.Ib(fo,8),r.Ib(po,8))},t.\u0275dir=r.Db({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Bb(n,fo,!0),r.Bb(n,po,!0)),2&t){let t;r.Yb(t=r.Tb())&&(e.links=t),r.Yb(t=r.Tb())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.wb]}),t})(),yo=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||ir,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new vo(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(so),r.Ib(r.P),r.Ib(r.j),r.Qb("name"),r.Ib(r.h))},t.\u0275dir=r.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class vo{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Gr?this.route:t===so?this.childContexts:this.parent.get(t,e)}}class bo{}class wo{preload(t,e){return Object(Fe.a)(null)}}let _o=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new io(e,n,e=>t.triggerEvent(new Yn(e)),e=>t.triggerEvent(new Zn(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(yn(t=>t instanceof Hn),On(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(bt.a)(n).pipe(Object(tn.a)(),Object(yt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Cn.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ho),r.Pb(r.w),r.Pb(r.i),r.Pb(r.r),r.Pb(bo))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Eo=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Bn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Hn&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof rr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new rr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ho),r.Pb(M),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Co=new r.q("ROUTER_CONFIGURATION"),Oo=new r.q("ROUTER_FORROOT_GUARD"),So=[C,{provide:Cr,useClass:Or},{provide:ho,useFactory:function(t,e,n,r,i,o,s,u={},c,l){const h=new ho(null,t,e,n,r,i,o,hr(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=a();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Cr,so,C,r.r,r.w,r.i,ro,Co,[class{},new r.A],[class{},new r.A]]},so,{provide:Gr,useFactory:function(t){return t.routerState.root},deps:[ho]},{provide:r.w,useClass:r.J},_o,wo,class{preload(t,e){return e().pipe(wn(()=>Object(Fe.a)(null)))}},{provide:Co,useValue:{enableTracing:!1}}];function To(){return new r.y("Router",ho)}let Io=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[So,jo(e),{provide:Oo,useFactory:ko,deps:[[ho,new r.A,new r.I]]},{provide:Co,useValue:n||{}},{provide:v,useFactory:Ao,deps:[c,[new r.p(w),new r.A],Co]},{provide:Eo,useFactory:xo,deps:[ho,M,Co]},{provide:bo,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:wo},{provide:r.y,multi:!0,useFactory:To},[Po,{provide:r.d,multi:!0,useFactory:No,deps:[Po]},{provide:Ro,useFactory:Do,deps:[Po]},{provide:r.b,multi:!0,useExisting:Ro}]]}}static forChild(e){return{ngModule:t,providers:[jo(e)]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(Oo,8),r.Pb(ho,8))}}),t})();function xo(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Eo(t,e,n)}function Ao(t,e,n={}){return n.useHash?new E(t,e):new _(t,e)}function ko(t){return"guarded"}function jo(t){return[{provide:r.a,multi:!0,useValue:t},{provide:ro,multi:!0,useValue:t}]}let Po=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ue.a}appInitializer(){return this.injector.get(h,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ho),r=this.injector.get(Co);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Fe.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Co),n=this.injector.get(_o),i=this.injector.get(Eo),o=this.injector.get(ho),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function No(t){return t.appInitializer.bind(t)}function Do(t){return t.bootstrapListener.bind(t)}const Ro=new r.q("Router Initializer"),Lo=function(){return{exact:!0}};let Mo=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-header"]],decls:35,vars:6,consts:[[1,"navbar","navbar-light","bg-light"],[1,"container","d-flex","justify-content-center-custom"],[1,"nav","middle-padding"],[1,"trans"],["routerLink","/home",1,"navbar-brand"],[1,"brandtitle"],["href","https://www.linkedin.com/in/aditya-5/",1,"linkCol"],[1,"fab","fa-linkedin","inline"],["href","https://github.com/aditya-5",1,"linkCol"],[1,"fab","fa-github","inline"],["href","https://www.instagram.com/imaa45",1,"linkCol"],[1,"fab","fa-instagram","inline"],["href","https://www.facebook.com/Aditya.Agarwalll/",1,"linkCol"],[1,"fab","fa-facebook","inline"],["href","https://twitter.com/ImAa45",1,"linkCol"],[1,"fab","fa-twitter","inline"],["href","mailto:aditya.7@outlook.com",1,"linkCol"],[1,"fas","fa-at","inline"],[1,"nav"],["routerLinkActive","active",1,"nav-item",3,"routerLinkActiveOptions"],["routerLink","/",1,"nav-link","linkCol"],["routerLink","/login",1,"nav-link","linkCol"],["routerLinkActive","active",1,"nav-item",2,"margin","0px",3,"routerLinkActiveOptions"],["routerLink","/signup",1,"nav-link","linkCol"]],template:function(t,e){1&t&&(r.Lb(0,"nav",0),r.Lb(1,"div",1),r.Lb(2,"ul",2),r.Lb(3,"li",3),r.Lb(4,"a",4),r.ec(5,"Elections Portal"),r.Kb(),r.Kb(),r.Jb(6,"span",5),r.Lb(7,"li",3),r.Lb(8,"a",6),r.Jb(9,"i",7),r.Kb(),r.Kb(),r.Lb(10,"li",3),r.Lb(11,"a",8),r.Jb(12,"i",9),r.Kb(),r.Kb(),r.Lb(13,"li",3),r.Lb(14,"a",10),r.Jb(15,"i",11),r.Kb(),r.Kb(),r.Lb(16,"li",3),r.Lb(17,"a",12),r.Jb(18,"i",13),r.Kb(),r.Kb(),r.Lb(19,"li",3),r.Lb(20,"a",14),r.Jb(21,"i",15),r.Kb(),r.Kb(),r.Lb(22,"li",3),r.Lb(23,"a",16),r.Jb(24,"i",17),r.Kb(),r.Kb(),r.Kb(),r.Lb(25,"ul",18),r.Lb(26,"li",19),r.Lb(27,"a",20),r.ec(28,"Home"),r.Kb(),r.Kb(),r.Lb(29,"li",19),r.Lb(30,"a",21),r.ec(31,"Login"),r.Kb(),r.Kb(),r.Lb(32,"li",22),r.Lb(33,"a",23),r.ec(34,"Signup"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(26),r.Vb("routerLinkActiveOptions",r.Wb(3,Lo)),r.yb(3),r.Vb("routerLinkActiveOptions",r.Wb(4,Lo)),r.yb(3),r.Vb("routerLinkActiveOptions",r.Wb(5,Lo)))},directives:[po,mo],styles:[".inline[_ngcontent-%COMP%]{display:inline-block;padding-top:7px;margin-right:10px}.linkCol[_ngcontent-%COMP%]{color:#000}.trans[_ngcontent-%COMP%]:hover{transition:all .2s ease-in-out;transform:scale(1.1)}.brandtitle[_ngcontent-%COMP%]{margin-right:25px}.active[_ngcontent-%COMP%]{font-weight:900}@media (max-width:576px){.inline[_ngcontent-%COMP%]{margin-right:10px}.middle-padding[_ngcontent-%COMP%]{padding:11px}.nav-link[_ngcontent-%COMP%]{padding:5px}.nav[_ngcontent-%COMP%]{font-size:.8em}}@media (max-width:992px){.justify-content-center-custom[_ngcontent-%COMP%]{display:flex;justify-content:center}}"]}),t})(),Vo=(()=>{class t{constructor(){this.title="elections"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Jb(0,"app-header"),r.Jb(1,"router-outlet"))},directives:[Mo,yo],styles:[""]}),t})();var Fo=n("mrSG");class Uo{}class qo{}class Bo{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Bo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Bo;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Bo?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Ho{encodeKey(t){return zo(t)}encodeValue(t){return zo(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function zo(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Ko{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Ho,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ko({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Go(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Wo(t){return"undefined"!=typeof Blob&&t instanceof Blob}function $o(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Qo{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Bo),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Ko,this.urlWithParams=e}serializeBody(){return null===this.body?null:Go(this.body)||Wo(this.body)||$o(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ko?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$o(this.body)?null:Wo(this.body)?this.body.type||null:Go(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ko?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new Qo(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var Jo=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Yo{constructor(t,e=200,n="OK"){this.headers=t.headers||new Bo,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Zo extends Yo{constructor(t={}){super(t),this.type=Jo.ResponseHeader}clone(t={}){return new Zo({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Xo extends Yo{constructor(t={}){super(t),this.type=Jo.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Xo({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ts extends Yo{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function es(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let ns=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Qo)r=t;else{let i=void 0;i=n.headers instanceof Bo?n.headers:new Bo(n.headers);let o=void 0;n.params&&(o=n.params instanceof Ko?n.params:new Ko({fromObject:n.params})),r=new Qo(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Fe.a)(r).pipe(On(t=>this.handler.handle(t)));if(t instanceof Qo||"events"===n.observe)return i;const o=i.pipe(yn(t=>t instanceof Xo));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(yt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(yt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(yt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(yt.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Ko).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,es(n,e))}post(t,e,n={}){return this.request("POST",t,es(n,e))}put(t,e,n={}){return this.request("PUT",t,es(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Uo))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class rs{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const is=new r.q("HTTP_INTERCEPTORS");let os=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const ss=/^\)\]\}',?\n/;class as{}let us=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),cs=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new gt.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new Bo(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Zo({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(ss,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new Xo({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new ts({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new ts({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:Jo.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:Jo.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:Jo.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(as))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const ls=new r.q("XSRF_COOKIE_NAME"),hs=new r.q("XSRF_HEADER_NAME");class ds{}let fs=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=k(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(r.B),r.Pb(ls))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),ps=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ds),r.Pb(hs))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),gs=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(is,[]);this.chain=t.reduceRight((t,e)=>new rs(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(qo),r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),ms=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:ps,useClass:os}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:ls,useValue:e.cookieName}:[],e.headerName?{provide:hs,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[ps,{provide:is,useExisting:ps,multi:!0},{provide:ds,useClass:fs},{provide:ls,useValue:"XSRF-TOKEN"},{provide:hs,useValue:"X-XSRF-TOKEN"}]}),t})(),ys=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[ns,{provide:Uo,useClass:gs},cs,{provide:qo,useExisting:cs},us,{provide:as,useExisting:us}],imports:[[ms.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),vs=(()=>{class t{constructor(t){this.http=t}signupVoter(t){return this.http.post(i+"auth/signup/voter",t)}signupSociety(t){return this.http.post(i+"auth/signup/society",t)}sendVerificationEmail(t){return this.http.post(i+"auth/signup/voter/link",{email:t})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ns))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var bs=n("VRyK"),ws=n("pxpQ"),_s=n("qgXg"),Es=n("Ylt2");class Cs extends Ue.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Os(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new qe.a;if(this.isStopped||this.hasError?o=Vn.a.EMPTY:(this.observers.push(t),o=new Es.a(this,t)),r&&t.add(t=new ws.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||_s.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Os{constructor(t,e){this.time=t,this.value=e}}function Ss(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Cs(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function Ts(t,e){return e?sn(()=>t,e):sn(()=>t)}var Is=n("tf+s"),xs=n("spgP");const As=new r.q("angularfire2.auth.use-emulator"),ks=new r.q("angularfire2.auth.settings"),js=new r.q("angularfire2.auth.tenant-id"),Ps=new r.q("angularfire2.auth.langugage-code"),Ns=new r.q("angularfire2.auth.use-device-language"),Ds=new r.q("angularfire.auth.persistence");let Rs=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new xs.d(i),d=Object(xs.h)(h),f=new Ue.a,p=Object(Fe.a)(void 0).pipe(Object(ws.b)(h.outsideAngular),sn(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(yt.a)(()=>Object(xs.g)(t,i,e)),Object(yt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(xs.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Ss({bufferSize:1,refCount:!1}));if(L(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Fe.a)(null);else{p.pipe(Ln()).subscribe();const t=p.pipe(sn(t=>t.getRedirectResult().then(t=>t,()=>null)),d,Ss({bufferSize:1,refCount:!1})),e=t=>new gt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(sn(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(sn(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Ts(n),Object(Is.a)(h.outsideAngular),Object(ws.b)(h.insideAngular)),this.user=t.pipe(Ts(r),Object(Is.a)(h.outsideAngular),Object(ws.b)(h.insideAngular)),this.idToken=this.user.pipe(sn(t=>t?Object(bt.a)(t.getIdToken()):Object(Fe.a)(null))),this.idTokenResult=this.user.pipe(sn(t=>t?Object(bt.a)(t.getIdTokenResult()):Object(Fe.a)(null))),this.credential=Object(bs.a)(t,f,this.authState.pipe(yn(t=>!t))).pipe(Object(yt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Is.a)(h.outsideAngular),Object(ws.b)(h.insideAngular))}return Object(xs.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(xs.c),r.Pb(xs.b,8),r.Pb(r.B),r.Pb(r.z),r.Pb(As,8),r.Pb(ks,8),r.Pb(js,8),r.Pb(Ps,8),r.Pb(Ns,8),r.Pb(Ds,8))},t.\u0275prov=r.Eb({factory:function(){return new t(r.Pb(xs.c),r.Pb(xs.b,8),r.Pb(r.B),r.Pb(r.z),r.Pb(As,8),r.Pb(ks,8),r.Pb(js,8),r.Pb(Ps,8),r.Pb(Ns,8),r.Pb(Ds,8))},token:t,providedIn:"any"}),t})();Object(xs.e)(Rs,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let Ls=(()=>{class t{constructor(t,e){this.document=t,this.platformId=e,this.documentIsAccessible=function(t){return"browser"===t}(this.platformId)}static getCookieRegExp(t){const e=t.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+e+"|;\\s*"+e+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(t){try{return decodeURIComponent(t)}catch(e){return t}}check(e){return!!this.documentIsAccessible&&(e=encodeURIComponent(e),t.getCookieRegExp(e).test(this.document.cookie))}get(e){if(this.documentIsAccessible&&this.check(e)){e=encodeURIComponent(e);const n=t.getCookieRegExp(e).exec(this.document.cookie);return n[1]?t.safeDecodeURIComponent(n[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const e={},n=this.document;return n.cookie&&""!==n.cookie&&n.cookie.split(";").forEach(n=>{const[r,i]=n.split("=");e[t.safeDecodeURIComponent(r.replace(/^ /,""))]=t.safeDecodeURIComponent(i)}),e}set(t,e,n,r,i,o,s){if(!this.documentIsAccessible)return;if("number"==typeof n||n instanceof Date||r||i||o||s)return void this.set(t,e,{expires:n,path:r,domain:i,secure:o,sameSite:s||"Lax"});let a=encodeURIComponent(t)+"="+encodeURIComponent(e)+";";const u=n||{};u.expires&&(a+="number"==typeof u.expires?"expires="+new Date((new Date).getTime()+1e3*u.expires*60*60*24).toUTCString()+";":"expires="+u.expires.toUTCString()+";"),u.path&&(a+="path="+u.path+";"),u.domain&&(a+="domain="+u.domain+";"),!1===u.secure&&"None"===u.sameSite&&(u.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${t} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),u.secure&&(a+="secure;"),u.sameSite||(u.sameSite="Lax"),a+="sameSite="+u.sameSite+";",this.document.cookie=a}delete(t,e,n,r,i="Lax"){if(!this.documentIsAccessible)return;const o=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(t,"",{expires:o,path:e,domain:n,secure:r,sameSite:i})}deleteAll(t,e,n,r="Lax"){if(!this.documentIsAccessible)return;const i=this.getAll();for(const o in i)i.hasOwnProperty(o)&&this.delete(o,t,e,n,r)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(r.B))},t.\u0275prov=r.Eb({factory:function(){return new t(r.Pb(u),r.Pb(r.B))},token:t,providedIn:"root"}),t})(),Ms=(()=>{class t{constructor(t,e,n,r){this.angularFireAuth=t,this.http=e,this.router=n,this.cookieService=r,t.authState.subscribe(t=>{console.log(t),t&&t.getIdToken().then(t=>console.log(t))})}SignIn(t,e){return this.angularFireAuth.setPersistence("none").then(()=>this.angularFireAuth.signInWithEmailAndPassword(t,e).then(t=>Object(Fo.b)(this,void 0,void 0,function*(){const e=yield t.user.getIdToken();return this.SignOut(),e})).catch(t=>{throw new Error(t.message)}))}SignInBackend(t){return this.http.post(i+"auth/sessionLogin",{idToken:t},{headers:new Bo({credentials:"include",useCredentials:"true"})})}SignOut(){this.angularFireAuth.signOut()}checkLogIn(){this.http.post(i+"auth/checkLogIn",{}).subscribe(t=>{console.log(t)},t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Rs),r.Pb(ns),r.Pb(ho),r.Pb(Ls))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Vs=["Messages"],Fs=["loginF"];function Us(t,e){1&t&&(r.Lb(0,"div",3),r.Jb(1,"div"),r.Jb(2,"div"),r.Jb(3,"div"),r.Jb(4,"div"),r.Kb())}function qs(t,e){1&t&&(r.Lb(0,"span",25),r.ec(1,"Invalid Email. Must be a valid UoM email."),r.Kb())}function Bs(t,e){1&t&&(r.Lb(0,"span",25),r.ec(1,"Password is required."),r.Kb())}function Hs(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div"),r.Lb(1,"form",9,26),r.Sb("ngSubmit",function(){r.ac(t);const e=r.Zb(2);return r.Ub(2).sendVerificationEmail(e)}),r.Lb(3,"div",27),r.Jb(4,"input",28,29),r.Lb(6,"button",30),r.ec(7,"Send"),r.Kb(),r.Kb(),r.Kb(),r.Kb()}if(2&t){const t=r.Zb(2);r.yb(6),r.Vb("disabled",!t.valid)}}function zs(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",4),r.Jb(1,"div",null,5),r.Lb(3,"div",6),r.Lb(4,"div",7),r.Jb(5,"img",8),r.Kb(),r.Lb(6,"form",9,10),r.Sb("ngSubmit",function(){r.ac(t);const e=r.Zb(7);return r.Ub().signIn(e)}),r.Lb(8,"div",11),r.Lb(9,"div",12),r.Jb(10,"input",13,14),r.dc(12,qs,2,0,"span",15),r.Kb(),r.Lb(13,"div",16),r.Jb(14,"input",17,18),r.dc(16,Bs,2,0,"span",15),r.Kb(),r.Lb(17,"button",19),r.ec(18,"Login"),r.Kb(),r.Kb(),r.Kb(),r.Lb(19,"button",20),r.Sb("click",function(){return r.ac(t),r.Ub().signOut()}),r.ec(20,"logout"),r.Kb(),r.Lb(21,"button",20),r.Sb("click",function(){return r.ac(t),r.Ub().checkLogIn()}),r.ec(22,"check login"),r.Kb(),r.Lb(23,"div",21),r.Lb(24,"p"),r.ec(25,"Not registered?"),r.Lb(26,"a",22),r.ec(27," Create an account"),r.Kb(),r.Kb(),r.Lb(28,"p"),r.ec(29,"Resend confirmation email? "),r.Lb(30,"a",23),r.Sb("click",function(){r.ac(t);const e=r.Ub();return e.resendLinkBool=!e.resendLinkBool}),r.ec(31),r.Kb(),r.Kb(),r.dc(32,Hs,8,1,"div",24),r.Kb(),r.Kb(),r.Kb()}if(2&t){const t=r.Zb(7),e=r.Zb(11),n=r.Zb(15),i=r.Ub();r.yb(12),r.Vb("ngIf",e.touched&&e.invalid),r.yb(4),r.Vb("ngIf",n.touched&&n.invalid),r.yb(1),r.Vb("disabled",!t.valid),r.yb(14),r.fc(" ",i.resendLinkBool?"Hide":"Tap",""),r.yb(1),r.Vb("ngIf",i.resendLinkBool)}}let Ks=(()=>{class t{constructor(t,e,n,r){this.signupservice=t,this.renderer=e,this.authenticationService=n,this.router=r,this.resendLinkBool=!1,this.submitted=!1}ngOnInit(){}appendErrorMessages(t){var e=document.createElement("div");e.innerHTML='<div class="alert alert-danger alert-dismissible fade show" role="alert"><strong>Error : </strong> '+t+'<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>',this.renderer.appendChild(this.Messages.nativeElement,e)}appendSuccessMessages(t){var e=document.createElement("div");e.innerHTML='<div class="alert alert-success alert-dismissible fade show" role="alert"><strong>Success : </strong> '+t+'<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>',this.renderer.appendChild(this.Messages.nativeElement,e)}sendVerificationEmail(t){this.submitted=!0,this.signupservice.sendVerificationEmail(t.value.email).subscribe(e=>{this.submitted=!1,setTimeout(()=>{this.appendSuccessMessages("New confirmation email sent. Please confirm and login to continue.")},1e3),t.reset(),this.resendLinkBool=!1},e=>{setTimeout(()=>{this.submitted=!1,this.appendErrorMessages(e.error.message),t.form.patchValue({email:t.value.email})},1e3)})}signIn(t){return Object(Fo.b)(this,void 0,void 0,function*(){this.submitted=!0;const e=t.value.email,n=t.value.password;let r;try{r=yield this.authenticationService.SignIn(e,n)}catch(i){r=null,this.submitted=!1,setTimeout(()=>{this.appendErrorMessages(i.message),this.loginForm.form.patchValue({email:e})},2e3)}null!=r&&this.authenticationService.SignInBackend(r).subscribe(t=>this.router.navigate(["/signup"]),t=>{this.submitted=!1,setTimeout(()=>{this.appendErrorMessages("Backend failed to sign you in. Please try again later."),this.loginForm.form.patchValue({email:e})},2e3)})})}signOut(){this.authenticationService.SignOut()}checkLogIn(){this.authenticationService.checkLogIn()}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(vs),r.Ib(r.D),r.Ib(Ms),r.Ib(ho))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-login"]],viewQuery:function(t,e){if(1&t&&(r.gc(Vs,!0),r.gc(Fs,!0)),2&t){let t;r.Yb(t=r.Tb())&&(e.Messages=t.first),r.Yb(t=r.Tb())&&(e.loginForm=t.first)}},decls:6,vars:2,consts:[[1,"row","d-flex","justify-content-center"],["class","lds-ring",4,"ngIf"],["class","col-md-4 col-sm-8 col-xs-12 col-md-offset-4 col-sm-offset-2 login-image-main text-center",4,"ngIf"],[1,"lds-ring"],[1,"col-md-4","col-sm-8","col-xs-12","col-md-offset-4","col-sm-offset-2","login-image-main","text-center"],["Messages",""],[1,"row"],[1,"col-md-12","col-sm-12","col-xs-12","user-image-section"],["src","https://res.cloudinary.com/dbsuehmlk/image/upload/v1626190858/elections/user_huxxno.png"],[3,"ngSubmit"],["loginF","ngForm"],[1,"col-md-12","col-sm-12","col-xs-12","user-login-box"],[1,"form-group","mb-2"],["type","text","placeholder","University Email","name","email","ngModel","","required","","email","",1,"form-control"],["email","ngModel"],["class","help-block",4,"ngIf"],[1,"form-group","mb-3"],["type","password","placeholder","Password","name","password","ngModel","","required","",1,"form-control"],["password","ngModel"],["type","submit",1,"btn","btn-default",3,"disabled"],["type","button","id","button-addon2",1,"btn","btn-danger",3,"click"],[1,"col-md-12","col-sm-12","col-xs-12","last-part"],["routerLink","/signup"],["id","resendToggle",3,"click"],[4,"ngIf"],[1,"help-block"],["linkResendF","ngForm"],[1,"input-group","mb-3"],["type","text","placeholder","Already Registered Email","aria-label","Recipient's username","aria-describedby","button-addon2","required","","email","","ngModel","","name","email",1,"form-control"],["linkResendEmail","ngModel"],["type","submit","id","button-addon2",1,"btn","btn-danger",3,"disabled"]],template:function(t,e){1&t&&(r.Lb(0,"html"),r.Jb(1,"head"),r.Lb(2,"body"),r.Lb(3,"div",0),r.dc(4,Us,5,0,"div",1),r.dc(5,zs,33,5,"div",2),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(4),r.Vb("ngIf",e.submitted),r.yb(1),r.Vb("ngIf",!e.submitted))},directives:[P,ke,Wt,Te,Tt,Gt,Ae,Pe,De,po],styles:["#resendToggle[_ngcontent-%COMP%]{cursor:pointer}.tnc[_ngcontent-%COMP%]{color:grey;font-size:.8em}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.help-block[_ngcontent-%COMP%]{color:red;font-size:.8em;text-align:left}.inline[_ngcontent-%COMP%], .lds-ring[_ngcontent-%COMP%]{display:inline-block}.lds-ring[_ngcontent-%COMP%]{position:relative;width:80px;height:80px}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border-radius:50%;animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border:8px solid transparent;border-top-color:#000}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{animation-delay:-.45s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.3s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.15s}@keyframes lds-ring{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.main-section[_ngcontent-%COMP%]{background-size:100% 100%;margin:0;width:100%}.login-image-main[_ngcontent-%COMP%], .user-login-header[_ngcontent-%COMP%]{margin-top:15px}.user-login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:45px;color:#fff}.last-part[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .user-login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#c9c5c7}.user-login-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-weight:600}.login-image-main[_ngcontent-%COMP%]{padding:30px;background-color:#fff;border-radius:5px;box-shadow:0 0 5px 0 #fff}.user-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background-color:#b56162;padding:30px;height:150px;width:150px;border-radius:50%}.last-part[_ngcontent-%COMP%], .user-login-box[_ngcontent-%COMP%]{padding:20px}.user-login-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .user-login-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#b56162;border:1px solid #b56162;width:100%;color:#fff;font-weight:600}.last-part[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#b56162}"]}),t})(),Gs=(()=>{class t{constructor(t){this.activatedRoute=t,this.activatedRoute.queryParams.subscribe(t=>{console.log(t)})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Gr))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-home"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Lb(0,"p"),r.ec(1,"home works!"),r.Kb())},styles:[""]}),t})();const Ws=["Messages"],$s=["voterF"],Qs=["societyF"];function Js(t,e){1&t&&(r.Lb(0,"div",6),r.Jb(1,"div"),r.Jb(2,"div"),r.Jb(3,"div"),r.Jb(4,"div"),r.Kb())}function Ys(t,e){1&t&&(r.Lb(0,"span",41),r.ec(1,"Society Name is required."),r.Kb())}function Zs(t,e){1&t&&(r.Lb(0,"span",41),r.ec(1,"Name is required. (<20 characters)"),r.Kb())}function Xs(t,e){1&t&&(r.Lb(0,"span",41),r.ec(1,"Email is invalid. It must be a valid UoM's email."),r.Kb())}function ta(t,e){1&t&&(r.Lb(0,"span",41),r.ec(1,"Password is required."),r.Kb())}function ea(t,e){1&t&&(r.Lb(0,"span",41),r.ec(1,"Confirm Password is required."),r.Kb())}function na(t,e){1&t&&(r.Lb(0,"span",41),r.ec(1,"The role is invalid."),r.Kb())}function ra(t,e){if(1&t&&(r.Lb(0,"div",15),r.Jb(1,"input",42,43),r.dc(3,na,2,0,"span",18),r.Kb()),2&t){const t=r.Zb(2),e=r.Ub(2);r.yb(1),r.Vb("required",e.positionOther),r.yb(2),r.Vb("ngIf",t.touched&&t.invalid)}}function ia(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",7),r.Jb(1,"div",null,8),r.Lb(3,"div",9),r.Lb(4,"div",10),r.Jb(5,"img",11),r.Kb(),r.Lb(6,"form",12,13),r.Sb("ngSubmit",function(){r.ac(t);const e=r.Zb(7);return r.Ub().onSubmitSociety(e)}),r.Lb(8,"div",14),r.Lb(9,"div",15),r.Jb(10,"input",16,17),r.dc(12,Ys,2,0,"span",18),r.Kb(),r.Lb(13,"div",15),r.Jb(14,"input",19,20),r.dc(16,Zs,2,0,"span",18),r.Kb(),r.Lb(17,"div",15),r.Jb(18,"input",21,22),r.dc(20,Xs,2,0,"span",18),r.Kb(),r.Lb(21,"div",15),r.Jb(22,"input",23,24),r.dc(24,ta,2,0,"span",18),r.Kb(),r.Lb(25,"div",15),r.Jb(26,"input",25,26),r.dc(28,ea,2,0,"span",18),r.Kb(),r.Lb(29,"div",27),r.Lb(30,"div",28),r.Lb(31,"input",29,30),r.Sb("click",function(){return r.ac(t),r.Ub().togglePosition(!1)}),r.Kb(),r.Lb(33,"label",31),r.ec(34,"President"),r.Kb(),r.Kb(),r.Lb(35,"div",28),r.Lb(36,"input",32),r.Sb("click",function(){return r.ac(t),r.Ub().togglePosition(!1)}),r.Kb(),r.Lb(37,"label",33),r.ec(38,"General Secretary"),r.Kb(),r.Kb(),r.Lb(39,"div",28),r.Lb(40,"input",34),r.Sb("click",function(){return r.ac(t),r.Ub().togglePosition(!0)}),r.Kb(),r.Lb(41,"label",35),r.ec(42,"Other"),r.Kb(),r.Kb(),r.Kb(),r.dc(43,ra,4,2,"div",36),r.Lb(44,"div",37),r.ec(45," By signing up, you automatically agree to our terms and conditions. "),r.Kb(),r.Lb(46,"button",38),r.ec(47,"Signup as Society Admin "),r.Kb(),r.Kb(),r.Kb(),r.Lb(48,"div",39),r.Lb(49,"p"),r.ec(50,"Already have an account?"),r.Lb(51,"a",40),r.ec(52," Login"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()}if(2&t){const t=r.Zb(7),e=r.Zb(11),n=r.Zb(15),i=r.Zb(19),o=r.Zb(23),s=r.Zb(27),a=r.Ub();r.yb(12),r.Vb("ngIf",e.touched&&e.invalid),r.yb(4),r.Vb("ngIf",n.touched&&n.invalid),r.yb(4),r.Vb("ngIf",i.touched&&i.invalid),r.yb(4),r.Vb("ngIf",o.touched&&o.invalid),r.yb(4),r.Vb("ngIf",s.touched&&s.invalid),r.yb(15),r.Vb("ngIf",a.positionOther),r.yb(3),r.Vb("disabled",!t.valid)}}function oa(t,e){1&t&&(r.Lb(0,"div",6),r.Jb(1,"div"),r.Jb(2,"div"),r.Jb(3,"div"),r.Jb(4,"div"),r.Kb())}function sa(t,e){1&t&&(r.Lb(0,"span",41),r.ec(1,"Name is required. (<20 characters)"),r.Kb())}function aa(t,e){1&t&&(r.Lb(0,"span",41),r.ec(1,"Email is invalid. It must be a valid UoM's email."),r.Kb())}function ua(t,e){1&t&&(r.Lb(0,"span",41),r.ec(1,"Password is required."),r.Kb())}function ca(t,e){1&t&&(r.Lb(0,"span",41),r.ec(1,"Confirm Password is required."),r.Kb())}function la(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",7),r.Jb(1,"div",null,8),r.Lb(3,"div",9),r.Lb(4,"div",10),r.Jb(5,"img",11),r.Kb(),r.Lb(6,"div",14),r.Lb(7,"form",12,44),r.Sb("ngSubmit",function(){r.ac(t);const e=r.Zb(8);return r.Ub().onSubmitVoter(e)}),r.Lb(9,"div",15),r.Jb(10,"input",19,45),r.dc(12,sa,2,0,"span",18),r.Kb(),r.Lb(13,"div",15),r.Jb(14,"input",46,47),r.dc(16,aa,2,0,"span",18),r.Kb(),r.Lb(17,"div",15),r.Jb(18,"input",48,49),r.dc(20,ua,2,0,"span",18),r.Kb(),r.Lb(21,"div",50),r.Jb(22,"input",51,52),r.dc(24,ca,2,0,"span",18),r.Kb(),r.Lb(25,"div",37),r.ec(26," By signing up, you automatically agree to our terms and conditions. "),r.Kb(),r.Lb(27,"button",38),r.ec(28,"Signup as a Voter "),r.Kb(),r.Kb(),r.Kb(),r.Lb(29,"div",39),r.Lb(30,"p"),r.ec(31,"Already have an account?"),r.Lb(32,"a",40),r.ec(33," Login"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()}if(2&t){const t=r.Zb(8),e=r.Zb(11),n=r.Zb(15),i=r.Zb(19),o=r.Zb(23);r.yb(12),r.Vb("ngIf",e.touched&&e.invalid),r.yb(4),r.Vb("ngIf",n.touched&&n.invalid),r.yb(4),r.Vb("ngIf",i.touched&&i.invalid),r.yb(4),r.Vb("ngIf",o.touched&&o.invalid),r.yb(3),r.Vb("disabled",!t.valid)}}const ha=function(t){return{"btn-danger":t}};let da=(()=>{class t{constructor(t,e){this.signupservice=t,this.renderer=e,this.signupMode=!0,this.positionOther=!1,this.submitted=!1}ngOnInit(){}toggleSignupMode(){this.signupMode=!this.signupMode,this.positionOther=!1}togglePosition(t){this.positionOther=t}onSubmitSociety(t){this.submitted=!0;const e={societyName:t.value.societyName,email:t.value.email,password:t.value.password,fullname:t.value.fullname,confirmPassword:t.value.confirmpassword,position:t.value.position,positionText:t.value.positionText};this.signupservice.signupSociety(e).subscribe(e=>{this.submitted=!1,console.log(e),setTimeout(()=>{this.appendSuccessMessages("Society Account successfully created. Please confirm your email and sign-in to continue.")},1e3),t.reset()},t=>{this.submitted=!1,setTimeout(()=>{this.appendErrorMessages(t.error.message||"Some error occurred at the backend. Please try again later."),this.societyForm.form.patchValue({email:e.email,societyName:e.societyName,fullname:e.fullname,position:e.position,positionText:e.positionText})},1e3)})}onSubmitVoter(t){this.submitted=!0;const e={email:t.value.email,fullname:t.value.fullname,password:t.value.password,confirmpassword:t.value.confirmpassword};this.signupservice.signupVoter(e).subscribe(e=>{this.submitted=!1,console.log(e),setTimeout(()=>{this.appendSuccessMessages("Voter Account successfully created. Please confirm your email and sign-in to continue.")},1e3),t.reset()},t=>{this.submitted=!1,setTimeout(()=>{this.appendErrorMessages(t.error.message||"Some error occurred at the backend. Please try again later."),this.voterForm.form.patchValue({email:e.email})},1e3)})}appendErrorMessages(t){var e=document.createElement("div");e.innerHTML='<div class="alert alert-danger alert-dismissible fade show" role="alert"><strong>Error : </strong> '+t+'<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>',this.renderer.appendChild(this.Messages.nativeElement,e)}appendSuccessMessages(t){var e=document.createElement("div");e.innerHTML='<div class="alert alert-success alert-dismissible fade show" role="alert"><strong>Success : </strong> '+t+'<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>',this.renderer.appendChild(this.Messages.nativeElement,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(vs),r.Ib(r.D))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-signup"]],viewQuery:function(t,e){if(1&t&&(r.gc(Ws,!0),r.gc($s,!0),r.gc(Qs,!0)),2&t){let t;r.Yb(t=r.Tb())&&(e.Messages=t.first),r.Yb(t=r.Tb())&&(e.voterForm=t.first),r.Yb(t=r.Tb())&&(e.societyForm=t.first)}},decls:16,vars:10,consts:[[1,"row","mt-4","mb-4","d-flex","justify-content-center"],[1,"col-lg-2"],["type","button",1,"form-control","btn",3,"ngClass","click"],[1,"row","d-flex","justify-content-center"],["class","lds-ring",4,"ngIf"],["class","col-md-4 col-sm-8 col-xs-12 col-md-offset-4 col-sm-offset-2 login-image-main text-center",4,"ngIf"],[1,"lds-ring"],[1,"col-md-4","col-sm-8","col-xs-12","col-md-offset-4","col-sm-offset-2","login-image-main","text-center"],["Messages",""],[1,"row"],[1,"col-md-12","col-sm-12","col-xs-12","user-image-section"],["src","https://res.cloudinary.com/dbsuehmlk/image/upload/v1626190858/elections/user_huxxno.png"],[3,"ngSubmit"],["societyF","ngForm"],[1,"col-md-12","col-sm-12","col-xs-12","user-login-box"],[1,"form-group","mb-2"],["type","text","placeholder","Society Name","name","societyName","ngModel","","required","",1,"form-control"],["societyName","ngModel"],["class","help-block",4,"ngIf"],["type","text","placeholder","Full Name","maxlength","20","name","fullname","ngModel","","required","",1,"form-control"],["fullname","ngModel"],["type","text","placeholder","University E-mail","name","email","ngModel","","required","","email","",1,"form-control"],["email","ngModel"],["type","password","placeholder","Password","name","password","ngModel","","required","",1,"form-control"],["password","ngModel"],["type","password","placeholder","Confirm Password","name","confirmpassword","ngModel","","required","",1,"form-control"],["confirmpassword","ngModel"],[1,"mb-3"],[1,"form-check","form-check-inline"],["type","radio","name","position","id","inlineRadio1","value","president","ngModel","","required","",1,"form-check-input",3,"click"],["position","ngModel"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","position","id","inlineRadio2","value","gensec","ngModel","",1,"form-check-input",3,"click"],["for","inlineRadio2",1,"form-check-label"],["type","radio","name","position","id","inlineRadio3","value","other","ngModel","",1,"form-check-input",3,"click"],["for","inlineRadio3",1,"form-check-label"],["class","form-group mb-2",4,"ngIf"],[1,"mt-3","mb-2","tnc"],["type","submit",1,"btn","btn-default",3,"disabled"],[1,"col-md-12","col-sm-12","col-xs-12","last-part"],["routerLink","/login"],[1,"help-block"],["type","text","placeholder","What is your role in the society?","name","positionText","ngModel","",1,"form-control",3,"required"],["positionText","ngModel"],["voterF","ngForm"],["voterfullname","ngModel"],["type","text","placeholder","University E-mail","required","","email","","ngModel","","name","email",1,"form-control"],["voteremail","ngModel"],["type","password","placeholder","Password","required","","ngModel","","name","password",1,"form-control"],["voterpassword","ngModel"],[1,"form-group","mb-3"],["type","password","placeholder","Confirm Password","required","","ngModel","","name","confirmpassword",1,"form-control"],["voterconfirmpassword","ngModel"]],template:function(t,e){1&t&&(r.Lb(0,"html"),r.Jb(1,"head"),r.Lb(2,"body"),r.Lb(3,"div",0),r.Lb(4,"div",1),r.Lb(5,"button",2),r.Sb("click",function(){return e.toggleSignupMode()}),r.ec(6,"Society"),r.Kb(),r.Kb(),r.Lb(7,"div",1),r.Lb(8,"button",2),r.Sb("click",function(){return e.toggleSignupMode()}),r.ec(9,"Voter"),r.Kb(),r.Kb(),r.Kb(),r.Lb(10,"div",3),r.dc(11,Js,5,0,"div",4),r.dc(12,ia,53,7,"div",5),r.Kb(),r.Lb(13,"div",3),r.dc(14,oa,5,0,"div",4),r.dc(15,la,34,5,"div",5),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(5),r.Vb("ngClass",r.Xb(6,ha,e.signupMode)),r.yb(3),r.Vb("ngClass",r.Xb(8,ha,!e.signupMode)),r.yb(3),r.Vb("ngIf",e.signupMode&&e.submitted),r.yb(1),r.Vb("ngIf",e.signupMode&&!e.submitted),r.yb(2),r.Vb("ngIf",!e.signupMode&&e.submitted),r.yb(1),r.Vb("ngIf",!e.signupMode&&!e.submitted))},directives:[j,P,ke,Wt,Te,Tt,Gt,Ae,Pe,Le,De,Zt,po],styles:[".tnc[_ngcontent-%COMP%]{color:grey;font-size:.8em}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.help-block[_ngcontent-%COMP%]{color:red;font-size:.8em;text-align:left}.inline[_ngcontent-%COMP%], .lds-ring[_ngcontent-%COMP%]{display:inline-block}.lds-ring[_ngcontent-%COMP%]{position:relative;width:80px;height:80px}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border-radius:50%;animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border:8px solid transparent;border-top-color:#000}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{animation-delay:-.45s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.3s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.15s}@keyframes lds-ring{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.main-section[_ngcontent-%COMP%]{background-size:100% 100%;margin:0;width:100%}.login-image-main[_ngcontent-%COMP%], .user-login-header[_ngcontent-%COMP%]{margin-top:15px}.user-login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:45px;color:#fff}.last-part[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .user-login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#c9c5c7}.user-login-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-weight:600}.login-image-main[_ngcontent-%COMP%]{padding:30px;background-color:#fff;border-radius:5px;box-shadow:0 0 5px 0 #fff}.user-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background-color:#b56162;padding:30px;height:150px;width:150px;border-radius:50%}.last-part[_ngcontent-%COMP%], .user-login-box[_ngcontent-%COMP%]{padding:20px}.user-login-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .user-login-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#b56162;border:1px solid #b56162;width:100%;color:#fff;font-weight:600}.btnn[_ngcontent-%COMP%], .last-part[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#b56162}"]}),t})();var fa=n("D0XW");function pa(){return t=>t.lift(new ga)}class ga{call(t,e){return e.subscribe(new ma(t))}}class ma extends ze.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class ya{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new va(t,this.compare,this.keySelector))}}class va extends ze.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var ba=n("Jgta"),wa=n("zIRd"),_a=n("qOnz"),Ea=n("q/0M"),Ca=function(t,e){return(Ca=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Oa(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Sa,Ta="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ia=Ia||{},xa=Ta||self;function Aa(){}function ka(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ja(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Pa="closure_uid_"+(1e9*Math.random()>>>0),Na=0;function Da(t,e,n){return t.call.apply(t.bind,arguments)}function Ra(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function La(t,e,n){return(La=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Da:Ra).apply(null,arguments)}function Ma(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Va(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Fa(){this.s=this.s,this.o=this.o}var Ua={};Fa.prototype.s=!1,Fa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Pa)&&t[Pa]||(t[Pa]=++Na)}(this);delete Ua[t]}},Fa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var qa=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ba=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ha(t){return Array.prototype.concat.apply([],arguments)}function za(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ka(t){return/^[\s\xa0]*$/.test(t)}var Ga,Wa=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function $a(t,e){return-1!=t.indexOf(e)}function Qa(t,e){return t<e?-1:t>e?1:0}t:{var Ja=xa.navigator;if(Ja){var Ya=Ja.userAgent;if(Ya){Ga=Ya;break t}}Ga=""}function Za(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Xa(t){var e={};for(var n in t)e[n]=t[n];return e}var tu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eu(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<tu.length;o++)n=tu[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function nu(t){return nu[" "](t),t}nu[" "]=Aa;var ru,iu,ou=$a(Ga,"Opera"),su=$a(Ga,"Trident")||$a(Ga,"MSIE"),au=$a(Ga,"Edge"),uu=au||su,cu=$a(Ga,"Gecko")&&!($a(Ga.toLowerCase(),"webkit")&&!$a(Ga,"Edge"))&&!($a(Ga,"Trident")||$a(Ga,"MSIE"))&&!$a(Ga,"Edge"),lu=$a(Ga.toLowerCase(),"webkit")&&!$a(Ga,"Edge");function hu(){var t=xa.document;return t?t.documentMode:void 0}t:{var du="",fu=(iu=Ga,cu?/rv:([^\);]+)(\)|;)/.exec(iu):au?/Edge\/([\d\.]+)/.exec(iu):su?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(iu):lu?/WebKit\/(\S+)/.exec(iu):ou?/(?:Version)[ \/]?(\S+)/.exec(iu):void 0);if(fu&&(du=fu?fu[1]:""),su){var pu=hu();if(null!=pu&&pu>parseFloat(du)){ru=String(pu);break t}}ru=du}var gu={};var mu=xa.document&&su&&(hu()||parseInt(ru,10))||void 0,yu=function(){if(!xa.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{xa.addEventListener("test",Aa,e),xa.removeEventListener("test",Aa,e)}catch(n){}return t}();function vu(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function bu(t,e){if(vu.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(cu){t:{try{nu(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:wu[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&bu.Z.h.call(this)}}vu.prototype.h=function(){this.defaultPrevented=!0},Va(bu,vu);var wu={2:"touch",3:"pen",4:"mouse"};bu.prototype.h=function(){bu.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var _u="closure_listenable_"+(1e6*Math.random()|0),Eu=0;function Cu(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Eu,this.ca=this.fa=!1}function Ou(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Su(t){this.src=t,this.g={},this.h=0}function Tu(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=qa(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ou(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Iu(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}Su.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=Iu(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new Cu(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var xu="closure_lm_"+(1e6*Math.random()|0),Au={};function ku(t,e,n,r,i){if(r&&r.once)return Pu(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ku(t,e[o],n,r,i);return null}return n=Fu(n),t&&t[_u]?t.N(e,n,ja(r)?!!r.capture:!!r,i):ju(t,e,n,!1,r,i)}function ju(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=ja(i)?!!i.capture:!!i,a=Mu(t);if(a||(t[xu]=a=new Su(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Lu;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)yu||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ru(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Pu(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Pu(t,e[o],n,r,i);return null}return n=Fu(n),t&&t[_u]?t.O(e,n,ja(r)?!!r.capture:!!r,i):ju(t,e,n,!0,r,i)}function Nu(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Nu(t,e[o],n,r,i);else r=ja(r)?!!r.capture:!!r,n=Fu(n),t&&t[_u]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Iu(o=t.g[e],n,r,i))&&(Ou(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=Mu(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Iu(e,n,r,i)),(n=-1<t?e[t]:null)&&Du(n))}function Du(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[_u])Tu(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ru(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Mu(e))?(Tu(n,t),0==n.h&&(n.src=null,e[xu]=null)):Ou(t)}}}function Ru(t){return t in Au?Au[t]:Au[t]="on"+t}function Lu(t,e){if(t.ca)t=!0;else{e=new bu(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Du(t),t=n.call(r,e)}return t}function Mu(t){return(t=t[xu])instanceof Su?t:null}var Vu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fu(t){return"function"==typeof t?t:(t[Vu]||(t[Vu]=function(e){return t.handleEvent(e)}),t[Vu])}function Uu(){Fa.call(this),this.i=new Su(this),this.P=this,this.I=null}function qu(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new vu(e,t);else if(e instanceof vu)e.target=e.target||t;else{var i=e;eu(e=new vu(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Bu(s,r,!0,e)&&i}if(i=Bu(s=e.g=t,r,!0,e)&&i,i=Bu(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Bu(s=e.g=n[o],r,!1,e)&&i}function Bu(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&Tu(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Va(Uu,Fa),Uu.prototype[_u]=!0,Uu.prototype.removeEventListener=function(t,e,n,r){Nu(this,t,e,n,r)},Uu.prototype.M=function(){if(Uu.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Ou(n[r]);delete e.g[t],e.h--}}this.I=null},Uu.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Uu.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Hu=xa.JSON.stringify;function zu(){var t=Zu,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Ku,Gu=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Wu.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Wu=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new $u},function(t){return t.reset()}),$u=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Qu(t){xa.setTimeout(function(){throw t},0)}function Ju(t,e){Ku||function(){var t=xa.Promise.resolve(void 0);Ku=function(){t.then(Xu)}}(),Yu||(Ku(),Yu=!0),Zu.add(t,e)}var Yu=!1,Zu=new Gu;function Xu(){for(var t;t=zu();){try{t.h.call(t.g)}catch(n){Qu(n)}var e=Wu;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Yu=!1}function tc(t,e){Uu.call(this),this.h=t||1,this.g=e||xa,this.j=La(this.kb,this),this.l=Date.now()}function ec(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function nc(t,e,n){if("function"==typeof t)n&&(t=La(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=La(t.handleEvent,t)}return 2147483647<Number(e)?-1:xa.setTimeout(t,e||0)}function rc(t){t.g=nc(function(){t.g=null,t.i&&(t.i=!1,rc(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}Va(tc,Uu),(Sa=tc.prototype).da=!1,Sa.S=null,Sa.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),qu(this,"tick"),this.da&&(ec(this),this.start()))}},Sa.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Sa.M=function(){tc.Z.M.call(this),ec(this),delete this.g};var ic=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ca(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:rc(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(xa.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Fa);function oc(t){Fa.call(this),this.h=t,this.g={}}Va(oc,Fa);var sc=[];function ac(t,e,n,r){Array.isArray(n)||(n&&(sc[0]=n.toString()),n=sc);for(var i=0;i<n.length;i++){var o=ku(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function uc(t){Za(t.g,function(t,e){this.g.hasOwnProperty(e)&&Du(t)},t),t.g={}}function cc(){this.g=!0}function lc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Hu(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}oc.prototype.M=function(){oc.Z.M.call(this),uc(this)},oc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cc.prototype.Aa=function(){this.g=!1},cc.prototype.info=function(){};var hc={},dc=null;function fc(){return dc=dc||new Uu}function pc(t){vu.call(this,hc.Ma,t)}function gc(t){var e=fc();qu(e,new pc(e,t))}function mc(t,e){vu.call(this,hc.STAT_EVENT,t),this.stat=e}function yc(t){var e=fc();qu(e,new mc(e,t))}function vc(t,e){vu.call(this,hc.Na,t),this.size=e}function bc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return xa.setTimeout(function(){t()},e)}hc.Ma="serverreachability",Va(pc,vu),hc.STAT_EVENT="statevent",Va(mc,vu),hc.Na="timingevent",Va(vc,vu);var wc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},_c={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ec(){}function Cc(){}Ec.prototype.h=null;var Oc,Sc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Tc(){vu.call(this,"d")}function Ic(){vu.call(this,"c")}function xc(){}function Ac(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new oc(this),this.P=jc,this.W=new tc(t=uu?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new kc}function kc(){this.i=null,this.g="",this.h=!1}Va(Tc,vu),Va(Ic,vu),Va(xc,Ec),xc.prototype.g=function(){return new XMLHttpRequest},xc.prototype.i=function(){return{}},Oc=new xc;var jc=45e3,Pc={},Nc={};function Dc(t,e,n){t.K=1,t.v=rl(Yc(e)),t.s=n,t.U=!0,Rc(t,null)}function Rc(t,e){t.F=Date.now(),Fc(t),t.A=Yc(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),ml(n.h,"t",r),t.C=0,n=t.l.H,t.h=new kc,t.g=yh(t.l,n?e:null,!t.s),0<t.O&&(t.L=new ic(La(t.Ia,t,t.g),t.O)),ac(t.V,t.g,"readystatechange",t.gb),e=t.H?Xa(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),gc(1),function(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.X,t.s)}function Lc(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Mc(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Vc(t,n))==Nc){4==e&&(t.o=4,yc(14),i=!1),lc(t.j,t.m,null,"[Incomplete Response]");break}if(r==Pc){t.o=4,yc(15),lc(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}lc(t.j,t.m,r,null),zc(t,r)}Lc(t)&&r!=Nc&&r!=Pc&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,yc(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ch(e),e.L=!0,yc(11))):(lc(t.j,t.m,n,"[Invalid Chunked Response]"),Hc(t),Bc(t))}function Vc(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Nc:(n=Number(e.substring(n,r)),isNaN(n)?Pc:(r+=1)+n>e.length?Nc:(e=e.substr(r,n),t.C=r+n,e))}function Fc(t){t.Y=Date.now()+t.P,Uc(t,t.P)}function Uc(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=bc(La(t.eb,t),e)}function qc(t){t.B&&(xa.clearTimeout(t.B),t.B=null)}function Bc(t){0==t.l.G||t.I||dh(t.l,t)}function Hc(t){qc(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,ec(t.W),uc(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function zc(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Cl(n.i,t)))if(n.I=t.N,!t.J&&Cl(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;hh(n),th(n)}uh(n),yc(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=bc(La(n.ab,n),6e3));if(1>=El(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else ph(n,11)}else if((t.J||n.g==t)&&hh(n),!Ka(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&($a(l,"spdy")||$a(l,"quic")||$a(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Ol(h,h.h),h.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,nl(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=t;if((r=n).oa=mh(r,r.H?r.la:null,r.W),f.J){Sl(r.i,f);var p=f,g=r.K;g&&p.setTimeout(g),p.B&&(qc(p),Fc(p)),r.g=f}else ah(r);0<n.l.length&&rh(n)}else"stop"!=o[0]&&"close"!=o[0]||ph(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?ph(n,7):Xl(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}gc(4)}catch(o){}}function Kc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ka(t)||"string"==typeof t)Ba(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(ka(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(ka(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Gc(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Gc)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Wc(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];$c(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)$c(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function $c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Sa=Ac.prototype).setTimeout=function(t){this.P=t},Sa.gb=function(t){t=t.target;var e=this.L;e&&3==$l(t)?e.l():this.Ia(t)},Sa.Ia=function(t){try{if(t==this.g)t:{var e=$l(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||uu||this.g&&(this.h.h||this.g.ga()||Ql(this.g)))){this.I||4!=e||7==n||gc(8==n||0>=r?3:2),qc(this);var i=this.g.ba();this.N=i;e:if(Lc(this)){var o=Ql(this.g);t="";var s=o.length,a=4==$l(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Hc(this),Bc(this);var u="";break e}this.h.i=new xa.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ka(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,yc(12),Hc(this),Bc(this);break t}lc(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zc(this,i)}this.U?(Mc(this,e,u),uu&&this.i&&3==e&&(ac(this.V,this.W,"tick",this.fb),this.W.start())):(lc(this.j,this.m,u,null),zc(this,u)),4==e&&Hc(this),this.i&&!this.I&&(4==e?dh(this.l,this):(this.i=!1,Fc(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,yc(12)):(this.o=0,yc(13)),Hc(this),Bc(this)}}}catch(e){}},Sa.fb=function(){if(this.g){var t=$l(this.g),e=this.g.ga();this.C<e.length&&(qc(this),Mc(this,t,e),this.i&&4!=t&&Fc(this))}},Sa.cancel=function(){this.I=!0,Hc(this)},Sa.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(gc(3),yc(17)),Hc(this),this.o=2,Bc(this)):Uc(this,this.Y-t)},(Sa=Gc.prototype).R=function(){Wc(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Sa.T=function(){return Wc(this),this.g.concat()},Sa.get=function(t,e){return $c(this.h,t)?this.h[t]:e},Sa.set=function(t,e){$c(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Sa.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Qc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Jc(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Jc){this.g=void 0!==e?e:t.g,Zc(this,t.j),this.s=t.s,Xc(this,t.i),tl(this,t.m),this.l=t.l,e=t.h;var n=new dl;n.i=e.i,e.g&&(n.g=new Gc(e.g),n.h=e.h),el(this,n),this.o=t.o}else t&&(n=String(t).match(Qc))?(this.g=!!e,Zc(this,n[1]||"",!0),this.s=il(n[2]||""),Xc(this,n[3]||"",!0),tl(this,n[4]),this.l=il(n[5]||"",!0),el(this,n[6]||"",!0),this.o=il(n[7]||"")):(this.g=!!e,this.h=new dl(null,this.g))}function Yc(t){return new Jc(t)}function Zc(t,e,n){t.j=n?il(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Xc(t,e,n){t.i=n?il(e,!0):e}function tl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function el(t,e,n){e instanceof dl?(t.h=e,function(t,e){e&&!t.j&&(fl(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(pl(this,e),ml(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=ol(e,ll)),t.h=new dl(e,t.g))}function nl(t,e,n){t.h.set(e,n)}function rl(t){return nl(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function il(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ol(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,sl),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function sl(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Jc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ol(e,al,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ol(e,al,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(ol(n,"/"==n.charAt(0)?cl:ul,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ol(n,hl)),t.join("")};var al=/[#\/\?@]/g,ul=/[#\?:]/g,cl=/[#\?]/g,ll=/[#\?@]/g,hl=/#/g;function dl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fl(t){t.g||(t.g=new Gc,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function pl(t,e){fl(t),e=yl(t,e),$c(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,$c((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Wc(t)))}function gl(t,e){return fl(t),e=yl(t,e),$c(t.g.h,e)}function ml(t,e,n){pl(t,e),0<n.length&&(t.i=null,t.g.set(yl(t,e),za(n)),t.h+=n.length)}function yl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Sa=dl.prototype).add=function(t,e){fl(this),this.i=null,t=yl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Sa.forEach=function(t,e){fl(this),this.g.forEach(function(n,r){Ba(n,function(n){t.call(e,n,r,this)},this)},this)},Sa.T=function(){fl(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Sa.R=function(t){fl(this);var e=[];if("string"==typeof t)gl(this,t)&&(e=Ha(e,this.g.get(yl(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Ha(e,t[n])}return e},Sa.set=function(t,e){return fl(this),this.i=null,gl(this,t=yl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Sa.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Sa.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var vl=function(){return function(t,e){this.h=t,this.g=e}}();function bl(t){this.l=t||wl,t=xa.PerformanceNavigationTiming?0<(t=xa.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(xa.g&&xa.g.Ea&&xa.g.Ea()&&xa.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wl=10;function _l(t){return!!t.h||!!t.g&&t.g.size>=t.j}function El(t){return t.h?1:t.g?t.g.size:0}function Cl(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Ol(t,e){t.g?t.g.add(e):t.h=e}function Sl(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Tl(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=Oa(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return za(t.i)}function Il(){}function xl(){this.g=new Il}function Al(t,e,n){var r=n||"";try{Kc(t,function(t,n){var i=t;ja(t)&&(i=Hu(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(M_){throw e.push(r+"type="+encodeURIComponent("_badmap")),M_}}function kl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function jl(t){this.l=t.$b||null,this.j=t.ib||!1}function Pl(t,e){Uu.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Nl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bl.prototype.cancel=function(){var t,e;if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Oa(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Il.prototype.stringify=function(t){return xa.JSON.stringify(t,void 0)},Il.prototype.parse=function(t){return xa.JSON.parse(t,void 0)},Va(jl,Ec),jl.prototype.g=function(){return new Pl(this.l,this.j)},jl.prototype.i=function(t){return function(){return t}}({}),Va(Pl,Uu);var Nl=0;function Dl(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Rl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ll(t)}function Ll(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Sa=Pl.prototype).open=function(t,e){if(this.readyState!=Nl)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ll(this)},Sa.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||xa).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Sa.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rl(this)),this.readyState=Nl},Sa.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ll(this)),this.g&&(this.readyState=3,Ll(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==xa.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Dl(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Sa.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Rl(this):Ll(this),3==this.readyState&&Dl(this)}},Sa.Ua=function(t){this.g&&(this.response=this.responseText=t,Rl(this))},Sa.Ta=function(t){this.g&&(this.response=t,Rl(this))},Sa.ha=function(){this.g&&Rl(this)},Sa.setRequestHeader=function(t,e){this.v.append(t,e)},Sa.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Sa.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Pl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Ml=xa.JSON.parse;function Vl(t){Uu.call(this),this.headers=new Gc,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Fl,this.K=this.L=!1}Va(Vl,Uu);var Fl="",Ul=/^https?$/i,ql=["POST","PUT"];function Bl(t){return"content-type"==t.toLowerCase()}function Hl(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,zl(t),Gl(t)}function zl(t){t.D||(t.D=!0,qu(t,"complete"),qu(t,"error"))}function Kl(t){if(t.h&&void 0!==Ia&&(!t.C[1]||4!=$l(t)||2!=t.ba()))if(t.v&&4==$l(t))nc(t.Fa,0,t);else if(qu(t,"readystatechange"),4==$l(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(Qc)[1]||null;if(!o&&xa.self&&xa.self.location){var s=xa.self.location.protocol;o=s.substr(0,s.length-1)}i=!Ul.test(o?o.toLowerCase():"")}e=i}if(e)qu(t,"complete"),qu(t,"success");else{t.m=6;try{var a=2<$l(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",zl(t)}}finally{Gl(t)}}}function Gl(t,e){if(t.g){Wl(t);var n=t.g,r=t.C[0]?Aa:null;t.g=null,t.C=null,e||qu(t,"ready");try{n.onreadystatechange=r}catch(M_){}}}function Wl(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(xa.clearTimeout(t.A),t.A=null)}function $l(t){return t.g?t.g.readyState:0}function Ql(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Fl:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Jl(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Za(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):nl(t,e,n))}function Yl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Zl(t){this.za=0,this.l=[],this.h=new cc,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Yl("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Yl("baseRetryDelayMs",5e3,t),this.$a=Yl("retryDelaySeedMs",1e4,t),this.Ya=Yl("forwardChannelMaxRetries",2,t),this.ra=Yl("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new bl(t&&t.concurrentRequestLimit),this.Ca=new xl,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Xl(t){if(eh(t),3==t.G){var e=t.V++,n=Yc(t.F);nl(n,"SID",t.J),nl(n,"RID",e),nl(n,"TYPE","terminate"),oh(t,n),(e=new Ac(t,t.h,e,void 0)).K=2,e.v=rl(Yc(n)),n=!1,xa.navigator&&xa.navigator.sendBeacon&&(n=xa.navigator.sendBeacon(e.v.toString(),"")),!n&&xa.Image&&((new Image).src=e.v,n=!0),n||(e.g=yh(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Fc(e)}gh(t)}function th(t){t.g&&(ch(t),t.g.cancel(),t.g=null)}function eh(t){th(t),t.u&&(xa.clearTimeout(t.u),t.u=null),hh(t),t.i.cancel(),t.m&&("number"==typeof t.m&&xa.clearTimeout(t.m),t.m=null)}function nh(t,e){t.l.push(new vl(t.Za++,e)),3==t.G&&rh(t)}function rh(t){_l(t.i)||t.m||(t.m=!0,Ju(t.Ha,t),t.C=0)}function ih(t,e){var n;n=e?e.m:t.V++;var r=Yc(t.F);nl(r,"SID",t.J),nl(r,"RID",n),nl(r,"AID",t.U),oh(t,r),t.o&&t.s&&Jl(r,t.o,t.s),n=new Ac(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=sh(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Ol(t.i,n),Dc(n,r,e)}function oh(t,e){t.j&&Kc({},function(t,n){nl(e,n,t)})}function sh(t,e,n){n=Math.min(t.l.length,n);var r=t.j?La(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{Al(l,s,"req"+c+"_")}catch(Yh){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function ah(t){t.g||t.u||(t.Y=1,Ju(t.Ga,t),t.A=0)}function uh(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=bc(La(t.Ga,t),fh(t,t.A)),t.A++,0))}function ch(t){null!=t.B&&(xa.clearTimeout(t.B),t.B=null)}function lh(t){t.g=new Ac(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Yc(t.oa);nl(e,"RID","rpc"),nl(e,"SID",t.J),nl(e,"CI",t.N?"0":"1"),nl(e,"AID",t.U),oh(t,e),nl(e,"TYPE","xmlhttp"),t.o&&t.s&&Jl(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=rl(Yc(e)),n.s=null,n.U=!0,Rc(n,t)}function hh(t){null!=t.v&&(xa.clearTimeout(t.v),t.v=null)}function dh(t,e){var n=null;if(t.g==e){hh(t),ch(t),t.g=null;var r=2}else{if(!Cl(t.i,e))return;n=e.D,Sl(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;qu(r=fc(),new vc(r,n,e,i)),rh(t)}else ah(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(El(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=bc(La(t.Ha,t,e),fh(t,t.C)),t.C++,0)))}(t,e)||2==r&&uh(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ph(t,5);break;case 4:ph(t,10);break;case 3:ph(t,6);break;default:ph(t,2)}}function fh(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function ph(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=La(t.jb,t);n||(n=new Jc("//www.google.com/images/cleardot.gif"),xa.location&&"http"==xa.location.protocol||Zc(n,"https"),rl(n)),function(t,e){var n=new cc;if(xa.Image){var r=new Image;r.onload=Ma(kl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ma(kl,n,r,"TestLoadImage: error",!1,e),r.onabort=Ma(kl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ma(kl,n,r,"TestLoadImage: timeout",!1,e),xa.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else yc(2);t.G=0,t.j&&t.j.va(e),gh(t),eh(t)}function gh(t){t.G=0,t.I=-1,t.j&&(0==Tl(t.i).length&&0==t.l.length||(t.i.i.length=0,za(t.l),t.l.length=0),t.j.ua())}function mh(t,e,n){var r=function(t){return t instanceof Jc?Yc(t):new Jc(t,void 0)}(n);if(""!=r.i)e&&Xc(r,e+"."+r.i),tl(r,r.m);else{var i=xa.location;r=function(t,e,n,r){var i=new Jc(null,void 0);return t&&Zc(i,t),e&&Xc(i,e),n&&tl(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Za(t.aa,function(t,e){nl(r,e,t)}),n=t.sa,(e=t.D)&&n&&nl(r,e,n),nl(r,"VER",t.ma),oh(t,r),r}function yh(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vl(n&&t.Ba&&!t.qa?new jl({ib:!0}):t.qa)).L=t.H,e}function vh(){}function bh(){if(su&&!(10<=Number(mu)))throw Error("Environmental error: no available transport.")}function wh(t,e){Uu.call(this),this.g=new Zl(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ka(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ka(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ch(this)}function _h(t){Tc.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Eh(){Ic.call(this),this.status=1}function Ch(t){this.g=t}(Sa=Vl.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Oc.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Oc),this.g.onreadystatechange=La(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Hl(this,o)}t=n||"";var i=new Gc(this.headers);r&&Kc(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Bl,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=xa.FormData&&t instanceof xa.FormData,!(0<=qa(ql,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Wl(this),0<this.B&&((this.K=function(t){return su&&function(){return t=gu,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=Wa(String(ru)).split("."),n=Wa("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=Qa(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||Qa(0==o[2].length,0==s[2].length)||Qa(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=La(this.pa,this)):this.A=nc(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Hl(this,o)}},Sa.pa=function(){void 0!==Ia&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qu(this,"timeout"),this.abort(8))},Sa.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,qu(this,"complete"),qu(this,"abort"),Gl(this))},Sa.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gl(this,!0)),Vl.Z.M.call(this)},Sa.Fa=function(){this.s||(this.F||this.v||this.l?Kl(this):this.cb())},Sa.cb=function(){Kl(this)},Sa.ba=function(){try{return 2<$l(this)?this.g.status:-1}catch(iu){return-1}},Sa.ga=function(){try{return this.g?this.g.responseText:""}catch(iu){return""}},Sa.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ml(e)}},Sa.Da=function(){return this.m},Sa.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Sa=Zl.prototype).ma=8,Sa.G=1,Sa.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},Sa.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Ac(this,this.h,t,void 0),n=this.s;if(this.P&&(n?eu(n=Xa(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=sh(this,e,r),nl(i=Yc(this.F),"RID",t),nl(i,"CVER",22),this.D&&nl(i,"X-HTTP-Session-Id",this.D),oh(this,i),this.o&&n&&Jl(i,this.o,n),Ol(this.i,e),this.Ra&&nl(i,"TYPE","init"),this.ja?(nl(i,"$req",r),nl(i,"SID","null"),e.$=!0,Dc(e,i,null)):Dc(e,i,r),this.G=2}}else 3==this.G&&(t?ih(this,t):0==this.l.length||_l(this.i)||ih(this))},Sa.Ga=function(){if(this.u=null,lh(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=bc(La(this.bb,this),t)}},Sa.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,yc(10),th(this),lh(this))},Sa.ab=function(){null!=this.v&&(this.v=null,th(this),uh(this),yc(19))},Sa.jb=function(t){t?(this.h.info("Successfully pinged google.com"),yc(2)):(this.h.info("Failed to ping google.com"),yc(1))},(Sa=vh.prototype).xa=function(){},Sa.wa=function(){},Sa.va=function(){},Sa.ua=function(){},Sa.Oa=function(){},bh.prototype.g=function(t,e){return new wh(t,e)},Va(wh,Uu),wh.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Ju(La(t.hb,t,e))),yc(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=mh(t,null,t.W),rh(t)},wh.prototype.close=function(){Xl(this.g)},wh.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,nh(this.g,e)}else this.v?((e={}).__data__=Hu(t),nh(this.g,e)):nh(this.g,t)},wh.prototype.M=function(){this.g.j=null,delete this.j,Xl(this.g),delete this.g,wh.Z.M.call(this)},Va(_h,Tc),Va(Eh,Ic),Va(Ch,vh),Ch.prototype.xa=function(){qu(this.g,"a")},Ch.prototype.wa=function(t){qu(this.g,new _h(t))},Ch.prototype.va=function(t){qu(this.g,new Eh(t))},Ch.prototype.ua=function(){qu(this.g,"b")},bh.prototype.createWebChannel=bh.prototype.g,wh.prototype.send=wh.prototype.u,wh.prototype.open=wh.prototype.m,wh.prototype.close=wh.prototype.close,wc.NO_ERROR=0,wc.TIMEOUT=8,wc.HTTP_ERROR=6,_c.COMPLETE="complete",Cc.EventType=Sc,Sc.OPEN="a",Sc.CLOSE="b",Sc.ERROR="c",Sc.MESSAGE="d",Uu.prototype.listen=Uu.prototype.N,Vl.prototype.listenOnce=Vl.prototype.O,Vl.prototype.getLastError=Vl.prototype.La,Vl.prototype.getLastErrorCode=Vl.prototype.Da,Vl.prototype.getStatus=Vl.prototype.ba,Vl.prototype.getResponseJson=Vl.prototype.Qa,Vl.prototype.getResponseText=Vl.prototype.ga,Vl.prototype.send=Vl.prototype.ea;var Oh=wc,Sh=_c,Th=hc,Ih=jl,xh=Cc,Ah=Vl,kh=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();kh.o=-1;var jh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ph=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Fo.c)(e,t),e}(Error),Nh=new Ea.b("@firebase/firestore");function Dh(){return Nh.logLevel}function Rh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Nh.logLevel<=Ea.a.DEBUG){var r=e.map(Vh);Nh.debug.apply(Nh,Object(Fo.f)(["Firestore (8.7.0): "+t],r))}}function Lh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Nh.logLevel<=Ea.a.ERROR){var r=e.map(Vh);Nh.error.apply(Nh,Object(Fo.f)(["Firestore (8.7.0): "+t],r))}}function Mh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Nh.logLevel<=Ea.a.WARN){var r=e.map(Vh);Nh.warn.apply(Nh,Object(Fo.f)(["Firestore (8.7.0): "+t],r))}}function Vh(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(M_){return t}}function Fh(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.7.0) INTERNAL ASSERTION FAILED: "+t;throw Lh(e),new Error(e)}function Uh(t,e){t||Fh()}function qh(t,e){return t}function Bh(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Hh=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Bh(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function zh(t,e){return t<e?-1:t>e?1:0}function Kh(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Gh(t){return t+"\0"}var Wh=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ph(jh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ph(jh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ph(jh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ph(jh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?zh(this.nanoseconds,t.nanoseconds):zh(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),$h=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Wh(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Qh(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Yh(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Zh=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Fh(),void 0===n?n=t.length-e:n>t.length-e&&Fh(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Xh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fo.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Ph(jh.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Zh),td=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ed=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fo.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return td.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ph(jh.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Ph(jh.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ph(jh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ph(jh.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Zh),nd=function(){function t(t){this.fields=t,t.sort(ed.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Kh(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),rd=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return zh(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();rd.EMPTY_BYTE_STRING=new rd("");var id=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function od(t){if(Uh(!!t),"string"==typeof t){var e=0,n=id.exec(t);if(Uh(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:sd(t.seconds),nanos:sd(t.nanos)}}function sd(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ad(t){return"string"==typeof t?rd.fromBase64String(t):rd.fromUint8Array(t)}function ud(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function cd(t){var e=t.mapValue.fields.__previous_value__;return ud(e)?cd(e):e}function ld(t){var e=od(t.mapValue.fields.__local_write_time__.timestampValue);return new Wh(e.seconds,e.nanos)}function hd(t){return null==t}function dd(t){return 0===t&&1/t==-1/0}function fd(t){return"number"==typeof t&&Number.isInteger(t)&&!dd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var pd=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Xh.fromString(e))},t.fromName=function(e){return new t(Xh.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Xh.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Xh.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Xh(e.slice()))},t}();function gd(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ud(t)?4:10:Fh()}function md(t,e){var n=gd(t);if(n!==gd(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ld(t).isEqual(ld(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=od(t.timestampValue),r=od(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ad(t.bytesValue).isEqual(ad(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return sd(t.geoPointValue.latitude)===sd(e.geoPointValue.latitude)&&sd(t.geoPointValue.longitude)===sd(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return sd(t.integerValue)===sd(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=sd(t.doubleValue),r=sd(e.doubleValue);return n===r?dd(n)===dd(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Kh(t.arrayValue.values||[],e.arrayValue.values||[],md);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Qh(n)!==Qh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!md(n[i],r[i])))return!1;return!0}(t,e);default:return Fh()}}function yd(t,e){return void 0!==(t.values||[]).find(function(t){return md(t,e)})}function vd(t,e){var n=gd(t),r=gd(e);if(n!==r)return zh(n,r);switch(n){case 0:return 0;case 1:return zh(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=sd(t.integerValue||t.doubleValue),r=sd(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return bd(t.timestampValue,e.timestampValue);case 4:return bd(ld(t),ld(e));case 5:return zh(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ad(t),r=ad(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=zh(n[i],r[i]);if(0!==o)return o}return zh(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=zh(sd(t.latitude),sd(e.latitude));return 0!==n?n:zh(sd(t.longitude),sd(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=vd(n[i],r[i]);if(o)return o}return zh(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=zh(r[s],o[s]);if(0!==a)return a;var u=vd(n[r[s]],i[o[s]]);if(0!==u)return u}return zh(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Fh()}}function bd(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return zh(t,e);var n=od(t),r=od(e),i=zh(n.seconds,r.seconds);return 0!==i?i:zh(n.nanos,r.nanos)}function wd(t){return _d(t)}function _d(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=od(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ad(t.bytesValue).toBase64():"referenceValue"in t?pd.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=_d(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+_d(t.fields[o])}return e+"}"}(t.mapValue):Fh();var e}function Ed(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Cd(t){return!!t&&"integerValue"in t}function Od(t){return!!t&&"arrayValue"in t}function Sd(t){return!!t&&"nullValue"in t}function Td(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Id(t){return!!t&&"mapValue"in t}function xd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},od(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return Jh(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=xd(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=xd(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Ad=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Id(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=xd(e)},t.prototype.setAll=function(t){var e=this,n=ed.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=xd(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Id(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return md(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Id(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Jh(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(xd(this.value))},t}();function kd(t){var e=[];return Jh(t.fields,function(t,n){var r=new ed([t]);if(Id(n)){var i=kd(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new nd(e)}var jd=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,$h.min(),Ad.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Ad.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Ad.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Ad.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Ad.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Pd=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Nd(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Pd(t,e,n,r,i,o,s)}function Dd(t){var e=qh(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+wd(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),hd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Wd(e.startAt)),e.endAt&&(n+="|ub:",n+=Wd(e.endAt)),e.h=n}return e.h}function Rd(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Qd(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!md(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yd(t.startAt,e.startAt)&&Yd(t.endAt,e.endAt)}function Ld(t){return pd.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Md=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Fo.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Vd(t,n,r):"array-contains"===n?new Bd(t,r):"in"===n?new Hd(t,r):"not-in"===n?new zd(t,r):"array-contains-any"===n?new Kd(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Fd(t,n):new Ud(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(vd(e,this.value)):null!==e&&gd(this.value)===gd(e)&&this.m(vd(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Fh()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Vd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=pd.fromName(r.referenceValue),i}return Object(Fo.c)(e,t),e.prototype.matches=function(t){var e=pd.comparator(t.key,this.key);return this.m(e)},e}(Md),Fd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=qd(0,n),r}return Object(Fo.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Md),Ud=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=qd(0,n),r}return Object(Fo.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Md);function qd(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return pd.fromName(t.referenceValue)})}var Bd=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Fo.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Od(e)&&yd(e.arrayValue,this.value)},e}(Md),Hd=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Fo.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&yd(this.value.arrayValue,e)},e}(Md),zd=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Fo.c)(e,t),e.prototype.matches=function(t){if(yd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!yd(this.value.arrayValue,e)},e}(Md),Kd=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Fo.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Od(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return yd(e.value.arrayValue,t)})},e}(Md),Gd=function(t,e){this.position=t,this.before=e};function Wd(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return wd(t)}).join(",")}var $d=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Qd(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Jd(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?pd.comparator(pd.fromName(s.referenceValue),n.key):vd(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Yd(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!md(t.position[n],e.position[n]))return!1;return!0}var Zd=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Xd(t,e,n,r,i,o,s,a){return new Zd(t,e,n,r,i,o,s,a)}function tf(t){return new Zd(t)}function ef(t){return!hd(t.limit)&&"F"===t.limitType}function nf(t){return!hd(t.limit)&&"L"===t.limitType}function rf(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function of(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function sf(t){return null!==t.collectionGroup}function af(t){var e=qh(t);if(null===e.p){e.p=[];var n=of(e),r=rf(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new $d(n)),e.p.push(new $d(ed.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new $d(ed.keyField(),u))}}}return e.p}function uf(t){var e=qh(t);if(!e.T)if("F"===e.limitType)e.T=Nd(e.path,e.collectionGroup,af(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=af(e);r<i.length;r++){var o=i[r];n.push(new $d(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Gd(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Gd(e.startAt.position,!e.startAt.before):null;e.T=Nd(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function cf(t,e,n){return new Zd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lf(t,e){return Rd(uf(t),uf(e))&&t.limitType===e.limitType}function hf(t){return Dd(uf(t))+"|lt:"+t.limitType}function df(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+wd(e.value);var e}).join(", ")+"]"),hd(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Wd(t.startAt)),t.endAt&&(e+=", endAt: "+Wd(t.endAt)),"Target("+e+")"}(uf(t))+"; limitType="+t.limitType+")"}function ff(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):pd.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Jd(t.startAt,af(t),e)||t.endAt&&Jd(t.endAt,af(t),e))}(t,e)}function pf(t){return function(e,n){for(var r=!1,i=0,o=af(t);i<o.length;i++){var s=o[i],a=gf(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function gf(t,e,n){var r=t.field.isKeyField()?pd.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?vd(r,i):Fh()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fh()}}function mf(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dd(e)?"-0":e}}function yf(t){return{integerValue:""+t}}function vf(t,e){return fd(e)?yf(e):mf(t,e)}var bf=function(){this._=void 0};function wf(t,e,n){return t instanceof Cf?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Of?Sf(t,e):t instanceof Tf?If(t,e):function(t,e){var n=Ef(t,e),r=Af(n)+Af(t.A);return Cd(n)&&Cd(t.A)?yf(r):mf(t.R,r)}(t,e)}function _f(t,e,n){return t instanceof Of?Sf(t,e):t instanceof Tf?If(t,e):n}function Ef(t,e){return t instanceof xf?Cd(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Cf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fo.c)(e,t),e}(bf),Of=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Fo.c)(e,t),e}(bf);function Sf(t,e){for(var n=kf(e),r=function(t){n.some(function(e){return md(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Tf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Fo.c)(e,t),e}(bf);function If(t,e){for(var n=kf(e),r=function(t){n=n.filter(function(e){return!md(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var xf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(Fo.c)(e,t),e}(bf);function Af(t){return sd(t.integerValue||t.doubleValue)}function kf(t){return Od(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var jf=function(t,e){this.field=t,this.transform=e},Pf=function(t,e){this.version=t,this.transformResults=e},Nf=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Df(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Rf=function(){};function Lf(t,e,n){t instanceof qf?function(t,e,n){var r=t.value.clone(),i=zf(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Bf?function(t,e,n){if(Df(t.precondition,e)){var r=zf(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Hf(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Mf(t,e,n){t instanceof qf?function(t,e,n){if(Df(t.precondition,e)){var r=t.value.clone(),i=Kf(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Uf(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Bf?function(t,e,n){if(Df(t.precondition,e)){var r=Kf(t.fieldTransforms,n,e),i=e.data;i.setAll(Hf(t)),i.setAll(r),e.convertToFoundDocument(Uf(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Df(t.precondition,e)&&e.convertToNoDocument($h.min())}(t,e)}function Vf(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Ef(o.transform,s||null);null!=a&&(null==n&&(n=Ad.empty()),n.set(o.field,a))}return n||null}function Ff(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Kh(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Of&&e instanceof Of||t instanceof Tf&&e instanceof Tf?Kh(t.elements,e.elements,md):t instanceof xf&&e instanceof xf?md(t.A,e.A):t instanceof Cf&&e instanceof Cf}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Uf(t){return t.isFoundDocument()?t.version:$h.min()}var qf=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(Fo.c)(e,t),e}(Rf),Bf=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(Fo.c)(e,t),e}(Rf);function Hf(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function zf(t,e,n){var r=new Map;Uh(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,_f(s,a,n[i]))}return r}function Kf(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,wf(a,u,e))}return r}var Gf,Wf,$f=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Fo.c)(e,t),e}(Rf),Qf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Fo.c)(e,t),e}(Rf),Jf=function(t){this.count=t};function Yf(t){switch(t){case jh.OK:return Fh();case jh.CANCELLED:case jh.UNKNOWN:case jh.DEADLINE_EXCEEDED:case jh.RESOURCE_EXHAUSTED:case jh.INTERNAL:case jh.UNAVAILABLE:case jh.UNAUTHENTICATED:return!1;case jh.INVALID_ARGUMENT:case jh.NOT_FOUND:case jh.ALREADY_EXISTS:case jh.PERMISSION_DENIED:case jh.FAILED_PRECONDITION:case jh.ABORTED:case jh.OUT_OF_RANGE:case jh.UNIMPLEMENTED:case jh.DATA_LOSS:return!0;default:return Fh()}}function Zf(t){if(void 0===t)return Lh("GRPC error has no .code"),jh.UNKNOWN;switch(t){case Gf.OK:return jh.OK;case Gf.CANCELLED:return jh.CANCELLED;case Gf.UNKNOWN:return jh.UNKNOWN;case Gf.DEADLINE_EXCEEDED:return jh.DEADLINE_EXCEEDED;case Gf.RESOURCE_EXHAUSTED:return jh.RESOURCE_EXHAUSTED;case Gf.INTERNAL:return jh.INTERNAL;case Gf.UNAVAILABLE:return jh.UNAVAILABLE;case Gf.UNAUTHENTICATED:return jh.UNAUTHENTICATED;case Gf.INVALID_ARGUMENT:return jh.INVALID_ARGUMENT;case Gf.NOT_FOUND:return jh.NOT_FOUND;case Gf.ALREADY_EXISTS:return jh.ALREADY_EXISTS;case Gf.PERMISSION_DENIED:return jh.PERMISSION_DENIED;case Gf.FAILED_PRECONDITION:return jh.FAILED_PRECONDITION;case Gf.ABORTED:return jh.ABORTED;case Gf.OUT_OF_RANGE:return jh.OUT_OF_RANGE;case Gf.UNIMPLEMENTED:return jh.UNIMPLEMENTED;case Gf.DATA_LOSS:return jh.DATA_LOSS;default:return Fh()}}(Wf=Gf||(Gf={}))[Wf.OK=0]="OK",Wf[Wf.CANCELLED=1]="CANCELLED",Wf[Wf.UNKNOWN=2]="UNKNOWN",Wf[Wf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wf[Wf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wf[Wf.NOT_FOUND=5]="NOT_FOUND",Wf[Wf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wf[Wf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wf[Wf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wf[Wf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wf[Wf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wf[Wf.ABORTED=10]="ABORTED",Wf[Wf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wf[Wf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wf[Wf.INTERNAL=13]="INTERNAL",Wf[Wf.UNAVAILABLE=14]="UNAVAILABLE",Wf[Wf.DATA_LOSS=15]="DATA_LOSS";var Xf=function(){function t(t,e){this.comparator=t,this.root=e||ep.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ep.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ep.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new tp(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new tp(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new tp(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new tp(this.root,t,this.comparator,!0)},t}(),tp=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),ep=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Fh();if(this.right.isRed())throw Fh();var t=this.left.check();if(t!==this.right.check())throw Fh();return t+(this.isRed()?0:1)},t}();ep.EMPTY=null,ep.RED=!0,ep.BLACK=!1,ep.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Fh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Fh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Fh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Fh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Fh()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new ep(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var np=function(){function t(t){this.comparator=t,this.data=new Xf(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new rp(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new rp(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),rp=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ip=new Xf(pd.comparator);function op(){return ip}var sp=new Xf(pd.comparator);function ap(){return sp}var up=new Xf(pd.comparator);function cp(){return up}var lp=new np(pd.comparator);function hp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=lp,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var dp=new np(zh);function fp(){return dp}var pp=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,gp.createSynthesizedTargetChangeForCurrentChange(e,n)),new t($h.min(),r,fp(),op(),hp())},t}(),gp=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(rd.EMPTY_BYTE_STRING,n,hp(),hp(),hp())},t}(),mp=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},yp=function(t,e){this.targetId=t,this.V=e},vp=function(t,e,n,r){void 0===n&&(n=rd.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},bp=function(){function t(){this.S=0,this.D=Ep(),this.C=rd.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=hp(),e=hp(),n=hp();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Fh()}}),new gp(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Ep()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),wp=function(){function t(t){this.W=t,this.G=new Map,this.H=op(),this.J=_p(),this.Y=new np(zh)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Fh()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Ld(i))if(0===n){var o=new pd(i.path);this.tt(e,o,jd.newNoDocument(o,$h.min()))}else Uh(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&Ld(o.target)){var s=new pd(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,jd.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=hp();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new pp(t,n,this.Y,this.H,r);return this.H=op(),this.J=_p(),this.Y=new np(zh),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new bp,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new np(zh),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Rh("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new bp),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function _p(){return new Xf(pd.comparator)}function Ep(){return new Xf(pd.comparator)}var Cp={asc:"ASCENDING",desc:"DESCENDING"},Op={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sp=function(t,e){this.databaseId=t,this.I=e};function Tp(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ip(t,e){return t.I?e.toBase64():e.toUint8Array()}function xp(t,e){return Tp(t,e.toTimestamp())}function Ap(t){return Uh(!!t),$h.fromTimestamp(function(t){var e=od(t);return new Wh(e.seconds,e.nanos)}(t))}function kp(t,e){return function(t){return new Xh(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function jp(t){var e=Xh.fromString(t);return Uh(eg(e)),e}function Pp(t,e){return kp(t.databaseId,e.path)}function Np(t,e){var n=jp(e);if(n.get(1)!==t.databaseId.projectId)throw new Ph(jh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ph(jh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pd(Mp(n))}function Dp(t,e){return kp(t.databaseId,e)}function Rp(t){var e=jp(t);return 4===e.length?Xh.emptyPath():Mp(e)}function Lp(t){return new Xh(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Mp(t){return Uh(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Vp(t,e,n){return{name:Pp(t,e),fields:n.value.mapValue.fields}}function Fp(t,e,n){var r=Np(t,e.name),i=Ap(e.updateTime),o=new Ad({mapValue:{fields:e.fields}}),s=jd.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Up(t,e){var n;if(e instanceof qf)n={update:Vp(t,e.key,e.value)};else if(e instanceof $f)n={delete:Pp(t,e.key)};else if(e instanceof Bf)n={update:Vp(t,e.key,e.data),updateMask:tg(e.fieldMask)};else{if(!(e instanceof Qf))return Fh();n={verify:Pp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Cf)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Of)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Tf)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof xf)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Fh()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:xp(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Fh()}(t,e.precondition)),n}function qp(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Nf.updateTime(Ap(t.updateTime)):void 0!==t.exists?Nf.exists(t.exists):Nf.none()}(e.currentDocument):Nf.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Uh("REQUEST_TIME"===e.setToServerValue),n=new Cf):"appendMissingElements"in e?n=new Of(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Tf(e.removeAllFromArray.values||[]):"increment"in e?n=new xf(t,e.increment):Fh();var r=ed.fromServerFormat(e.fieldPath);return new jf(r,n)}(t,e)}):[];if(e.update){var i=Np(t,e.update.name),o=new Ad({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new nd((t.fieldPaths||[]).map(function(t){return ed.fromServerFormat(t)}))}(e.updateMask);return new Bf(i,o,s,n,r)}return new qf(i,o,n,r)}if(e.delete){var a=Np(t,e.delete);return new $f(a,n)}if(e.verify){var u=Np(t,e.verify);return new Qf(u,n)}return Fh()}function Bp(t,e){return{documents:[Dp(t,e.path)]}}function Hp(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Dp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Dp(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Td(t.value))return{unaryFilter:{field:Jp(t.field),op:"IS_NAN"}};if(Sd(t.value))return{unaryFilter:{field:Jp(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Td(t.value))return{unaryFilter:{field:Jp(t.field),op:"IS_NOT_NAN"}};if(Sd(t.value))return{unaryFilter:{field:Jp(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jp(t.field),op:Qp(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Jp(t.field),direction:$p(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||hd(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Gp(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Gp(e.endAt)),n}function zp(t){var e=Rp(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Uh(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Kp(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new $d(Yp(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return hd(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Wp(n.startAt));var l=null;return n.endAt&&(l=Wp(n.endAt)),Xd(e,i,a,s,u,"F",c,l)}function Kp(t){return t?void 0!==t.unaryFilter?[Xp(t)]:void 0!==t.fieldFilter?[Zp(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Kp(t)}).reduce(function(t,e){return t.concat(e)}):Fh():[]}function Gp(t){return{before:t.before,values:t.position}}function Wp(t){return new Gd(t.values||[],!!t.before)}function $p(t){return Cp[t]}function Qp(t){return Op[t]}function Jp(t){return{fieldPath:t.canonicalString()}}function Yp(t){return ed.fromServerFormat(t.fieldPath)}function Zp(t){return Md.create(Yp(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Fh()}}(t.fieldFilter.op),t.fieldFilter.value)}function Xp(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Yp(t.unaryFilter.field);return Md.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Yp(t.unaryFilter.field);return Md.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Yp(t.unaryFilter.field);return Md.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Yp(t.unaryFilter.field);return Md.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Fh()}}function tg(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function eg(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function ng(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ig(e)),e=rg(t.get(n),e);return ig(e)}function rg(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function ig(t){return t+"\x01\x01"}function og(t){var e=t.length;if(Uh(e>=2),2===e)return Uh("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Xh.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Fh(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Fh()}o=s+2}return new Xh(r)}var sg=function(t,e){this.seconds=t,this.nanoseconds=e},ag=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ag.store="owner",ag.key="owner";var ug=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ug.store="mutationQueues",ug.keyPath="userId";var cg=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};cg.store="mutations",cg.keyPath="batchId",cg.userMutationsIndex="userMutationsIndex",cg.userMutationsKeyPath=["userId","batchId"];var lg=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ng(e)]},t.key=function(t,e,n){return[t,ng(e),n]},t}();lg.store="documentMutations",lg.PLACEHOLDER=new lg;var hg=function(t,e){this.path=t,this.readTime=e},dg=function(t,e){this.path=t,this.version=e},fg=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};fg.store="remoteDocuments",fg.readTimeIndex="readTimeIndex",fg.readTimeIndexPath="readTime",fg.collectionReadTimeIndex="collectionReadTimeIndex",fg.collectionReadTimeIndexPath=["parentPath","readTime"];var pg=function(t){this.byteSize=t};pg.store="remoteDocumentGlobal",pg.key="remoteDocumentGlobalKey";var gg=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};gg.store="targets",gg.keyPath="targetId",gg.queryTargetsIndexName="queryTargetsIndex",gg.queryTargetsKeyPath=["canonicalId","targetId"];var mg=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};mg.store="targetDocuments",mg.keyPath=["targetId","path"],mg.documentTargetsIndex="documentTargetsIndex",mg.documentTargetsKeyPath=["path","targetId"];var yg=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};yg.key="targetGlobalKey",yg.store="targetGlobal";var vg=function(t,e){this.collectionId=t,this.parent=e};vg.store="collectionParents",vg.keyPath=["collectionId","parent"];var bg=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};bg.store="clientMetadata",bg.keyPath="clientId";var wg=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};wg.store="bundles",wg.keyPath="bundleId";var _g=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};_g.store="namedQueries",_g.keyPath="name";var Eg=Object(Fo.f)(Object(Fo.f)([],Object(Fo.f)(Object(Fo.f)([],Object(Fo.f)(Object(Fo.f)([],Object(Fo.f)(Object(Fo.f)([],[ug.store,cg.store,lg.store,fg.store,gg.store,ag.store,yg.store,mg.store]),[bg.store])),[pg.store])),[vg.store])),[wg.store,_g.store]),Cg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Og=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Sg=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Tg=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Fh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Ig=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Sg,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new kg(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Rg(e.target.error);n.ft.reject(new kg(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new kg(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Rh("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Pg(e)},t}(),xg=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(_a.i)())&&Lh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Rh("SimpleDb","Removing database:",t),Ng(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(_a.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Fo.b)(this,void 0,void 0,function(){var e,n=this;return Object(Fo.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Rh("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new kg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Ph(jh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new kg(t,n))},i.onupgradeneeded=function(t){Rh("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Rh("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Fo.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(Fo.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Fo.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Ig.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Tg.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Rh("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ag=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Ng(this.Pt.delete())},t}(),kg=function(t){function e(e,n){var r=this;return(r=t.call(this,jh.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Fo.c)(e,t),e}(Ph);function jg(t){return"IndexedDbTransactionError"===t.name}var Pg=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Rh("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Rh("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ng(n)},t.prototype.add=function(t){return Rh("SimpleDb","ADD",this.store.name,t,t),Ng(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ng(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Rh("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Rh("SimpleDb","DELETE",this.store.name,t),Ng(this.store.delete(t))},t.prototype.count=function(){return Rh("SimpleDb","COUNT",this.store.name),Ng(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){Rh("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Tg(function(n,r){e.onerror=function(t){var e=Rg(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Tg(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Ag(i),s=e(i.primaryKey,i.value,o);if(s instanceof Tg){var a=s.catch(function(t){return o.done(),Tg.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Tg.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ng(t){return new Tg(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Rg(t.target.error);n(e)}})}var Dg=!1;function Rg(t){var e=xg._t(Object(_a.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ph("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Dg||(Dg=!0,setTimeout(function(){throw r},0)),r}}return t}var Lg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(Fo.c)(e,t),e}(Og);function Mg(t,e){var n=qh(t);return xg.It(n.Mt,e)}var Vg=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Lf(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Mf(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Mf(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument($h.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},hp())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Kh(this.mutations,t.mutations,function(t,e){return Ff(t,e)})&&Kh(this.baseMutations,t.baseMutations,function(t,e){return Ff(t,e)})},t}(),Fg=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Uh(e.mutations.length===r.length);for(var i=cp(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Ug=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=$h.min()),void 0===o&&(o=$h.min()),void 0===s&&(s=rd.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),qg=function(t){this.Lt=t};function Bg(t,e){if(e.document)return Fp(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=pd.fromSegments(e.noDocument.path),r=Wg(e.noDocument.readTime),i=jd.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=pd.fromSegments(e.unknownDocument.path);return r=Wg(e.unknownDocument.version),jd.newUnknownDocument(o,r)}return Fh()}function Hg(t,e,n){var r=zg(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Pp(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Tp(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new fg(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Gg(e.version);return s=e.hasCommittedMutations,new fg(null,new hg(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Gg(e.version);return new fg(new dg(c,l),null,null,!0,r,i)}return Fh()}function zg(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Kg(t){var e=new Wh(t[0],t[1]);return $h.fromTimestamp(e)}function Gg(t){var e=t.toTimestamp();return new sg(e.seconds,e.nanoseconds)}function Wg(t){var e=new Wh(t.seconds,t.nanoseconds);return $h.fromTimestamp(e)}function $g(t,e){for(var n=(e.baseMutations||[]).map(function(e){return qp(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return qp(t.Lt,e)}),o=Wh.fromMillis(e.localWriteTimeMs);return new Vg(e.batchId,o,n,i)}function Qg(t){var e,n,r=Wg(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Wg(t.lastLimboFreeSnapshotVersion):$h.min();return void 0!==t.query.documents?(Uh(1===(n=t.query).documents.length),e=uf(tf(Rp(n.documents[0])))):e=function(t){return uf(zp(t))}(t.query),new Ug(e,t.targetId,0,t.lastListenSequenceNumber,r,i,rd.fromBase64String(t.resumeToken))}function Jg(t,e){var n,r=Gg(e.snapshotVersion),i=Gg(e.lastLimboFreeSnapshotVersion);n=Ld(e.target)?Bp(t.Lt,e.target):Hp(t.Lt,e.target);var o=e.resumeToken.toBase64();return new gg(e.targetId,Dd(e.target),r,o,e.sequenceNumber,i,n)}function Yg(t){var e=zp({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?cf(e,e.limit,"L"):e}var Zg=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Xg(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Wg(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Xg(t).put({bundleId:(n=e).id,createTime:Gg(Ap(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return tm(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Yg(e.bundledQuery),readTime:Wg(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return tm(t).put(function(t){return{name:t.name,readTime:Gg(Ap(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Xg(t){return Mg(t,wg.store)}function tm(t){return Mg(t,_g.store)}var em=function(){function t(){this.Bt=new nm}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Tg.resolve()},t.prototype.getCollectionParents=function(t,e){return Tg.resolve(this.Bt.getEntries(e))},t}(),nm=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new np(Xh.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new np(Xh.comparator)).toArray()},t}(),rm=function(){function t(){this.qt=new nm}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:ng(i)};return im(t).put(o)}return Tg.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Gh(e),""],!1,!0);return im(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(og(o.parent))}return n})},t}();function im(t){return Mg(t,vg.store)}var om={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sm=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function am(t,e,n){var r=t.store(cg.store),i=t.store(lg.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Uh(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=lg.key(e,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return Tg.waitFor(o).next(function(){return c})}function um(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Fh();e=t.noDocument}return JSON.stringify(e).length}sm.DEFAULT_COLLECTION_PERCENTILE=10,sm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sm.DEFAULT=new sm(41943040,sm.DEFAULT_COLLECTION_PERCENTILE,sm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sm.DISABLED=new sm(-1,0,0);var cm=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Uh(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hm(t).$t({index:cg.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=dm(t),s=hm(t);return s.add({}).next(function(a){Uh("number"==typeof a);for(var u=new Vg(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Up(t.Lt,e)}),i=n.mutations.map(function(e){return Up(t.Lt,e)});return new cg(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new np(function(t,e){return zh(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],g=lg.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,lg.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),Tg.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return hm(t).get(e).next(function(t){return t?(Uh(t.userId===n.userId),$g(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Tg.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return hm(t).$t({index:cg.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Uh(e.batchId>=r),o=$g(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return hm(t).$t({index:cg.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hm(t).Nt(cg.userMutationsIndex,n).next(function(t){return t.map(function(t){return $g(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=lg.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return dm(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=og(r[1]);if(a===n.userId&&e.path.isEqual(c))return hm(t).get(u).next(function(t){if(!t)throw Fh();Uh(t.userId===n.userId),o.push($g(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new np(zh),i=[];return e.forEach(function(e){var o=lg.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=dm(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=og(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Tg.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=lg.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new np(zh);return dm(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=og(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(hm(t).get(e).next(function(t){if(null===t)throw Fh();Uh(t.userId===n.userId),r.push($g(n.R,t))}))}),Tg.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return am(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Tg.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Tg.resolve();var r=IDBKeyRange.lowerBound(lg.prefixForUser(e.userId)),i=[];return dm(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=og(t[1]);i.push(o)}else r.done()}).next(function(){Uh(0===i.length)})})},t.prototype.containsKey=function(t,e){return lm(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return fm(t).get(this.userId).next(function(t){return t||new ug(e.userId,-1,"")})},t}();function lm(t,e,n){var r=lg.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return dm(t).$t({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function hm(t){return Mg(t,cg.store)}function dm(t){return Mg(t,lg.store)}function fm(t){return Mg(t,ug.store)}var pm=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),gm=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new pm(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return $h.fromTimestamp(new Wh(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return mm(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Uh(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return mm(t).$t(function(s,a){var u=Qg(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Tg.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return mm(t).$t(function(t,n){var r=Qg(n);e(r)})},t.prototype.Xt=function(t){return ym(t).get(yg.key).next(function(t){return Uh(null!==t),t})},t.prototype.Zt=function(t,e){return ym(t).put(yg.key,e)},t.prototype.te=function(t,e){return mm(t).put(Jg(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Dd(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return mm(t).$t({range:r,index:gg.queryTargetsIndexName},function(t,n,r){var o=Qg(n);Rd(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=vm(t);return e.forEach(function(e){var s=ng(e.path);i.push(o.put(new mg(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),Tg.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=vm(t);return Tg.forEach(e,function(e){var o=ng(e.path);return Tg.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=vm(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=vm(t),i=hp();return r.$t({range:n,kt:!0},function(t,e,n){var r=og(t[1]),o=new pd(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=ng(e.path),r=IDBKeyRange.bound([n],[Gh(n)],!1,!0),i=0;return vm(t).$t({index:mg.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return mm(t).get(e).next(function(t){return t?Qg(t):null})},t}();function mm(t){return Mg(t,gg.store)}function ym(t){return Mg(t,yg.store)}function vm(t){return Mg(t,mg.store)}function bm(t){return Object(Fo.b)(this,void 0,void 0,function(){return Object(Fo.d)(this,function(e){if(t.code!==jh.FAILED_PRECONDITION||t.message!==Cg)throw t;return Rh("LocalStore","Unexpectedly lost primary lease"),[2]})})}function wm(t,e){var n=t[1],r=e[1],i=zh(t[0],e[0]);return 0===i?zh(n,r):i}var _m=function(){function t(t){this.ne=t,this.buffer=new np(wm),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();wm(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Em=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Rh("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Fo.b)(e,void 0,void 0,function(){var e;return Object(Fo.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return jg(e=n.sent())?(Rh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,bm(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Cm=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Tg.resolve(kh.o);var r=new _m(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Rh("LruGarbageCollector","Garbage collection skipped; disabled"),Tg.resolve(om)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Rh("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),om):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Rh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Dh()<=Ea.a.DEBUG&&Rh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Tg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Om=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Cm(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Sm(t,n)},t.prototype.removeReference=function(t,e,n){return Sm(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Sm(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return fm(t).Ot(function(r){return lm(t,r,e).next(function(t){return t&&(n=!0),Tg.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),vm(t).delete([0,ng(s.path)])})});i.push(u)}}).next(function(){return Tg.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Sm(t,e)},t.prototype.we=function(t,e){var n,r=vm(t),i=kh.o;return r.$t({index:mg.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==kh.o&&e(new pd(og(n)),i),i=s,n=o):i=kh.o}).next(function(){i!==kh.o&&e(new pd(og(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Sm(t,e){return vm(t).put(function(t,e){return new mg(0,ng(t.path),e)}(e,t.currentSequenceNumber))}var Tm=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Jh(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Yh(this.inner)},t}(),Im=function(){function t(){this.changes=new Tm(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:$h.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:jd.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Tg.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),xm=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return jm(t).put(Pm(e),n)},t.prototype.removeEntry=function(t,e){var n=jm(t),r=Pm(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return jm(t).get(Pm(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return jm(t).get(Pm(e)).next(function(t){return{document:n.ye(e,t),size:um(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=op();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=op(),i=new Xf(pd.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,um(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Tg.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return jm(t).$t({range:r},function(t,e,r){for(var s=pd.fromSegments(t);o&&pd.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=op(),o=e.path.length+1,s={};if(n.isEqual($h.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=zg(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=fg.collectionReadTimeIndex}return jm(t).$t(s,function(t,n,s){if(t.length===o){var a=Bg(r.R,n);e.path.isPrefixOf(a.key.path)?ff(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Am(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return km(t).get(pg.key).next(function(t){return Uh(!!t),t})},t.prototype.me=function(t,e){return km(t).put(pg.key,e)},t.prototype.ye=function(t,e){if(e){var n=Bg(this.R,e);if(!n.isNoDocument()||!n.version.isEqual($h.min()))return n}return jd.newInvalidDocument(t)},t}(),Am=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Tm(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Fo.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new np(function(t,e){return zh(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Hg(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=um(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Hg(e.Ie.R,jd.newNoDocument(o,$h.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Tg.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Im);function km(t){return Mg(t,pg.store)}function jm(t){return Mg(t,fg.store)}function Pm(t){return t.path.toArray()}var Nm=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Uh(n<r&&n>=0&&r<=11);var o=new Ig("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(ag.store)}(t),function(t){t.createObjectStore(ug.store,{keyPath:ug.keyPath}),t.createObjectStore(cg.store,{keyPath:cg.keyPath,autoIncrement:!0}).createIndex(cg.userMutationsIndex,cg.userMutationsKeyPath,{unique:!0}),t.createObjectStore(lg.store)}(t),Dm(t),function(t){t.createObjectStore(fg.store)}(t));var s=Tg.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(mg.store),t.deleteObjectStore(gg.store),t.deleteObjectStore(yg.store)}(t),Dm(t)),s=s.next(function(){return function(t){var e=t.store(yg.store),n=new yg(0,0,$h.min().toTimestamp(),0);return e.put(yg.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(cg.store).Nt().next(function(n){t.deleteObjectStore(cg.store),t.createObjectStore(cg.store,{keyPath:cg.keyPath,autoIncrement:!0}).createIndex(cg.userMutationsIndex,cg.userMutationsKeyPath,{unique:!0});var r=e.store(cg.store),i=n.map(function(t){return r.put(t)});return Tg.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(bg.store,{keyPath:bg.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(pg.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(fg.store);e.createIndex(fg.readTimeIndex,fg.readTimeIndexPath,{unique:!1}),e.createIndex(fg.collectionReadTimeIndex,fg.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(wg.store,{keyPath:wg.keyPath})}(t),function(t){t.createObjectStore(_g.store,{keyPath:_g.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(fg.store).$t(function(t,n){e+=um(n)}).next(function(){var n=new pg(e);return t.store(pg.store).put(pg.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(ug.store),r=t.store(cg.store);return n.Nt().next(function(n){return Tg.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(cg.userMutationsIndex,i).next(function(r){return Tg.forEach(r,function(r){Uh(r.userId===n.userId);var i=$g(e.R,r);return am(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(mg.store),n=t.store(fg.store);return t.store(yg.store).get(yg.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new Xh(n),s=function(t){return[0,ng(t)]}(o);r.push(e.get(s).next(function(n){return n?Tg.resolve():function(n){return e.put(new mg(0,ng(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Tg.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(vg.store,{keyPath:vg.keyPath});var n=e.store(vg.store),r=new nm,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:ng(i)})}};return e.store(fg.store).$t({kt:!0},function(t,e){var n=new Xh(t);return i(n.popLast())}).next(function(){return e.store(lg.store).$t({kt:!0},function(t,e){var n=og(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(gg.store);return n.$t(function(t,r){var i=Qg(r),o=Jg(e.R,i);return n.put(o)})},t}();function Dm(t){t.createObjectStore(mg.store,{keyPath:mg.keyPath}).createIndex(mg.documentTargetsIndex,mg.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(gg.store,{keyPath:gg.keyPath}).createIndex(gg.queryTargetsIndexName,gg.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(yg.store)}var Rm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Lm=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Ph(jh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Om(this,i),this.Le=n+"main",this.R=new qg(u),this.Be=new xg(this.Le,11,new Nm(this.R)),this.qe=new gm(this.referenceDelegate,this.R),this.Ut=new rm,this.Ue=function(t,e){return new xm(t,e)}(this.R,this.Ut),this.Ke=new Zg,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Lh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ph(jh.FAILED_PRECONDITION,Rm);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new kh(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Fo.b)(e,void 0,void 0,function(){return Object(Fo.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(Fo.b)(e,void 0,void 0,function(){return Object(Fo.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(Fo.b)(e,void 0,void 0,function(){return Object(Fo.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Vm(e).put(new bg(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(jg(e))return Rh("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Rh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Mm(t).get(ag.key).next(function(t){return Tg.resolve(e.tn(t))})},t.prototype.en=function(t){return Vm(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Fo.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Fo.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Mg(t,bg.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Tg.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Tg.resolve(!0):Mm(t).get(ag.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Ph(jh.FAILED_PRECONDITION,Rm);return!1}}return!(!e.networkEnabled||!e.inForeground)||Vm(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Rh("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Fo.b)(this,void 0,void 0,function(){var t=this;return Object(Fo.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ag.store,bg.store],function(e){var n=new Lg(e,kh.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Vm(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return cm.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Rh("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Eg,function(o){return r=new Lg(o,i.Ne?i.Ne.next():kh.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Lh("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Ph(jh.FAILED_PRECONDITION,Cg);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Mm(t).get(ag.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ph(jh.FAILED_PRECONDITION,Rm)})},t.prototype.Ze=function(t){var e=new ag(this.clientId,this.allowTabSynchronization,Date.now());return Mm(t).put(ag.key,e)},t.yt=function(){return xg.yt()},t.prototype.Xe=function(t){var e=this,n=Mm(t);return n.get(ag.key).next(function(t){return e.tn(t)?(Rh("IndexedDbPersistence","Releasing primary lease."),n.delete(ag.key)):Tg.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Lh("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Rh("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Lh("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Lh("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Mm(t){return Mg(t,ag.store)}function Vm(t){return Mg(t,bg.store)}function Fm(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Um=function(t,e){this.progress=t,this.wn=e},qm=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return pd.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):sf(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new pd(e)).next(function(t){var e=ap();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=ap();return this.Ut.getCollectionParents(t,i).next(function(s){return Tg.forEach(s,function(s){var a=function(t,e){return new Zd(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=jd.newInvalidDocument(c),r=r.insert(c,l)),Mf(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){ff(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=hp(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Bf&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Bm=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=hp(),i=hp(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Hm=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual($h.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(ef(e)||nf(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Dh()<=Ea.a.DEBUG&&Rh("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),df(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new np(pf(t));return e.forEach(function(e,r){ff(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Dh()<=Ea.a.DEBUG&&Rh("QueryEngine","Using full collection scan to execute query:",df(e)),this.Sn.getDocumentsMatchingQuery(t,e,$h.min())},t}(),zm=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Xf(zh),this.kn=new Tm(function(t){return Dd(t)},Rd),this.$n=$h.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new qm(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function Km(t,e,n,r){return new zm(t,e,n,r)}function Gm(t,e){return Object(Fo.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Fo.d)(this,function(s){switch(s.label){case 0:return n=qh(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new qm(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=hp(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Wm(t,e){var n=qh(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Tg.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Uh(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function $m(t){var e=qh(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Qm(t,e){var n=qh(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Uh(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=op();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(Jm(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual($h.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return Tg.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function Jm(t,e,n,r,i){var o=hp();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=op();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual($h.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Rh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Ym(t,e){var n=qh(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Zm(t,e){var n=qh(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Tg.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Ug(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Xm(t,e,n){return Object(Fo.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Fo.d)(this,function(a){switch(a.label){case 0:r=qh(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!jg(s=a.sent()))throw s;return Rh("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function ty(t,e,n){var r=qh(t),i=$h.min(),o=hp();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=qh(t),i=r.kn.get(n);return void 0!==i?Tg.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,uf(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:$h.min(),n?o:hp())}).next(function(t){return{documents:t,Bn:o}})})}function ey(t,e){var n=qh(t),r=qh(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function ny(t){var e=qh(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=qh(t),i=op(),o=zg(n),s=jm(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:fg.readTimeIndex,range:a},function(t,e){var n=Bg(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:Kg(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function ry(t){return Object(Fo.b)(this,void 0,void 0,function(){var e;return Object(Fo.d)(this,function(n){return[2,(e=qh(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=jm(t),n=$h.min();return e.$t({index:fg.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Kg(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function iy(t,e,n,r){return Object(Fo.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,d,f;return Object(Fo.d)(this,function(p){switch(p.label){case 0:for(i=qh(t),o=hp(),s=op(),a=cp(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,Zm(i,function(t){return uf(tf(Xh.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Jm(t,d,s,$h.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,o,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function oy(t,e,n){return void 0===n&&(n=hp()),Object(Fo.b)(this,void 0,void 0,function(){var r,i;return Object(Fo.d)(this,function(o){switch(o.label){case 0:return[4,Zm(t,uf(Yg(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=qh(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Ap(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var s=r.withResumeToken(rd.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var sy=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Tg.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Ap(n.createTime)}),Tg.resolve()},t.prototype.getNamedQuery=function(t,e){return Tg.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Yg(t.bundledQuery),readTime:Ap(t.readTime)}}(e)),Tg.resolve()},t}(),ay=function(){function t(){this.Wn=new np(uy.Gn),this.zn=new np(uy.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new uy(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new uy(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new pd(new Xh([])),r=new uy(n,t),i=new uy(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new pd(new Xh([])),n=new uy(e,t),r=new uy(e,t+1),i=hp();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new uy(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),uy=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return pd.comparator(t.key,e.key)||zh(t.ns,e.ns)},t.Hn=function(t,e){return zh(t.ns,e.ns)||pd.comparator(t.key,e.key)},t}(),cy=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new np(uy.Gn)}return t.prototype.checkEmpty=function(t){return Tg.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Vg(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new uy(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Tg.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Tg.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Tg.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Tg.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Tg.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new uy(e,0),i=new uy(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Tg.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new np(zh);return e.forEach(function(t){var e=new uy(t,0),i=new uy(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Tg.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;pd.isDocumentKey(i)||(i=i.child(""));var o=new uy(new pd(i),0),s=new np(zh);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),Tg.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Uh(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Tg.forEach(e.mutations,function(i){var o=new uy(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new uy(e,0),r=this.rs.firstAfterOrEqual(n);return Tg.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Tg.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),ly=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Xf(pd.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Tg.resolve(n?n.document.clone():jd.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=op();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():jd.newInvalidDocument(t))}),Tg.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=op(),i=new pd(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||ff(e,u)&&(r=r.insert(u.key,u.clone()))}return Tg.resolve(r)},t.prototype.fs=function(t,e){return Tg.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new hy(this)},t.prototype.getSize=function(t){return Tg.resolve(this.size)},t}(),hy=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Fo.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Tg.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Im),dy=function(){function t(t){this.persistence=t,this.ds=new Tm(function(t){return Dd(t)},Rd),this.lastRemoteSnapshotVersion=$h.min(),this.highestTargetId=0,this.ws=0,this._s=new ay,this.targetCount=0,this.ys=pm.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Tg.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Tg.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Tg.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Tg.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Tg.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new pm(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Tg.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Tg.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Tg.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Tg.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Tg.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Tg.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Tg.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Tg.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Tg.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Tg.resolve(n)},t.prototype.containsKey=function(t,e){return Tg.resolve(this._s.containsKey(e))},t}(),fy=function(){function t(t,e){var n=this;this.gs={},this.Ne=new kh(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new dy(this),this.Ut=new em,this.Ue=function(t,e){return new ly(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new qg(e),this.Ke=new sy(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new cy(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Rh("MemoryPersistence","Starting transaction:",t);var i=new py(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Tg.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),py=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Fo.c)(e,t),e}(Og),gy=function(){function t(t){this.persistence=t,this.As=new ay,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Fh()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Tg.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Tg.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Tg.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Tg.forEach(this.vs,function(r){var i=pd.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Tg.or([function(){return Tg.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),my=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function yy(t,e){return"firestore_clients_"+t+"_"+e}function vy(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function by(t,e){return"firestore_targets_"+t+"_"+e}my.UNAUTHENTICATED=new my(null),my.GOOGLE_CREDENTIALS=new my("google-credentials-uid"),my.FIRST_PARTY=new my("first-party-uid");var wy=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Ph(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Lh("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),_y=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ph(i.error.code,i.error.message)),o?new t(e,i.state,r):(Lh("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ey=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=fp(),s=0;i&&s<r.activeTargetIds.length;++s)i=fd(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Lh("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Cy=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Lh("SharedClientState","Failed to parse online state: "+e),null)},t}(),Oy=function(){function t(){this.activeTargetIds=fp()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Sy=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Xf(zh),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=yy(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Oy),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Fo.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(Fo.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(yy(this.persistenceKey,r)))&&(o=Ey.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(by(this.persistenceKey,t));if(n){var r=_y.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(by(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Rh("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Rh("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Rh("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Rh("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Lh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(Fo.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Fo.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=kh.o;if(null!=t)try{var n=JSON.parse(t);Uh("number"==typeof n),e=n}catch(t){Lh("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==kh.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new wy(this.currentUser,t,e,n),i=vy(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=vy(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=by(this.persistenceKey,t),i=new _y(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Ey.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return wy.Vs(new my(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return _y.Vs(r,e)},t.prototype.js=function(t){return Cy.Vs(t)},t.prototype.ii=function(t){return Object(Fo.b)(this,void 0,void 0,function(){return Object(Fo.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Rh("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=fp();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Ty=function(){function t(){this.li=new Oy,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Oy,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Iy=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),xy=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Rh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Rh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Ay={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ky=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),jy=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(Fo.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new Ah;s.listenOnce(Sh.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Oh.NO_ERROR:var e=s.getResponseJson();Rh("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Oh.TIMEOUT:Rh("Connection",'RPC "'+t+'" timed out'),o(new Ph(jh.DEADLINE_EXCEEDED,"Request time out"));break;case Oh.HTTP_ERROR:var n=s.getStatus();if(Rh("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(jh).indexOf(e)>=0?e:jh.UNKNOWN}(r.status);o(new Ph(a,r.message))}else o(new Ph(jh.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Ph(jh.UNAVAILABLE,"Connection failed."));break;default:Fh()}}finally{Rh("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new bh,i=fc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ih({})),this.Fi(o.initMessageHeaders,e),Object(_a.n)()||Object(_a.p)()||Object(_a.l)()||Object(_a.m)()||Object(_a.q)()||Object(_a.k)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Rh("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new ky({Ei:function(t){c?Rh("Connection","Not sending because WebChannel is closed:",t):(u||(Rh("Connection","Opening WebChannel transport."),a.open(),u=!0),Rh("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,xh.EventType.OPEN,function(){c||Rh("Connection","WebChannel transport opened.")}),h(a,xh.EventType.CLOSE,function(){c||(c=!0,Rh("Connection","WebChannel transport closed"),l.Vi())}),h(a,xh.EventType.ERROR,function(t){c||(c=!0,Mh("Connection","WebChannel transport errored:",t),l.Vi(new Ph(jh.UNAVAILABLE,"The operation could not be completed")))}),h(a,xh.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Uh(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Rh("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Gf[t];if(void 0!==e)return Zf(e)}(i),s=r.message;void 0===o&&(o=jh.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Ph(o,s)),a.close()}else Rh("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Th.STAT_EVENT,function(t){10===t.stat?Rh("Connection","Detected buffering proxy"):11===t.stat&&Rh("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Rh("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return Rh("RestConnection","Received: ",t),t},function(e){throw Mh("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.7.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Ay[t]},t}());function Py(){return"undefined"!=typeof window?window:null}function Ny(){return"undefined"!=typeof document?document:null}function Dy(t){return new Sp(t,!0)}var Ry=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Rh("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Ly=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Ry(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Fo.b)(this,void 0,void 0,function(){return Object(Fo.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Fo.b)(this,void 0,void 0,function(){return Object(Fo.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Fo.b)(this,void 0,void 0,function(){return Object(Fo.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===jh.RESOURCE_EXHAUSTED?(Lh(e.toString()),Lh("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===jh.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Ph(jh.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(Fo.b)(t,void 0,void 0,function(){return Object(Fo.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Rh("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Rh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),My=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(Fo.c)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Fh()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Uh(void 0===e||"string"==typeof e),rd.fromBase64String(e||"")):(Uh(void 0===e||e instanceof Uint8Array),rd.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?jh.UNKNOWN:Zf(t.code);return new Ph(e,t.message||"")}(a);n=new vp(r,i,o,s||null)}else if("documentChange"in e){i=Np(t,(r=e.documentChange).document.name),o=Ap(r.document.updateTime);var a=new Ad({mapValue:{fields:r.document.fields}}),u=(s=jd.newFoundDocument(i,o,a),r.targetIds||[]);n=new mp(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Np(t,(r=e.documentDelete).document),o=r.readTime?Ap(r.readTime):$h.min(),a=jd.newNoDocument(i,o),n=new mp([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Np(t,(r=e.documentRemove).document),n=new mp([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Fh();var c=e.filter;i=new Jf(r=c.count||0),n=new yp(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return $h.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?$h.min():e.readTime?Ap(e.readTime):$h.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Lp(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Ld(r)?{documents:Bp(t,r)}:{query:Hp(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Ip(t,e.resumeToken):e.snapshotVersion.compareTo($h.min())>0&&(n.readTime=Tp(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fh()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Lp(this.R),e.removeTarget=t,this.cr(e)},e}(Ly),Vy=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(Fo.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Uh(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Uh(void 0!==e),t.map(function(t){return function(t,e){var n=Ap(t.updateTime?t.updateTime:e);return n.isEqual($h.min())&&(n=Ap(e)),new Pf(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Ap(t.commitTime);return this.listener.Tr(n,e)}return Uh(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Lp(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Up(e.R,t)})};this.cr(n)},e}(Ly),Fy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Fo.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Ph(jh.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===jh.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Ph(jh.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===jh.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Ph(jh.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Uy=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Lh(e),this.Vr=!1):Rh("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),qy=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(Fo.b)(o,void 0,void 0,function(){return Object(Fo.d)(this,function(t){switch(t.label){case 0:return Jy(this)?(Rh("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Fo.b)(this,void 0,void 0,function(){var e;return Object(Fo.d)(this,function(n){switch(n.label){case 0:return(e=qh(t)).Or.add(4),[4,Hy(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,By(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Uy(n,r)};function By(t){return Object(Fo.b)(this,void 0,void 0,function(){var e,n;return Object(Fo.d)(this,function(r){switch(r.label){case 0:if(!Jy(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Hy(t){return Object(Fo.b)(this,void 0,void 0,function(){var e,n;return Object(Fo.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function zy(t,e){var n=qh(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Qy(n)?$y(n):hv(n).er()&&Gy(n,e))}function Ky(t,e){var n=qh(t),r=hv(n);n.$r.delete(e),r.er()&&Wy(n,e),0===n.$r.size&&(r.er()?r.ir():Jy(n)&&n.Br.set("Unknown"))}function Gy(t,e){t.qr.U(e.targetId),hv(t).mr(e)}function Wy(t,e){t.qr.U(e),hv(t).yr(e)}function $y(t){t.qr=new wp({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),hv(t).start(),t.Br.Sr()}function Qy(t){return Jy(t)&&!hv(t).tr()&&t.$r.size>0}function Jy(t){return 0===qh(t).Or.size}function Yy(t){t.qr=void 0}function Zy(t){return Object(Fo.b)(this,void 0,void 0,function(){return Object(Fo.d)(this,function(e){return t.$r.forEach(function(e,n){Gy(t,e)}),[2]})})}function Xy(t,e){return Object(Fo.b)(this,void 0,void 0,function(){return Object(Fo.d)(this,function(n){return Yy(t),Qy(t)?(t.Br.Nr(e),$y(t)):t.Br.set("Unknown"),[2]})})}function tv(t,e,n){return Object(Fo.b)(this,void 0,void 0,function(){var r,i,o;return Object(Fo.d)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof vp&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Fo.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Fo.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Rh("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,ev(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof mp?t.qr.X(e):e instanceof yp?t.qr.rt(e):t.qr.et(e),n.isEqual($h.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,$m(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(rd.EMPTY_BYTE_STRING,n.snapshotVersion)),Wy(t,e);var r=new Ug(n.target,e,1,n.sequenceNumber);Gy(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Rh("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,ev(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function ev(t,e,n){return Object(Fo.b)(this,void 0,void 0,function(){var r=this;return Object(Fo.d)(this,function(i){switch(i.label){case 0:if(!jg(e))throw e;return t.Or.add(1),[4,Hy(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return $m(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Fo.b)(r,void 0,void 0,function(){return Object(Fo.d)(this,function(e){switch(e.label){case 0:return Rh("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,By(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function nv(t,e){return e().catch(function(n){return ev(t,n,e)})}function rv(t){return Object(Fo.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Fo.d)(this,function(s){switch(s.label){case 0:e=qh(t),n=dv(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Jy(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Ym(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=dv(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,ev(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return iv(e)&&ov(e),[2]}})})}function iv(t){return Jy(t)&&!dv(t).tr()&&t.kr.length>0}function ov(t){dv(t).start()}function sv(t){return Object(Fo.b)(this,void 0,void 0,function(){return Object(Fo.d)(this,function(e){return dv(t).Ar(),[2]})})}function av(t){return Object(Fo.b)(this,void 0,void 0,function(){var e,n,r;return Object(Fo.d)(this,function(i){for(e=dv(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function uv(t,e,n){return Object(Fo.b)(this,void 0,void 0,function(){var r,i;return Object(Fo.d)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Fg.from(r,e,n),[4,nv(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,rv(t)];case 2:return o.sent(),[2]}})})}function cv(t,e){return Object(Fo.b)(this,void 0,void 0,function(){return Object(Fo.d)(this,function(n){switch(n.label){case 0:return e&&dv(t).pr?[4,function(t,e){return Object(Fo.b)(this,void 0,void 0,function(){var n,r;return Object(Fo.d)(this,function(i){switch(i.label){case 0:return Yf(r=e.code)&&r!==jh.ABORTED?(n=t.kr.shift(),dv(t).sr(),[4,nv(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,rv(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return iv(t)&&ov(t),[2]}})})}function lv(t,e){return Object(Fo.b)(this,void 0,void 0,function(){var n;return Object(Fo.d)(this,function(r){switch(r.label){case 0:return n=qh(t),e?(n.Or.delete(2),[4,By(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Hy(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function hv(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=qh(t);return r.br(),new My(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Zy.bind(null,t),Ri:Xy.bind(null,t),_r:tv.bind(null,t)}),t.Mr.push(function(n){return Object(Fo.b)(e,void 0,void 0,function(){return Object(Fo.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Qy(t)?$y(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Yy(t),e.label=3;case 3:return[2]}})})})),t.Ur}function dv(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=qh(t);return r.br(),new Vy(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:sv.bind(null,t),Ri:cv.bind(null,t),Ir:av.bind(null,t),Tr:uv.bind(null,t)}),t.Mr.push(function(n){return Object(Fo.b)(e,void 0,void 0,function(){return Object(Fo.d)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,rv(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.kr.length>0&&(Rh("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var fv=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Sg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ph(jh.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function pv(t,e){if(Lh("AsyncQueue",e+": "+t),jg(t))return new Ph(jh.UNAVAILABLE,e+": "+t);throw t}var gv=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||pd.comparator(e.key,n.key)}:function(t,e){return pd.comparator(t.key,e.key)},this.keyedMap=ap(),this.sortedSet=new Xf(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),mv=function(){function t(){this.Qr=new Xf(pd.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Fh():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),yv=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,gv.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),vv=function(){this.Wr=void 0,this.listeners=[]},bv=function(){this.queries=new Tm(function(t){return hf(t)},lf),this.onlineState="Unknown",this.Gr=new Set};function wv(t,e){return Object(Fo.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Fo.d)(this,function(c){switch(c.label){case 0:if(n=qh(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new vv),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=pv(a,"Initialization of query '"+df(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Ov(n),[2]}})})}function _v(t,e){return Object(Fo.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Fo.d)(this,function(a){return n=qh(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Ev(t,e){for(var n=qh(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&Ov(n)}function Cv(t,e,n){var r=qh(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Ov(t){t.Gr.forEach(function(t){t.next()})}var Sv=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new yv(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=yv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Tv=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Iv=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Np(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Fp(this.R,t.document,!1):jd.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Ap(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Iv(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||hp()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Fo.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Fo.d)(this,function(o){switch(o.label){case 0:return[4,iy(this.localStore,new Iv(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,oy(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Um(Object.assign({},this.progress),t))]}})})}}();var xv=function(t){this.key=t},Av=function(t){this.key=t},kv=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=hp(),this.mutatedKeys=hp(),this.lo=pf(t),this.fo=new gv(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new mv,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=ef(this.query)&&i.size===this.query.limit?i.last():null,c=nf(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=ff(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),ef(this.query)||nf(this.query))for(;s.size>this.query.limit;){var l=ef(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fh()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new yv(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new mv,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=hp(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Av(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new xv(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=hp();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return yv.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),jv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Pv=function(t){this.key=t,this.bo=!1},Nv=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Tm(function(t){return hf(t)},lf),this.Vo=new Map,this.So=new Set,this.Do=new Xf(pd.comparator),this.Co=new Map,this.No=new ay,this.xo={},this.Fo=new Map,this.ko=pm.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Dv(t,e){return Object(Fo.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Fo.d)(this,function(a){switch(a.label){case 0:return n=cb(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Zm(n.localStore,uf(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Rv(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&zy(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function Rv(t,e,n,r){return Object(Fo.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(Fo.d)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(Fo.b)(this,void 0,void 0,function(){var i,o,s;return Object(Fo.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,ty(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,($v(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,ty(t.localStore,e,!0)];case 1:return i=l.sent(),o=new kv(e,i.Bn),s=o._o(i.documents),a=gp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),$v(t,n,u.To),c=new jv(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Lv(t,e){return Object(Fo.b)(this,void 0,void 0,function(){var n,r,i;return Object(Fo.d)(this,function(o){switch(o.label){case 0:return n=qh(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!lf(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Xm(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Ky(n.remoteStore,r.targetId),Gv(n,r.targetId)}).catch(bm)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Gv(n,r.targetId),[4,Xm(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Mv(t,e,n){return Object(Fo.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Fo.d)(this,function(a){switch(a.label){case 0:r=lb(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=qh(t),i=Wh.now(),o=e.reduce(function(t,e){return t.add(e.key)},hp());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Vf(c,n.get(c.key));null!=l&&s.push(new Bf(c.key,l,kd(l.value.mapValue),Nf.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Xf(zh)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Yv(r,i.changes)];case 3:return a.sent(),[4,rv(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=pv(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Vv(t,e){return Object(Fo.b)(this,void 0,void 0,function(){var n,r;return Object(Fo.d)(this,function(i){switch(i.label){case 0:n=qh(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Qm(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Uh(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Uh(r.bo):t.removedDocuments.size>0&&(Uh(r.bo),r.bo=!1))}),[4,Yv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,bm(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Fv(t,e,n){var r=qh(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=qh(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&Ov(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Uv(t,e,n){return Object(Fo.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(Fo.d)(this,function(c){switch(c.label){case 0:return(r=qh(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Xf(pd.comparator)).insert(o,jd.newNoDocument(o,$h.min())),a=hp().add(o),u=new pp($h.min(),new Map,new np(zh),s,a),[4,Vv(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Jv(r),[3,4];case 2:return[4,Xm(r.localStore,e,!1).then(function(){return Gv(r,e,n)}).catch(bm)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function qv(t,e){return Object(Fo.b)(this,void 0,void 0,function(){var n,r,i;return Object(Fo.d)(this,function(o){switch(o.label){case 0:n=qh(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Wm(n.localStore,e)];case 2:return i=o.sent(),Kv(n,r,null),zv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Yv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,bm(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Bv(t,e,n){return Object(Fo.b)(this,void 0,void 0,function(){var r,i;return Object(Fo.d)(this,function(o){switch(o.label){case 0:r=qh(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=qh(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Uh(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),Kv(r,e,n),zv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Yv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,bm(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Hv(t,e){return Object(Fo.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Fo.d)(this,function(a){switch(a.label){case 0:Jy((n=qh(t)).remoteStore)||Rh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=qh(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=pv(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function zv(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Kv(t,e,n){var r=qh(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Gv(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Wv(t,e)})}function Wv(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Ky(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Jv(t))}function $v(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof xv?(t.No.addReference(o.key,e),Qv(t,o)):o instanceof Av?(Rh("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Wv(t,o.key)):Fh()}}function Qv(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Rh("SyncEngine","New document in limbo: "+n),t.So.add(r),Jv(t))}function Jv(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new pd(Xh.fromString(e)),r=t.ko.next();t.Co.set(r,new Pv(n)),t.Do=t.Do.insert(n,r),zy(t.remoteStore,new Ug(uf(tf(n.path)),r,2,kh.o))}}function Yv(t,e,n){return Object(Fo.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Fo.d)(this,function(a){switch(a.label){case 0:return r=qh(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Bm.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(Fo.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(Fo.d)(this,function(l){switch(l.label){case 0:n=qh(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Tg.forEach(e,function(e){return Tg.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Tg.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!jg(r=l.sent()))throw r;return Rh("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Zv(t,e){return Object(Fo.b)(this,void 0,void 0,function(){var n,r;return Object(Fo.d)(this,function(i){switch(i.label){case 0:return(n=qh(t)).currentUser.isEqual(e)?[3,3]:(Rh("SyncEngine","User change. New user:",e.toKey()),[4,Gm(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Ph(jh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Yv(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Xv(t,e){var n=qh(t),r=n.Co.get(e);if(r&&r.bo)return hp().add(r.key);var i=hp(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function tb(t,e){return Object(Fo.b)(this,void 0,void 0,function(){var n,r,i;return Object(Fo.d)(this,function(o){switch(o.label){case 0:return[4,ty((n=qh(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&$v(n,e.targetId,i.To),i)]}})})}function eb(t){return Object(Fo.b)(this,void 0,void 0,function(){var e;return Object(Fo.d)(this,function(n){return[2,ny((e=qh(t)).localStore).then(function(t){return Yv(e,t)})]})})}function nb(t,e,n,r){return Object(Fo.b)(this,void 0,void 0,function(){var i,o;return Object(Fo.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=qh(t),r=qh(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Tg.resolve(null)})})}((i=qh(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,rv(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Kv(i,e,r||null),zv(i,e),function(t,e){qh(qh(t)._n).Gt(e)}(i.localStore,e)):Fh(),s.label=4;case 4:return[4,Yv(i,o)];case 5:return s.sent(),[3,7];case 6:Rh("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function rb(t,e){return Object(Fo.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Fo.d)(this,function(c){switch(c.label){case 0:return cb(n=qh(t)),lb(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,ib(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,lv(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)zy(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Gv(n,e),Xm(n.localStore,e,!0)}),Ky(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,ib(n,a)];case 5:return c.sent(),function(t){var e=qh(t);e.Co.forEach(function(t,n){Ky(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Xf(pd.comparator)}(n),n.$o=!1,[4,lv(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function ib(t,e,n){return Object(Fo.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,d,f,p;return Object(Fo.d)(this,function(g){switch(g.label){case 0:n=qh(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,Zm(n.localStore,uf(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,tb(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,ey(n.localStore,a)];case 8:return p=g.sent(),[4,Zm(n.localStore,p)];case 9:return u=g.sent(),[4,Rv(n,ob(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function ob(t){return Xd(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function sb(t){var e=qh(t);return qh(qh(e.localStore).persistence).fn()}function ab(t,e,n,r){return Object(Fo.b)(this,void 0,void 0,function(){var i,o,s;return Object(Fo.d)(this,function(a){switch(a.label){case 0:return(i=qh(t)).$o?(Rh("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ny(i.localStore)];case 3:return o=a.sent(),s=pp.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Yv(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Xm(i.localStore,e,!0)];case 6:return a.sent(),Gv(i,e,r),[3,8];case 7:Fh(),a.label=8;case 8:return[2]}})})}function ub(t,e,n){return Object(Fo.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(Fo.d)(this,function(d){switch(d.label){case 0:if(!(r=cb(t)).$o)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Rh("SyncEngine","Adding an already active target "+s),[3,5]):[4,ey(r.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,Zm(r.localStore,a)];case 3:return u=d.sent(),[4,Rv(r,ob(a),u.targetId,!1)];case 4:d.sent(),zy(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Fo.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Xm(r.localStore,t,!1).then(function(){Ky(r.remoteStore,t),Gv(r,t)}).catch(bm)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function cb(t){var e=qh(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Uv.bind(null,e),e.vo._r=Ev.bind(null,e.eventManager),e.vo.Mo=Cv.bind(null,e.eventManager),e}function lb(t){var e=qh(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bv.bind(null,e),e}var hb=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Fo.b)(this,void 0,void 0,function(){return Object(Fo.d)(this,function(e){switch(e.label){case 0:return this.R=Dy(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Km(this.persistence,new Hm,t.initialUser,this.R)},t.prototype.qo=function(t){return new fy(gy.bs,this.R)},t.prototype.Bo=function(t){return new Ty},t.prototype.terminate=function(){return Object(Fo.b)(this,void 0,void 0,function(){return Object(Fo.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),db=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Fo.c)(e,t),e.prototype.initialize=function(e){return Object(Fo.b)(this,void 0,void 0,function(){return Object(Fo.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,ry(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,lb(this.Qo.syncEngine)];case 4:return n.sent(),[4,rv(this.Qo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ko=function(t){return Km(this.persistence,new Hm,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Em(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Fm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?sm.withCacheSize(this.cacheSizeBytes):sm.DEFAULT;return new Lm(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Py(),Ny(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Ty},e}(hb),fb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Fo.c)(e,t),e.prototype.initialize=function(e){return Object(Fo.b)(this,void 0,void 0,function(){var n,r=this;return Object(Fo.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Sy?(this.sharedClientState.syncEngine={ui:nb.bind(null,n),ai:ab.bind(null,n),hi:ub.bind(null,n),fn:sb.bind(null,n),ci:eb.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(Fo.b)(r,void 0,void 0,function(){return Object(Fo.d)(this,function(e){switch(e.label){case 0:return[4,rb(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Py();if(!Sy.yt(e))throw new Ph(jh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Fm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Sy(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(db),pb=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Fo.b)(this,void 0,void 0,function(){var n=this;return Object(Fo.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Fv(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Zv.bind(null,this.syncEngine),[4,lv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new bv},t.prototype.createDatastore=function(t){var e=Dy(t.databaseInfo.databaseId),n=new jy(t.databaseInfo);return function(t,e,n){return new Fy(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Fv(s.syncEngine,t,0)},o=xy.yt()?new xy:new Iy,new qy(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Nv(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Fo.b)(this,void 0,void 0,function(){var e;return Object(Fo.d)(this,function(n){switch(n.label){case 0:return e=qh(t),Rh("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Hy(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),gb=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),mb=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Sg,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Fo.b)(this,void 0,void 0,function(){return Object(Fo.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(Fo.b)(this,void 0,void 0,function(){return Object(Fo.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(Fo.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Fo.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Tv(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(Fo.b)(this,void 0,void 0,function(){var t,e;return Object(Fo.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(Fo.b)(this,void 0,void 0,function(){var e;return Object(Fo.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Fo.b)(this,void 0,void 0,function(){var t,e;return Object(Fo.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Fo.b)(this,void 0,void 0,function(){var e,n=this;return Object(Fo.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ph(jh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Fo.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(Fo.d)(this,function(u){switch(u.label){case 0:return n=qh(t),r=Lp(n.R)+"/documents",i={documents:e.map(function(t){return Pp(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Uh(!!e.found);var n=Np(t,e.found.name),r=Ap(e.found.updateTime),i=new Ad({mapValue:{fields:e.found.fields}});return jd.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Uh(!!e.missing),Uh(!!e.readTime);var n=Np(t,e.missing),r=Ap(e.readTime);return jd.newNoDocument(n,r)}(t,e):Fh()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Uh(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new $f(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Fo.b)(this,void 0,void 0,function(){var t,e=this;return Object(Fo.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=pd.fromPath(n);e.mutations.push(new Qf(r,e.precondition(r)))}),[4,function(t,e){return Object(Fo.b)(this,void 0,void 0,function(){var n,r,i;return Object(Fo.d)(this,function(o){switch(o.label){case 0:return n=qh(t),r=Lp(n.R)+"/documents",i={writes:e.map(function(t){return Up(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Fh();e=$h.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ph(jh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Nf.updateTime(e):Nf.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual($h.min()))throw new Ph(jh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nf.updateTime(e)}return Nf.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),yb=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Ry(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(Fo.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Fo.d)(this,function(r){return t=new mb(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!hd(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Yf(e)}return!1},t}(),vb=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=my.UNAUTHENTICATED,this.clientId=Hh.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(Fo.b)(r,void 0,void 0,function(){return Object(Fo.d)(this,function(e){switch(e.label){case 0:return Rh("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(Fo.b)(this,void 0,void 0,function(){return Object(Fo.d)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ph(jh.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Sg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Fo.b)(t,void 0,void 0,function(){var t,n;return Object(Fo.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=pv(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function bb(t,e){return Object(Fo.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Fo.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Rh("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(Fo.b)(i,void 0,void 0,function(){return Object(Fo.d)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Gm(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function wb(t,e){return Object(Fo.b)(this,void 0,void 0,function(){var n,r;return Object(Fo.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,_b(t)];case 1:return n=i.sent(),Rh("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(Fo.b)(this,void 0,void 0,function(){var n,r;return Object(Fo.d)(this,function(i){switch(i.label){case 0:return(n=qh(t)).asyncQueue.verifyOperationInProgress(),Rh("RemoteStore","RemoteStore received new credentials"),r=Jy(n),n.Or.add(3),[4,Hy(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,By(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function _b(t){return Object(Fo.b)(this,void 0,void 0,function(){return Object(Fo.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Rh("FirestoreClient","Using default OfflineComponentProvider"),[4,bb(t,new hb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Eb(t){return Object(Fo.b)(this,void 0,void 0,function(){return Object(Fo.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Rh("FirestoreClient","Using default OnlineComponentProvider"),[4,wb(t,new pb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Cb(t){return _b(t).then(function(t){return t.persistence})}function Ob(t){return _b(t).then(function(t){return t.localStore})}function Sb(t){return Eb(t).then(function(t){return t.remoteStore})}function Tb(t){return Eb(t).then(function(t){return t.syncEngine})}function Ib(t){return Object(Fo.b)(this,void 0,void 0,function(){var e,n;return Object(Fo.d)(this,function(r){switch(r.label){case 0:return[4,Eb(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Dv.bind(null,e.syncEngine),n.onUnlisten=Lv.bind(null,e.syncEngine),n)]}})})}function xb(t,e,n){var r=this;void 0===n&&(n={});var i=new Sg;return t.asyncQueue.enqueueAndForget(function(){return Object(Fo.b)(r,void 0,void 0,function(){var r;return Object(Fo.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new gb({next:function(o){e.enqueueAndForget(function(){return _v(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Ph(jh.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Ph(jh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Sv(tf(n.path),o,{includeMetadataChanges:!0,so:!0});return wv(t,s)},[4,Ib(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Ab(t,e,n){var r=this;void 0===n&&(n={});var i=new Sg;return t.asyncQueue.enqueueAndForget(function(){return Object(Fo.b)(r,void 0,void 0,function(){var r;return Object(Fo.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new gb({next:function(n){e.enqueueAndForget(function(){return _v(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Ph(jh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Sv(n,o,{includeMetadataChanges:!0,so:!0});return wv(t,s)},[4,Ib(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var kb=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},jb=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Pb=new Map,Nb=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Db=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(my.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Rb=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Lb=function(){function t(t){var e=this;this.currentUser=my.UNAUTHENTICATED,this.oc=new Sg,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){Rh("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Rh("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Rh("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Uh("string"==typeof n.accessToken),new Nb(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Object(Fo.b)(n,void 0,void 0,function(){return Object(Fo.d)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Uh(null===t||"string"==typeof t),new my(t)},t}(),Mb=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=my.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Vb=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Mb(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(my.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Fb(t,e,n){if(!n)throw new Ph(jh.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Ub(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ph(jh.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function qb(t,e,n,r){if(!0===e&&!0===r)throw new Ph(jh.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Bb(t){if(!pd.isDocumentKey(t))throw new Ph(jh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Hb(t){if(pd.isDocumentKey(t))throw new Ph(jh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function zb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Fh()}function Kb(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ph(jh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=zb(t);throw new Ph(jh.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Gb(t,e){if(e<=0)throw new Ph(jh.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Wb=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ph(jh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ph(jh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,qb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),$b=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wb({}),this._settingsFrozen=!1,t instanceof jb?(this._databaseId=t,this._credentials=new Db):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ph(jh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jb(t.options.projectId)}(t),this._credentials=new Lb(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Ph(jh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Ph(jh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wb(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Db;switch(t.type){case"gapi":var e=t.client;return Uh(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Vb(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ph(jh.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Pb.get(this))&&(Rh("ComponentProvider","Removing Datastore"),Pb.delete(this),t.terminate()),Promise.resolve();var t},t}(),Qb=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Yb(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Jb=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Yb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,tf(r))||this)._path=r,i.type="collection",i}return Object(Fo.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Qb(this.firestore,null,new pd(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Jb);function Zb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(_a.h)(t),Fb("collection","path",e),t instanceof $b)return Hb(n=Xh.fromString.apply(Xh,Object(Fo.f)([e],r))),new Yb(t,null,n);if(!(t instanceof Qb||t instanceof Yb))throw new Ph(jh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Hb(n=Xh.fromString.apply(Xh,Object(Fo.f)([t.path],r)).child(Xh.fromString(e))),new Yb(t.firestore,null,n)}function Xb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(_a.h)(t),1===arguments.length&&(e=Hh.u()),Fb("doc","path",e),t instanceof $b)return Bb(n=Xh.fromString.apply(Xh,Object(Fo.f)([e],r))),new Qb(t,null,new pd(n));if(!(t instanceof Qb||t instanceof Yb))throw new Ph(jh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Bb(n=t._path.child(Xh.fromString.apply(Xh,Object(Fo.f)([e],r)))),new Qb(t.firestore,t instanceof Yb?t.converter:null,new pd(n))}function tw(t,e){return t=Object(_a.h)(t),e=Object(_a.h)(e),(t instanceof Qb||t instanceof Yb)&&(e instanceof Qb||e instanceof Yb)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function ew(t,e){return t=Object(_a.h)(t),e=Object(_a.h)(e),t instanceof Jb&&e instanceof Jb&&t.firestore===e.firestore&&lf(t._query,e._query)&&t.converter===e.converter}var nw=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new Ry(this,"async_queue_retry"),this.Tc=function(){var e=Ny();e&&Rh("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Ny();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ic(),this.Ac(t)},t.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var t=Ny();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Tc)}},t.prototype.enqueue=function(t){return this.Ic(),this._c?new Promise(function(t){}):this.Ac(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.Rc()})},t.prototype.Rc=function(){return Object(Fo.b)(this,void 0,void 0,function(){var t,e=this;return Object(Fo.d)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!jg(t=n.sent()))throw t;return Rh("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.Rc()}),n.label=5;case 5:return[2]}})})},t.prototype.Ac=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,Lh("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ic(),this.Ec.indexOf(t)>-1&&(e=0);var i=fv.createAndSchedule(this,t,e,n,function(t){return r.bc(t)});return this.mc.push(i),i},t.prototype.Ic=function(){this.yc&&Fh()},t.prototype.verifyOperationInProgress=function(){},t.prototype.vc=function(){return Object(Fo.b)(this,void 0,void 0,function(){var t;return Object(Fo.d)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Pc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Vc=function(t){var e=this;return this.vc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.vc()})},t.prototype.Sc=function(t){this.Ec.push(t)},t.prototype.bc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function rw(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Sg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var iw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new nw,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Fo.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||sw(this),this._firestoreClient.terminate()},e}($b);function ow(t){return t._firestoreClient||sw(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function sw(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new kb(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new vb(t._credentials,t._queue,r)}function aw(t,e,n){var r=this,i=new Sg;return t.asyncQueue.enqueue(function(){return Object(Fo.b)(r,void 0,void 0,function(){var r;return Object(Fo.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,bb(t,n)];case 1:return o.sent(),[4,wb(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===jh.FAILED_PRECONDITION||t.code===jh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function uw(t){if(t._initialized||t._terminated)throw new Ph(jh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var cw=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ph(jh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ed(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),lw=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(rd.fromBase64String(e))}catch(e){throw new Ph(jh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(rd.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),hw=function(t){this._methodName=t},dw=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ph(jh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ph(jh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return zh(this._lat,t._lat)||zh(this._long,t._long)},t}(),fw=/^__.*__$/,pw=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Bf(t,this.data,this.fieldMask,e,this.fieldTransforms):new qf(t,this.data,e,this.fieldTransforms)},t}(),gw=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Bf(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function mw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fh()}}var yw=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),t.prototype.Nc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.xc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.kc(t),r},t.prototype.$c=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.Dc(),r},t.prototype.Oc=function(t){return this.Nc({path:void 0,Fc:!0})},t.prototype.Mc=function(t){return Mw(t,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Dc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.kc(this.path.get(t))},t.prototype.kc=function(t){if(0===t.length)throw this.Mc("Document fields must not be empty");if(mw(this.Cc)&&fw.test(t))throw this.Mc('Document fields cannot begin and end with "__"')},t}(),vw=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Dy(t)}return t.prototype.qc=function(t,e,n,r){return void 0===r&&(r=!1),new yw({Cc:t,methodName:e,Bc:n,path:ed.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function bw(t){var e=t._freezeSettings(),n=Dy(t._databaseId);return new vw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ww(t,e,n,r,i,o){void 0===o&&(o={});var s=t.qc(o.merge||o.mergeFields?2:0,e,n,i);Nw("Data must be an object, but it was:",s,r);var a,u,c=jw(r,s);if(o.merge)a=new nd(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=Dw(e,d[h],n);if(!s.contains(f))throw new Ph(jh.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Vw(l,f)||l.push(f)}a=new nd(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new pw(new Ad(c),a,u)}var _w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fo.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Cc)throw t.Mc(1===t.Cc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(hw);function Ew(t,e,n){return new yw({Cc:3,Bc:e.settings.Bc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Cw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fo.c)(e,t),e.prototype._toFieldTransform=function(t){return new jf(t.path,new Cf)},e.prototype.isEqual=function(t){return t instanceof e},e}(hw),Ow=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(Fo.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Ew(this,t,!0),n=this.Uc.map(function(t){return kw(t,e)}),r=new Of(n);return new jf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(hw),Sw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(Fo.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Ew(this,t,!0),n=this.Uc.map(function(t){return kw(t,e)}),r=new Tf(n);return new jf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(hw),Tw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(Fo.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new xf(t.R,vf(t.R,this.Kc));return new jf(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(hw);function Iw(t,e,n,r){var i=t.qc(1,e,n);Nw("Data must be an object, but it was:",i,r);var o=[],s=Ad.empty();Jh(r,function(t,r){var a=Lw(e,t,n);r=Object(_a.h)(r);var u=i.$c(a);if(r instanceof _w)o.push(a);else{var c=kw(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new nd(o);return new gw(s,a,i.fieldTransforms)}function xw(t,e,n,r,i,o){var s=t.qc(1,e,n),a=[Dw(e,r,n)],u=[i];if(o.length%2!=0)throw new Ph(jh.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Dw(e,o[c])),u.push(o[c+1]);for(var l=[],h=Ad.empty(),d=a.length-1;d>=0;--d)if(!Vw(l,a[d])){var f=a[d],p=u[d];p=Object(_a.h)(p);var g=s.$c(f);if(p instanceof _w)l.push(f);else{var m=kw(p,g);null!=m&&(l.push(f),h.set(f,m))}}var y=new nd(l);return new gw(h,y,s.fieldTransforms)}function Aw(t,e,n,r){return void 0===r&&(r=!1),kw(n,t.qc(r?4:3,e))}function kw(t,e){if(Pw(t=Object(_a.h)(t)))return Nw("Unsupported field value:",e,t),jw(t,e);if(t instanceof hw)return function(t,e){if(!mw(e.Cc))throw e.Mc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Mc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Cc)throw e.Mc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=kw(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(_a.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return vf(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Wh.fromDate(t);return{timestampValue:Tp(e.R,n)}}if(t instanceof Wh)return n=new Wh(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Tp(e.R,n)};if(t instanceof dw)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof lw)return{bytesValue:Ip(e.R,t._byteString)};if(t instanceof Qb){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:kp(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Mc("Unsupported field value: "+zb(t))}(t,e)}function jw(t,e){var n={};return Yh(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jh(t,function(t,r){var i=kw(r,e.xc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Pw(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Wh||t instanceof dw||t instanceof lw||t instanceof Qb||t instanceof hw)}function Nw(t,e,n){if(!Pw(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=zb(n);throw e.Mc("an object"===r?t+" a custom object":t+" "+r)}}function Dw(t,e,n){if((e=Object(_a.h)(e))instanceof cw)return e._internalPath;if("string"==typeof e)return Lw(t,e);throw Mw("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Rw=new RegExp("[~\\*/\\[\\]]");function Lw(t,e,n){if(e.search(Rw)>=0)throw Mw("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(cw.bind.apply(cw,Object(Fo.f)([void 0],e.split(".")))))._internalPath}catch(M_){throw Mw("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Mw(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Ph(jh.INVALID_ARGUMENT,(a+=". ")+t+u)}function Vw(t,e){return t.some(function(t){return t.isEqual(e)})}var Fw=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Qb(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Uw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(qw("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Uw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fo.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Fw);function qw(t,e){return"string"==typeof e?Lw(t,e):e instanceof cw?e._internalPath:e._delegate._internalPath}var Bw=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Hw=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(Fo.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new zw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(qw("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Fw),zw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fo.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Hw),Kw=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Bw(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new zw(n._firestore,n._userDataWriter,r.key,r,new Bw(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ph(jh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new zw(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Bw(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new zw(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Bw(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Gw(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Gw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fh()}}function Ww(t,e){return t instanceof Hw&&e instanceof Hw?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Kw&&e instanceof Kw&&t._firestore===e._firestore&&ew(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function $w(t){if(nf(t)&&0===t.explicitOrderBy.length)throw new Ph(jh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qw=function(){};function Jw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Yw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.jc=n,i.Wc=r,i.type="where",i}return Object(Fo.c)(e,t),e.prototype._apply=function(t){var e=bw(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ph(jh.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){i_(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(r_(r,t,l[c]));a={arrayValue:{values:u}}}else a=r_(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||i_(s,o),a=Aw(n,"where",s,"in"===o||"not-in"===o);var h=Md.create(i,o,a);return function(t,e){if(e.g()){var n=of(t);if(null!==n&&!n.isEqual(e.field))throw new Ph(jh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=rf(t);null!==r&&o_(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Ph(jh.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.jc,this.Wc);return new Jb(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Zd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Qw),Zw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Gc=n,r.type="orderBy",r}return Object(Fo.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ph(jh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ph(jh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new $d(e,n);return function(t,e){if(null===rf(t)){var n=of(t);null!==n&&o_(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Gc);return new Jb(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Zd(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Qw),Xw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return Object(Fo.c)(e,t),e.prototype._apply=function(t){return new Jb(t.firestore,t.converter,cf(t._query,this.zc,this.Hc))},e}(Qw),t_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(Fo.c)(e,t),e.prototype._apply=function(t){var e=n_(t,this.type,this.Jc,this.Yc);return new Jb(t.firestore,t.converter,function(t,e){return new Zd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Qw),e_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(Fo.c)(e,t),e.prototype._apply=function(t){var e=n_(t,this.type,this.Jc,this.Yc);return new Jb(t.firestore,t.converter,function(t,e){return new Zd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Qw);function n_(t,e,n,r){if(n[0]=Object(_a.h)(n[0]),n[0]instanceof Fw)return function(t,e,n,r,i){if(!r)throw new Ph(jh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=af(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Ed(e,r.key));else{var c=r.data.field(u.field);if(ud(c))throw new Ph(jh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Ph(jh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Gd(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=bw(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Ph(jh.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Ph(jh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!sf(t)&&-1!==c.indexOf("/"))throw new Ph(jh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Xh.fromString(c));if(!pd.isDocumentKey(l))throw new Ph(jh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new pd(l);a.push(Ed(e,h))}else{var d=Aw(n,r,c);a.push(d)}}return new Gd(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function r_(t,e,n){if("string"==typeof(n=Object(_a.h)(n))){if(""===n)throw new Ph(jh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!sf(e)&&-1!==n.indexOf("/"))throw new Ph(jh.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Xh.fromString(n));if(!pd.isDocumentKey(r))throw new Ph(jh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ed(t,new pd(r))}if(n instanceof Qb)return Ed(t,n._key);throw new Ph(jh.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+zb(n)+".")}function i_(t,e){if(!Array.isArray(t)||0===t.length)throw new Ph(jh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ph(jh.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function o_(t,e,n){if(!n.isEqual(e))throw new Ph(jh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var s_=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),gd(t)){case 0:return null;case 1:return t.booleanValue;case 2:return sd(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ad(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Fh()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Jh(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new dw(sd(t.latitude),sd(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=cd(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ld(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=od(t);return new Wh(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Xh.fromString(t);Uh(eg(n));var r=new jb(n.get(1),n.get(3)),i=new pd(n.popFirst(5));return r.isEqual(e)||Lh("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function a_(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var u_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Fo.c)(e,t),e.prototype.convertBytes=function(t){return new lw(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Qb(this.firestore,null,e)},e}(s_),c_=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=bw(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=l_(t,this._firestore),i=a_(r.converter,e,n),o=ww(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Nf.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=l_(t,this._firestore);return o="string"==typeof(e=Object(_a.h)(e))||e instanceof cw?xw(this._dataReader,"WriteBatch.update",s._key,e,n,r):Iw(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Nf.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=l_(t,this._firestore);return this._mutations=this._mutations.concat(new $f(e._key,Nf.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ph(jh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function l_(t,e){if((t=Object(_a.h)(t)).firestore!==e)throw new Ph(jh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var h_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Fo.c)(e,t),e.prototype.convertBytes=function(t){return new lw(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Qb(this.firestore,null,e)},e}(s_);function d_(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Kb(t,Qb);var o=Kb(t.firestore,iw),s=bw(o);return p_(o,[("string"==typeof(e=Object(_a.h)(e))||e instanceof cw?xw(s,"updateDoc",t._key,e,n,r):Iw(s,"updateDoc",t._key,e)).toMutation(t._key,Nf.exists(!0))])}function f_(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(_a.h)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||rw(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(rw(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Qb)c=Kb(t.firestore,iw),l=tf(t._key.path),u={next:function(e){i[a]&&i[a](g_(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=Kb(t,Jb);c=Kb(f.firestore,iw),l=f._query;var p=new h_(c);u={next:function(t){i[a]&&i[a](new Kw(c,p,f,t))},error:i[a+1],complete:i[a+2]},$w(t._query)}return function(t,e,n,r){var i=this,o=new gb(r),s=new Sv(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Fo.b)(i,void 0,void 0,function(){var e;return Object(Fo.d)(this,function(n){switch(n.label){case 0:return e=wv,[4,Ib(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Fo.b)(i,void 0,void 0,function(){var e;return Object(Fo.d)(this,function(n){switch(n.label){case 0:return e=_v,[4,Ib(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(ow(c),l,h,u)}function p_(t,e){return function(t,e){var n=this,r=new Sg;return t.asyncQueue.enqueueAndForget(function(){return Object(Fo.b)(n,void 0,void 0,function(){var n;return Object(Fo.d)(this,function(i){switch(i.label){case 0:return n=Mv,[4,Tb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(ow(t),e)}function g_(t,e,n){var r=n.docs.get(e._key),i=new h_(t);return new Hw(t,i,e._key,r,new Bw(n.hasPendingWrites,n.fromCache),e.converter)}var m_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Fo.c)(e,t),e.prototype.get=function(e){var n=this,r=l_(e,this._firestore),i=new h_(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Hw(n._firestore,i,r._key,t._document,new Bw(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=bw(t)}return t.prototype.get=function(t){var e=this,n=l_(t,this._firestore),r=new u_(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Fh();var i=t[0];if(i.isFoundDocument())return new Fw(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Fw(e._firestore,r,n._key,null,n.converter);throw Fh()})},t.prototype.set=function(t,e,n){var r=l_(t,this._firestore),i=a_(r.converter,e,n),o=ww(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=l_(t,this._firestore);return o="string"==typeof(e=Object(_a.h)(e))||e instanceof cw?xw(this._dataReader,"Transaction.update",s._key,e,n,r):Iw(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=l_(t,this._firestore);return this._transaction.delete(e._key),this},t}());function y_(){if("undefined"==typeof Uint8Array)throw new Ph(jh.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function v_(){if("undefined"==typeof atob)throw new Ph(jh.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var b_=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return v_(),new t(lw.fromBase64String(e))},t.fromUint8Array=function(e){return y_(),new t(lw.fromUint8Array(e))},t.prototype.toBase64=function(){return v_(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return y_(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),w_=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){uw(t=Kb(t,iw));var n=ow(t),r=t._freezeSettings(),i=new pb;return aw(n,i,new db(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){uw(t=Kb(t,iw));var e=ow(t),n=t._freezeSettings(),r=new pb;return aw(e,r,new fb(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Ph(jh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Sg;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Fo.b)(e,void 0,void 0,function(){var e;return Object(Fo.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Fo.b)(this,void 0,void 0,function(){return Object(Fo.d)(this,function(e){switch(e.label){case 0:return xg.yt()?[4,xg.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Fm(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),__=function(){function t(t,e,n){var r=this;this._delegate=e,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof jb||(this.Zc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Mh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=Kb(t,$b))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Mh("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=Object(_a.d)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Ph(jh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Rb(new Nb(o,new my(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Fo.b)(e,void 0,void 0,function(){var e,n;return Object(Fo.d)(this,function(r){switch(r.label){case 0:return[4,Cb(t)];case 1:return e=r.sent(),[4,Sb(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=qh(t);return e.Or.delete(0),By(e)}(n))]}})})})}(ow(Kb(this._delegate,iw)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Fo.b)(e,void 0,void 0,function(){var e,n;return Object(Fo.d)(this,function(r){switch(r.label){case 0:return[4,Cb(t)];case 1:return e=r.sent(),[4,Sb(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Fo.b)(this,void 0,void 0,function(){var e;return Object(Fo.d)(this,function(n){switch(n.label){case 0:return(e=qh(t)).Or.add(0),[4,Hy(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(ow(Kb(this._delegate,iw)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&qb("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Sg;return t.asyncQueue.enqueueAndForget(function(){return Object(Fo.b)(e,void 0,void 0,function(){var e;return Object(Fo.d)(this,function(r){switch(r.label){case 0:return e=Hv,[4,Tb(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(ow(Kb(this._delegate,iw)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new gb(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Fo.b)(n,void 0,void 0,function(){var e;return Object(Fo.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){qh(t).Gr.add(e),e.next()},[4,Ib(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Fo.b)(n,void 0,void 0,function(){var e;return Object(Fo.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){qh(t).Gr.delete(e)},[4,Ib(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(ow(t=Kb(t,iw)),rw(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Zc)throw new Ph(jh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new R_(this,Zb(this._delegate,t))}catch(t){throw I_(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new T_(this,Xb(this._delegate,t))}catch(t){throw I_(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new P_(this,function(t,e){if(t=Kb(t,$b),Fb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ph(jh.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Jb(t,null,function(t){return new Zd(Xh.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw I_(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Sg;return t.asyncQueue.enqueueAndForget(function(){return Object(Fo.b)(n,void 0,void 0,function(){var n;return Object(Fo.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Eb(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new yb(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(ow(t),function(n){return e(new m_(t,n))})}(this._delegate,function(n){return t(new C_(e,n))})},t.prototype.batch=function(){var t=this;return ow(this._delegate),new O_(new c_(this._delegate,function(e){return p_(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Ph(jh.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Ph(jh.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),E_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Fo.c)(e,t),e.prototype.convertBytes=function(t){return new b_(new lw(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return T_.tu(e,this.firestore,null)},e}(s_),C_=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new E_(t)}return t.prototype.get=function(t){var e=this,n=L_(t);return this._delegate.get(n).then(function(t){return new k_(e._firestore,new Hw(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=L_(t);return n?(Ub("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=L_(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Fo.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=L_(t);return this._delegate.delete(e),this},t}(),O_=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=L_(t);return n?(Ub("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=L_(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Fo.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=L_(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),S_=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new zw(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new j_(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.eu=function(e,n){var r=t.nu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new E_(e),n),i.set(n,o)),o},t}();S_.nu=new WeakMap;var T_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new E_(t)}return t.su=function(e,n,r){if(e.length%2!=0)throw new Ph(jh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Qb(n._delegate,r,new pd(e)))},t.tu=function(e,n,r){return new t(n,new Qb(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new R_(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new R_(this.firestore,Zb(this._delegate,t))}catch(t){throw I_(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(_a.h)(t))instanceof Qb&&tw(this._delegate,t)},t.prototype.set=function(t,e){e=Ub("DocumentReference.set",e);try{return function(t,e,n){t=Kb(t,Qb);var r=Kb(t.firestore,iw),i=a_(t.converter,e,n);return p_(r,[ww(bw(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Nf.none())])}(this._delegate,t,e)}catch(t){throw I_(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?d_(this._delegate,t):d_.apply(void 0,Object(Fo.f)([this._delegate,t,e],n))}catch(t){throw I_(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return p_(Kb((t=this._delegate).firestore,iw),[new $f(t._key,Nf.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=x_(e),i=A_(e,function(e){return new k_(t.firestore,new Hw(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return f_(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Kb(t,Qb);var e=Kb(t.firestore,iw),n=ow(e),r=new h_(e);return function(t,e){var n=this,r=new Sg;return t.asyncQueue.enqueueAndForget(function(){return Object(Fo.b)(n,void 0,void 0,function(){var n;return Object(Fo.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Fo.b)(this,void 0,void 0,function(){var r,i;return Object(Fo.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=qh(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Ph(jh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=pv(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Ob(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Hw(e,r,t._key,n,new Bw(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Kb(t,Qb);var e=Kb(t.firestore,iw);return xb(ow(e),t._key,{source:"server"}).then(function(n){return g_(e,t,n)})}(this._delegate):function(t){t=Kb(t,Qb);var e=Kb(t.firestore,iw);return xb(ow(e),t._key).then(function(n){return g_(e,t,n)})}(this._delegate)).then(function(t){return new k_(e.firestore,new Hw(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?S_.eu(this.firestore,e):null))},t}();function I_(t,e,n){return t.message=t.message.replace(e,n),t}function x_(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!rw(r))return r}return{}}function A_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=rw(t[0])?t[0]:rw(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var k_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new T_(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Ww(this._delegate,t._delegate)},t}(),j_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fo.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(k_),P_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new E_(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Jw(this._delegate,function(t,e,n){var r=e,i=qw("where",t);return new Yw(i,r,n)}(e,n,r)))}catch(e){throw I_(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Jw(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=qw("orderBy",t);return new Zw(r,n)}(e,n)))}catch(e){throw I_(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Jw(this._delegate,function(t){return Gb("limit",t),new Xw("limit",t,"F")}(e)))}catch(e){throw I_(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Jw(this._delegate,function(t){return Gb("limitToLast",t),new Xw("limitToLast",t,"L")}(e)))}catch(e){throw I_(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Jw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new t_("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw I_(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Jw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new t_("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw I_(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Jw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new e_("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw I_(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Jw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new e_("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw I_(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return ew(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Kb(t,Jb);var e=Kb(t.firestore,iw),n=ow(e),r=new h_(e);return function(t,e){var n=this,r=new Sg;return t.asyncQueue.enqueueAndForget(function(){return Object(Fo.b)(n,void 0,void 0,function(){var n;return Object(Fo.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Fo.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(Fo.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,ty(t,e,!0)];case 1:return a=u.sent(),r=new kv(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=pv(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Ob(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Kw(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Kb(t,Jb);var e=Kb(t.firestore,iw),n=ow(e),r=new h_(e);return Ab(n,t._query,{source:"server"}).then(function(n){return new Kw(e,r,t,n)})}(this._delegate):function(t){t=Kb(t,Jb);var e=Kb(t.firestore,iw),n=ow(e),r=new h_(e);return $w(t._query),Ab(n,t._query).then(function(n){return new Kw(e,r,t,n)})}(this._delegate)).then(function(t){return new D_(e.firestore,new Kw(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=x_(e),i=A_(e,function(e){return new D_(t.firestore,new Kw(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return f_(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?S_.eu(this.firestore,e):null))},t}(),N_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new j_(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),D_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new P_(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new j_(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new N_(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new j_(n._firestore,r))})},t.prototype.isEqual=function(t){return Ww(this._delegate,t._delegate)},t}(),R_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Fo.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new T_(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new T_(this.firestore,void 0===t?Xb(this._delegate):Xb(this._delegate,t))}catch(t){throw I_(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Kb(t.firestore,iw),r=Xb(t),i=a_(t.converter,e);return p_(n,[ww(bw(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Nf.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new T_(e.firestore,t)})},e.prototype.isEqual=function(t){return tw(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?S_.eu(this.firestore,t):null))},e}(P_);function L_(t){return Kb(t,Qb)}var M_,V_=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(cw.bind.apply(cw,Object(Fo.f)([void 0],t)))}return t.documentId=function(){return new t(ed.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(_a.h)(t))instanceof cw&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),F_=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Cw("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new _w("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ow("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Sw("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Tw("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),U_=n("/6Yf"),q_={Firestore:__,GeoPoint:dw,Timestamp:Wh,Blob:b_,Transaction:C_,WriteBatch:O_,DocumentReference:T_,DocumentSnapshot:k_,Query:P_,QueryDocumentSnapshot:j_,QuerySnapshot:D_,CollectionReference:R_,FieldPath:V_,FieldValue:F_,setLogLevel:function(t){Nh.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function B_(t,e){return function(t,e=fa.a){return new gt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function H_(t,e){return B_(t,e).pipe(Object(yt.a)(t=>({payload:t,type:"query"})))}function z_(t,e){return H_(t,e).pipe(fn(void 0),pa(),Object(yt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function K_(t,e,n){return z_(t,n).pipe(pn((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return G_(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return G_(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return G_(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new ya(void 0,void 0)),Object(yt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function G_(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function W_(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new U_.a("firestore",function(t){return function(t,e){return new __(t,new iw(t,e),new w_)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},q_)))})(M_=wa.a),M_.registerVersion("@firebase/firestore","2.3.8");class $_{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=z_(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(yt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(fn(void 0),pa(),yn(([t,e])=>e.length>0||!t),Object(yt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(pn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=W_(t);return K_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return H_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(yt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(bt.a)(this.query.get(t)).pipe(Object(ws.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Q_(this.ref.doc(t),this.afs)}}class Q_{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=eE(n,e);return new $_(r,i,this.afs)}snapshotChanges(){return B_(this.ref,this.afs.schedulers.outsideAngular).pipe(fn(void 0),pa(),Object(yt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(yt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(bt.a)(this.ref.get(t)).pipe(Object(ws.b)(this.afs.schedulers.insideAngular))}}class J_{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?z_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(yt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),yn(t=>t.length>0),this.afs.keepUnstableUntilFirst):z_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(pn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=W_(t);return K_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return H_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(yt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(bt.a)(this.query.get(t)).pipe(Object(ws.b)(this.afs.schedulers.insideAngular))}}const Y_=new r.q("angularfire2.enableFirestorePersistence"),Z_=new r.q("angularfire2.firestore.persistenceSettings"),X_=new r.q("angularfire2.firestore.settings"),tE=new r.q("angularfire2.firestore.use-emulator");function eE(t,e=(t=>t)){return{query:e(t),ref:t}}let nE=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new xs.d(o),this.keepUnstableUntilFirst=Object(xs.h)(this.schedulers);const c=Object(xs.g)(t,o,e);!ba.a.auth&&u&&Object(xs.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(xs.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!L(i)){const e=()=>{try{return Object(bt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(M_){return"undefined"!=typeof console&&console.warn(M_),Object(Fe.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Fe.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=eE(n,e),o=this.schedulers.ngZone.run(()=>r);return new $_(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new J_(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Q_(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(xs.c),r.Pb(xs.b,8),r.Pb(Y_,8),r.Pb(X_,8),r.Pb(r.B),r.Pb(r.z),r.Pb(Z_,8),r.Pb(tE,8),r.Pb(As,8))},t.\u0275prov=r.Eb({factory:function(){return new t(r.Pb(xs.c),r.Pb(xs.b,8),r.Pb(Y_,8),r.Pb(X_,8),r.Pb(r.B),r.Pb(r.z),r.Pb(Z_,8),r.Pb(tE,8),r.Pb(As,8))},token:t,providedIn:"any"}),t})(),rE=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Y_,useValue:!0},{provide:Z_,useValue:e}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[nE]}),t})();const iE=[{path:"signup",component:da},{path:"login",component:Ks},{path:"",component:Gs}];let oE=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[Vo]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[],imports:[[pt,Io.forRoot(iE),Ve,ys,xs.a.initializeApp(o),rE]]}),t})();Object(r.S)(),dt().bootstrapModule(oE).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);